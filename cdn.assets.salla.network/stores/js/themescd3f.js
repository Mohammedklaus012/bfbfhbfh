function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);}/*!
* Bootstrap v3.3.5 (http://getbootstrap.com)
* Copyright 2011-2015 Twitter, Inc.
* Licensed under the MIT license
*/if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b){if(void 0!==a.style[c])return{end:b[c]};}return!1;}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0;});var e=function e(){c||a(d).trigger(a.support.transition.end);};return setTimeout(e,b),this;},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function handle(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0;}});});}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c);});}var c='[data-dismiss="alert"]',d=function d(b){a(b).on("click",c,this.close);};d.VERSION="3.3.5",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove();}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c());};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this;},a(document).on("click.bs.alert.data-api",c,d.prototype.close);}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==_typeof(b)&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b);});}var c=function c(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1;};c.VERSION="3.3.5",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c));},this),0);},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change");}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active");};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this;},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),a(c.target).is('input[type="radio"]')||a(c.target).is('input[type="checkbox"]')||c.preventDefault();}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type));});}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==_typeof(b)&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle();});}var c=function c(b,_c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=_c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this));};c.VERSION="3.3.5",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return;}a.preventDefault();}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this;},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active);},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f);},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a);}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a));},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this;},c.prototype.next=function(){return this.sliding?void 0:this.slide("next");},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev");},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active");}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m);},0);}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this;}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this;};var e=function e(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault();}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data());});});}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d);}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==_typeof(b)&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]();});}var d=function d(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle();};d.VERSION="3.3.5",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height";},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function h(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse");};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i]);}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function e(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse");};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this);}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]();},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e);},this)).end();},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c);};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this;},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h);});}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent();}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f))));}));}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c);});}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function g(b){a(b).on("click.bs.dropdown",this.toggle);};g.VERSION="3.3.5",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h);}return!1;}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus");}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this;},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation();}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown);}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==_typeof(b)&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d);});}var c=function c(b,_c2){this.options=_c2,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal");},this));};c.VERSION="3.3.5",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a);},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0);});}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f);}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f);}));},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal());},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus");},this));},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide();},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal");},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal");},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal");});},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null;},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()));},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b();}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function g(){d.removeBackdrop(),b&&b();};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g();}else b&&b();},c.prototype.handleUpdate=function(){this.adjustDialog();},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""});},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""});},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left);}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar();},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth);},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad);},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b;};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this;},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus");});}),b.call(f,g,this);});}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==_typeof(b)&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]());});}var c=function c(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b);};c.VERSION="3.3.5",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this));}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle();},c.prototype.getDefaults=function(){return c.DEFAULTS;},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b;},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d);}),b;},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show();},c.options.delay.show)):c.show());},c.prototype.isInStateTrue=function(){for(var a in this.inState){if(this.inState[a])return!0;}return!1;},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide();},c.options.delay.hide)):c.hide());},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h);}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function q(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e);};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q();}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function using(a){d.css({top:Math.round(a.top),left:Math.round(a.left)});}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l);},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","");},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right");},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b();}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this);},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","");},c.prototype.hasContent=function(){return this.getTitle();},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f);},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width};},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i);}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k);}return e;},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title);},c.prototype.getUID=function(a){do{a+=~~(1e6*Math.random());}while(document.getElementById(a));return a;},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip;},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow");},c.prototype.enable=function(){this.enabled=!0;},c.prototype.disable=function(){this.enabled=!1;},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled;},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c);},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null;});};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this;};}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==_typeof(b)&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]());});}var c=function c(a,b){this.init("popover",a,b);};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.5",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS;},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide();},c.prototype.hasContent=function(){return this.getTitle()||this.getContent();},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content);},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow");};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this;};}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process();}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==_typeof(c)&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]();});}b.VERSION="3.3.5",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight);},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null;}).sort(function(a,b){return a[0]-b[0];}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1]);});},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;){g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a]);}},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy");},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this;},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data());});});}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]();});}var c=function c(b){this.element=a(b);};c.VERSION="3.3.5",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]});});}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e();}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in");};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this;};var e=function e(c){c.preventDefault(),b.call(a(this),"show");};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e);}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==_typeof(b)&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]();});}var c=function c(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition();};c.VERSION="3.3.5",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1;},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a;},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1);},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=_typeof(d)&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix");}"bottom"==h&&this.$element.offset({top:g-b-f});}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this;},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d);});});}(jQuery);(function(root,factory){"use strict";if((typeof module==="undefined"?"undefined":_typeof(module))==='object'&&module.exports){module.exports=factory(require('moment'));}else if(typeof define==='function'&&define.amd){define(['moment'],factory);}else{factory(root.moment);}})(this,function(moment){"use strict";var VERSION="0.5.25",zones={},links={},names={},guesses={},cachedGuess;if(!moment||typeof moment.version!=='string'){logError('Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/');}var momentVersion=moment.version.split('.'),major=+momentVersion[0],minor=+momentVersion[1];if(major<2||major===2&&minor<6){logError('Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js '+moment.version+'. See momentjs.com');}
function charCodeToInt(charCode){if(charCode>96){return charCode-87;}else if(charCode>64){return charCode-29;}return charCode-48;}function unpackBase60(string){var i=0,parts=string.split('.'),whole=parts[0],fractional=parts[1]||'',multiplier=1,num,out=0,sign=1;if(string.charCodeAt(0)===45){i=1;sign=-1;}
for(i;i<whole.length;i++){num=charCodeToInt(whole.charCodeAt(i));out=60*out+num;}
for(i=0;i<fractional.length;i++){multiplier=multiplier/60;num=charCodeToInt(fractional.charCodeAt(i));out+=num*multiplier;}return out*sign;}function arrayToInt(array){for(var i=0;i<array.length;i++){array[i]=unpackBase60(array[i]);}}function intToUntil(array,length){for(var i=0;i<length;i++){array[i]=Math.round((array[i-1]||0)+array[i]*60000);}array[length-1]=Infinity;}function mapIndices(source,indices){var out=[],i;for(i=0;i<indices.length;i++){out[i]=source[indices[i]];}return out;}function unpack(string){var data=string.split('|'),offsets=data[2].split(' '),indices=data[3].split(''),untils=data[4].split(' ');arrayToInt(offsets);arrayToInt(indices);arrayToInt(untils);intToUntil(untils,indices.length);return{name:data[0],abbrs:mapIndices(data[1].split(' '),indices),offsets:mapIndices(offsets,indices),untils:untils,population:data[5]|0};}
function Zone(packedString){if(packedString){this._set(unpack(packedString));}}Zone.prototype={_set:function _set(unpacked){this.name=unpacked.name;this.abbrs=unpacked.abbrs;this.untils=unpacked.untils;this.offsets=unpacked.offsets;this.population=unpacked.population;},_index:function _index(timestamp){var target=+timestamp,untils=this.untils,i;for(i=0;i<untils.length;i++){if(target<untils[i]){return i;}}},parse:function parse(timestamp){var target=+timestamp,offsets=this.offsets,untils=this.untils,max=untils.length-1,offset,offsetNext,offsetPrev,i;for(i=0;i<max;i++){offset=offsets[i];offsetNext=offsets[i+1];offsetPrev=offsets[i?i-1:i];if(offset<offsetNext&&tz.moveAmbiguousForward){offset=offsetNext;}else if(offset>offsetPrev&&tz.moveInvalidForward){offset=offsetPrev;}if(target<untils[i]-offset*60000){return offsets[i];}}return offsets[max];},abbr:function abbr(mom){return this.abbrs[this._index(mom)];},offset:function offset(mom){logError("zone.offset has been deprecated in favor of zone.utcOffset");return this.offsets[this._index(mom)];},utcOffset:function utcOffset(mom){return this.offsets[this._index(mom)];}};function OffsetAt(at){var timeString=at.toTimeString();var abbr=timeString.match(/\([a-z ]+\)/i);if(abbr&&abbr[0]){abbr=abbr[0].match(/[A-Z]/g);abbr=abbr?abbr.join(''):undefined;}else{abbr=timeString.match(/[A-Z]{3,5}/g);abbr=abbr?abbr[0]:undefined;}if(abbr==='GMT'){abbr=undefined;}this.at=+at;this.abbr=abbr;this.offset=at.getTimezoneOffset();}function ZoneScore(zone){this.zone=zone;this.offsetScore=0;this.abbrScore=0;}ZoneScore.prototype.scoreOffsetAt=function(offsetAt){this.offsetScore+=Math.abs(this.zone.utcOffset(offsetAt.at)-offsetAt.offset);if(this.zone.abbr(offsetAt.at).replace(/[^A-Z]/g,'')!==offsetAt.abbr){this.abbrScore++;}};function findChange(low,high){var mid,diff;while(diff=((high.at-low.at)/12e4|0)*6e4){mid=new OffsetAt(new Date(low.at+diff));if(mid.offset===low.offset){low=mid;}else{high=mid;}}return low;}function userOffsets(){var startYear=new Date().getFullYear()-2,last=new OffsetAt(new Date(startYear,0,1)),offsets=[last],change,next,i;for(i=1;i<48;i++){next=new OffsetAt(new Date(startYear,i,1));if(next.offset!==last.offset){change=findChange(last,next);offsets.push(change);offsets.push(new OffsetAt(new Date(change.at+6e4)));}last=next;}for(i=0;i<4;i++){offsets.push(new OffsetAt(new Date(startYear+i,0,1)));offsets.push(new OffsetAt(new Date(startYear+i,6,1)));}return offsets;}function sortZoneScores(a,b){if(a.offsetScore!==b.offsetScore){return a.offsetScore-b.offsetScore;}if(a.abbrScore!==b.abbrScore){return a.abbrScore-b.abbrScore;}return b.zone.population-a.zone.population;}function addToGuesses(name,offsets){var i,offset;arrayToInt(offsets);for(i=0;i<offsets.length;i++){offset=offsets[i];guesses[offset]=guesses[offset]||{};guesses[offset][name]=true;}}function guessesForUserOffsets(offsets){var offsetsLength=offsets.length,filteredGuesses={},out=[],i,j,guessesOffset;for(i=0;i<offsetsLength;i++){guessesOffset=guesses[offsets[i].offset]||{};for(j in guessesOffset){if(guessesOffset.hasOwnProperty(j)){filteredGuesses[j]=true;}}}for(i in filteredGuesses){if(filteredGuesses.hasOwnProperty(i)){out.push(names[i]);}}return out;}function rebuildGuess(){try{var intlName=Intl.DateTimeFormat().resolvedOptions().timeZone;if(intlName&&intlName.length>3){var name=names[normalizeName(intlName)];if(name){return name;}logError("Moment Timezone found "+intlName+" from the Intl api, but did not have that data loaded.");}}catch(e){}var offsets=userOffsets(),offsetsLength=offsets.length,guesses=guessesForUserOffsets(offsets),zoneScores=[],zoneScore,i,j;for(i=0;i<guesses.length;i++){zoneScore=new ZoneScore(getZone(guesses[i]),offsetsLength);for(j=0;j<offsetsLength;j++){zoneScore.scoreOffsetAt(offsets[j]);}zoneScores.push(zoneScore);}zoneScores.sort(sortZoneScores);return zoneScores.length>0?zoneScores[0].zone.name:undefined;}function guess(ignoreCache){if(!cachedGuess||ignoreCache){cachedGuess=rebuildGuess();}return cachedGuess;}
function normalizeName(name){return(name||'').toLowerCase().replace(/\//g,'_');}function addZone(packed){var i,name,split,normalized;if(typeof packed==="string"){packed=[packed];}for(i=0;i<packed.length;i++){split=packed[i].split('|');name=split[0];normalized=normalizeName(name);zones[normalized]=packed[i];names[normalized]=name;addToGuesses(normalized,split[2].split(' '));}}function getZone(name,caller){name=normalizeName(name);var zone=zones[name];var link;if(zone instanceof Zone){return zone;}if(typeof zone==='string'){zone=new Zone(zone);zones[name]=zone;return zone;}
if(links[name]&&caller!==getZone&&(link=getZone(links[name],getZone))){zone=zones[name]=new Zone();zone._set(link);zone.name=names[name];return zone;}return null;}function getNames(){var i,out=[];for(i in names){if(names.hasOwnProperty(i)&&(zones[i]||zones[links[i]])&&names[i]){out.push(names[i]);}}return out.sort();}function addLink(aliases){var i,alias,normal0,normal1;if(typeof aliases==="string"){aliases=[aliases];}for(i=0;i<aliases.length;i++){alias=aliases[i].split('|');normal0=normalizeName(alias[0]);normal1=normalizeName(alias[1]);links[normal0]=normal1;names[normal0]=alias[0];links[normal1]=normal0;names[normal1]=alias[1];}}function loadData(data){addZone(data.zones);addLink(data.links);tz.dataVersion=data.version;}function zoneExists(name){if(!zoneExists.didShowError){zoneExists.didShowError=true;logError("moment.tz.zoneExists('"+name+"') has been deprecated in favor of !moment.tz.zone('"+name+"')");}return!!getZone(name);}function needsOffset(m){var isUnixTimestamp=m._f==='X'||m._f==='x';return!!(m._a&&m._tzm===undefined&&!isUnixTimestamp);}function logError(message){if(typeof console!=='undefined'&&typeof console.error==='function'){console.error(message);}}
function tz(input){var args=Array.prototype.slice.call(arguments,0,-1),name=arguments[arguments.length-1],zone=getZone(name),out=moment.utc.apply(null,args);if(zone&&!moment.isMoment(input)&&needsOffset(out)){out.add(zone.parse(out),'minutes');}out.tz(name);return out;}tz.version=VERSION;tz.dataVersion='';tz._zones=zones;tz._links=links;tz._names=names;tz.add=addZone;tz.link=addLink;tz.load=loadData;tz.zone=getZone;tz.zoneExists=zoneExists;tz.guess=guess;tz.names=getNames;tz.Zone=Zone;tz.unpack=unpack;tz.unpackBase60=unpackBase60;tz.needsOffset=needsOffset;tz.moveInvalidForward=true;tz.moveAmbiguousForward=false;var fn=moment.fn;moment.tz=tz;moment.defaultZone=null;moment.updateOffset=function(mom,keepTime){var zone=moment.defaultZone,offset;if(mom._z===undefined){if(zone&&needsOffset(mom)&&!mom._isUTC){mom._d=moment.utc(mom._a)._d;mom.utc().add(zone.parse(mom),'minutes');}mom._z=zone;}if(mom._z){offset=mom._z.utcOffset(mom);if(Math.abs(offset)<16){offset=offset/60;}if(mom.utcOffset!==undefined){var z=mom._z;mom.utcOffset(-offset,keepTime);mom._z=z;}else{mom.zone(offset,keepTime);}}};fn.tz=function(name,keepTime){if(name){if(typeof name!=='string'){throw new Error('Time zone name must be a string, got '+name+' ['+_typeof(name)+']');}this._z=getZone(name);if(this._z){moment.updateOffset(this,keepTime);}else{logError("Moment Timezone has no data for "+name+". See http://momentjs.com/timezone/docs/#/data-loading/.");}return this;}if(this._z){return this._z.name;}};function abbrWrap(old){return function(){if(this._z){return this._z.abbr(this);}return old.call(this);};}function resetZoneWrap(old){return function(){this._z=null;return old.apply(this,arguments);};}function resetZoneWrap2(old){return function(){if(arguments.length>0)this._z=null;return old.apply(this,arguments);};}fn.zoneName=abbrWrap(fn.zoneName);fn.zoneAbbr=abbrWrap(fn.zoneAbbr);fn.utc=resetZoneWrap(fn.utc);fn.local=resetZoneWrap(fn.local);fn.utcOffset=resetZoneWrap2(fn.utcOffset);moment.tz.setDefault=function(name){if(major<2||major===2&&minor<9){logError('Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js '+moment.version+'.');}moment.defaultZone=name?getZone(name):null;return moment;};var momentProperties=moment.momentProperties;if(Object.prototype.toString.call(momentProperties)==='[object Array]'){momentProperties.push('_z');momentProperties.push('_a');}else if(momentProperties){momentProperties._z=null;}
return moment;});/*!
* # Fomantic-UI - Calendar
* http://github.com/fomantic/Fomantic-UI/
*
*
* Released under the MIT license
* http://opensource.org/licenses/MIT
*
*/;(function($,window,document,undefined){'use strict';$.isFunction=$.isFunction||function(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};window=typeof window!='undefined'&&window.Math==Math?window:typeof self!='undefined'&&self.Math==Math?self:Function('return this')();$.fn.calendar=function(parameters){var $allModules=$(this),moduleSelector=$allModules.selector||'',time=moment().valueOf(),performance=[],query=arguments[0],methodInvoked=typeof query=='string',queryArguments=[].slice.call(arguments,1),returnedValue,timeGapTable={'5':{'row':4,'column':3},'10':{'row':3,'column':2},'15':{'row':2,'column':2},'20':{'row':3,'column':1},'30':{'row':2,'column':1}};$allModules.each(function(){var settings=$.isPlainObject(parameters)?$.extend(true,{},$.fn.calendar.settings,parameters):$.extend({},$.fn.calendar.settings),className=settings.className,namespace=settings.namespace,selector=settings.selector,formatter=settings.formatter,parser=settings.parser,metadata=settings.metadata,timeGap=timeGapTable[settings.minTimeGap],error=settings.error,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$input=$module.find(selector.input),$container=$module.find(selector.popup),$activator=$module.find(selector.activator),element=this,instance=$module.data(moduleNamespace),isTouch,isTouchDown=false,focusDateUsedForRange=false,module;module={initialize:function initialize(){module.debug('Initializing calendar for',element,$module);isTouch=module.get.isTouch();module.setup.config();module.setup.popup();module.setup.inline();module.setup.input();module.setup.date();module.create.calendar();module.bind.events();module.instantiate();},instantiate:function instantiate(){module.verbose('Storing instance of calendar');instance=module;$module.data(moduleNamespace,instance);},destroy:function destroy(){module.verbose('Destroying previous calendar for',element);$module.removeData(moduleNamespace);module.unbind.events();},setup:{config:function config(){if(module.get.minDate()!==null){module.set.minDate($module.data(metadata.minDate));}if(module.get.maxDate()!==null){module.set.maxDate($module.data(metadata.maxDate));}module.setting('type',module.get.type());},popup:function popup(){if(settings.inline){return;}if(!$activator.length){$activator=$module.children().first();if(!$activator.length){return;}}if($.fn.popup===undefined){module.error(error.popup);return;}if(!$container.length){var $activatorParent=$activator.parent(),domPositionFunction=$activatorParent.closest(selector.append).length!==0?'appendTo':'prependTo';$container=$('<div/>').addClass(className.popup)[domPositionFunction]($activatorParent);}$container.addClass(className.calendar);var onVisible=settings.onVisible;var onHidden=settings.onHidden;if(!$input.length){$container.attr('tabindex','0');onVisible=function onVisible(){module.focus();return settings.onVisible.apply($container,arguments);};onHidden=function onHidden(){module.blur();return settings.onHidden.apply($container,arguments);};}var onShow=function onShow(){module.set.focusDate(module.get.date());module.set.mode(settings.startMode);return settings.onShow.apply($container,arguments);};var on=settings.on||($input.length?'focus':'click');var options=$.extend({},settings.popupOptions,{popup:$container,on:on,hoverable:on==='hover',onShow:onShow,onVisible:onVisible,onHide:settings.onHide,onHidden:onHidden});module.popup(options);},inline:function inline(){if($activator.length&&!settings.inline){return;}$container=$('<div/>').addClass(className.calendar).appendTo($module);if(!$input.length){$container.attr('tabindex','0');}},input:function input(){if(settings.touchReadonly&&$input.length&&isTouch){$input.prop('readonly',true);}},date:function date(){var date;if(settings.initialDate){date=parser.date(settings.initialDate,settings);}else if($module.data(metadata.date)!==undefined){date=parser.date($module.data(metadata.date),settings);}else if($input.length){date=parser.date($input.val(),settings);}module.set.date(date,settings.formatInput,false);}},create:{calendar:function calendar(){var i,r,c,p,row,cell,pageGrid;var mode=module.get.mode();var today=moment();var date=module.get.date();var focusDate=module.get.focusDate();var display=focusDate||date||settings.initialDate||today;display=module.helper.dateInRange(display);if(!focusDate){focusDate=display;module.set.focusDate(focusDate,false,false);}var isYear=mode==='year';var isMonth=mode==='month';var isDay=mode==='day';var isHour=mode==='hour';var isMinute=mode==='minute';var isTimeOnly=settings.type==='time';var multiMonth=Math.max(settings.multiMonth,1);var monthOffset=!isDay?0:module.get.monthOffset();var minute=display.minutes();var hour=display.hours();var day=display.date();var startMonth=display.month()+monthOffset;var year=display.year();var columns=isDay?settings.showWeekNumbers?8:7:isHour?4:timeGap['column'];var rows=isDay||isHour?6:timeGap['row'];var pages=isDay?multiMonth:1;var container=$container;var tooltipPosition=container.hasClass("left")?"right center":"left center";container.empty();if(pages>1){pageGrid=$('<div/>').addClass(className.grid).appendTo(container);}for(p=0;p<pages;p++){if(pages>1){var pageColumn=$('<div/>').addClass(className.column).appendTo(pageGrid);container=pageColumn;}var month=startMonth+p;var firstMonthDayColumn=(moment([year,month,1]).day()-settings.firstDayOfWeek%7+7)%7;if(!settings.constantHeight&&isDay){var requiredCells=moment([year,month+1,0]).date()+firstMonthDayColumn;rows=Math.ceil(requiredCells/7);}var yearChange=isYear?10:isMonth?1:0;var monthChange=isDay?1:0;var dayChange=isHour||isMinute?1:0;var prevNextDay=isHour||isMinute?day:1;var prevDate=moment([year-yearChange,month-monthChange,prevNextDay-dayChange,hour]);var nextDate=moment([year+yearChange,month+monthChange,prevNextDay+dayChange,hour]);var prevLast=isYear?moment([Math.ceil(year/10)*10-9,0,0]):isMonth?moment([year,0,0]):isDay?moment([year,month,0]):moment([year,month,day,-1]);var nextFirst=isYear?moment([Math.ceil(year/10)*10+1,0,1]):isMonth?moment([year+1,0,1]):isDay?moment([year,month+1,1]):moment([year,month,day+1]);var tempMode=mode;if(isDay&&settings.showWeekNumbers){tempMode+=' andweek';}var table=$('<table/>').addClass(className.table).addClass(tempMode).appendTo(container);var textColumns=columns;if(!isTimeOnly){var thead=$('<thead/>').appendTo(table);row=$('<tr/>').appendTo(thead);cell=$('<th/>').attr('colspan',''+columns).appendTo(row);var headerDate=isYear||isMonth?moment([year,0,1]):isDay?moment([year,month,1]):moment([year,month,day,hour,minute]);var headerText=$('<span/>').addClass(className.link).appendTo(cell);headerText.text(formatter.header(headerDate,mode,settings));var newMode=isMonth?settings.disableYear?'day':'year':isDay?settings.disableMonth?'year':'month':'day';headerText.data(metadata.mode,newMode);if(settings.allowArrowsOnlyOnDays!==undefined&&settings.allowArrowsOnlyOnDays){if(isDay&&p===0){var prev=$('<span/>').addClass(className.prev).appendTo(cell);prev.data(metadata.focusDate,prevDate);prev.toggleClass(className.disabledCell,!module.helper.isDateInRange(prevLast,mode));$('<i/>').addClass(className.prevIcon).appendTo(prev);}if(isDay&&p===pages-1){var next=$('<span/>').addClass(className.next).appendTo(cell);next.data(metadata.focusDate,nextDate);next.toggleClass(className.disabledCell,!module.helper.isDateInRange(nextFirst,mode));$('<i/>').addClass(className.nextIcon).appendTo(next);}}else{if(p===0){var prev=$('<span/>').addClass(className.prev).appendTo(cell);prev.data(metadata.focusDate,prevDate);prev.toggleClass(className.disabledCell,!module.helper.isDateInRange(prevLast,mode));$('<i/>').addClass(className.prevIcon).appendTo(prev);}if(p===pages-1){var next=$('<span/>').addClass(className.next).appendTo(cell);next.data(metadata.focusDate,nextDate);next.toggleClass(className.disabledCell,!module.helper.isDateInRange(nextFirst,mode));$('<i/>').addClass(className.nextIcon).appendTo(next);}}if(isDay){row=$('<tr/>').appendTo(thead);if(settings.showWeekNumbers){cell=$('<th/>').appendTo(row);cell.text(settings.text.weekNo);cell.addClass(className.weekCell);textColumns--;}for(i=0;i<textColumns;i++){cell=$('<th/>').appendTo(row);cell.text(formatter.dayColumnHeader((i+settings.firstDayOfWeek)%7,settings));}}}var tbody=$('<tbody/>').appendTo(table);i=isYear?Math.ceil(year/10)*10-9:isDay?1-firstMonthDayColumn:0;for(r=0;r<rows;r++){row=$('<tr/>').appendTo(tbody);if(isDay&&settings.showWeekNumbers){cell=$('<th/>').appendTo(row);cell.text(module.get.weekOfYear(year,month,i+1-settings.firstDayOfWeek));cell.addClass(className.weekCell);}for(c=0;c<textColumns;c++,i++){var cellDate=isYear?moment([i,month,1,hour,minute]):isMonth?moment([year,i,1,hour,minute]):isDay?moment([year,month,i,hour,minute]):isHour?moment([year,month,day,i]):moment([year,month,day,hour,i*settings.minTimeGap]);var cellText=isYear?i:isMonth?settings.text.monthsShort[i]:isDay?cellDate.date():formatter.time(cellDate,settings,true);cell=$('<td/>').addClass(className.cell).appendTo(row);cell.text(cellText);cell.data(metadata.date,cellDate);var adjacent=isDay&&cellDate.month()!==(month+12)%12;var disabled=!settings.selectAdjacentDays&&adjacent||!module.helper.isDateInRange(cellDate,mode)||settings.isDisabled(cellDate,mode)||module.helper.isDisabled(cellDate,mode)||!module.helper.isEnabled(cellDate,mode);if(disabled){var disabledDate=module.helper.findDayAsObject(cellDate,mode,settings.disabledDates);if(disabledDate!==null&&disabledDate[metadata.message]){cell.attr("data-tooltip",disabledDate[metadata.message]);cell.attr("data-position",tooltipPosition);}}else{var eventDate=module.helper.findDayAsObject(cellDate,mode,settings.eventDates);if(eventDate!==null){cell.addClass(eventDate[metadata["class"]]||settings.eventClass);if(eventDate[metadata.message]){cell.attr("data-tooltip",eventDate[metadata.message]);cell.attr("data-position",tooltipPosition);}}}var active=module.helper.dateEqual(cellDate,date,mode);var isToday=module.helper.dateEqual(cellDate,today,mode);cell.toggleClass(className.adjacentCell,adjacent);cell.toggleClass(className.disabledCell,disabled);cell.toggleClass(className.activeCell,active&&!adjacent);if(!isHour&&!isMinute){cell.toggleClass(className.todayCell,!adjacent&&isToday);}
var cellOptions={mode:mode,adjacent:adjacent,disabled:disabled,active:active,today:isToday};formatter.cell(cell,cellDate,cellOptions);if(module.helper.dateEqual(cellDate,focusDate,mode)){module.set.focusDate(cellDate,false,false);}}}if(settings.today){var todayRow=$('<tr/>').appendTo(tbody);var todayButton=$('<td/>').attr('colspan',''+columns).addClass(className.today).appendTo(todayRow);todayButton.text(formatter.today(settings));todayButton.data(metadata.date,today);}module.update.focus(false,table);}}},update:{focus:function focus(updateRange,container){container=container||$container;var mode=module.get.mode();var date=module.get.date();var focusDate=module.get.focusDate();var startDate=module.get.startDate();var endDate=module.get.endDate();var rangeDate=(updateRange?focusDate:null)||date||(!isTouch?focusDate:null);container.find('td').each(function(){var cell=$(this);var cellDate=cell.data(metadata.date);if(!cellDate){return;}var disabled=cell.hasClass(className.disabledCell);var active=cell.hasClass(className.activeCell);var adjacent=cell.hasClass(className.adjacentCell);var focused=module.helper.dateEqual(cellDate,focusDate,mode);var inRange=!rangeDate?false:!!startDate&&module.helper.isDateInRange(cellDate,mode,startDate,rangeDate)||!!endDate&&module.helper.isDateInRange(cellDate,mode,rangeDate,endDate);cell.toggleClass(className.focusCell,focused&&(!isTouch||isTouchDown)&&(!adjacent||settings.selectAdjacentDays&&adjacent)&&!disabled);if(module.helper.isTodayButton(cell)){return;}cell.toggleClass(className.rangeCell,inRange&&!active&&!disabled);});}},refresh:function refresh(){module.create.calendar();},bind:{events:function events(){module.debug('Binding events');$container.on('mousedown'+eventNamespace,module.event.mousedown);$container.on('touchstart'+eventNamespace,module.event.mousedown);$container.on('mouseup'+eventNamespace,module.event.mouseup);$container.on('touchend'+eventNamespace,module.event.mouseup);$container.on('mouseover'+eventNamespace,module.event.mouseover);if($input.length){$input.on('input'+eventNamespace,module.event.inputChange);$input.on('focus'+eventNamespace,module.event.inputFocus);$input.on('blur'+eventNamespace,module.event.inputBlur);$input.on('click'+eventNamespace,module.event.inputClick);$input.on('keydown'+eventNamespace,module.event.keydown);}else{$container.on('keydown'+eventNamespace,module.event.keydown);}}},unbind:{events:function events(){module.debug('Unbinding events');$container.off(eventNamespace);if($input.length){$input.off(eventNamespace);}}},event:{mouseover:function mouseover(event){var target=$(event.target);var date=target.data(metadata.date);var mousedown=event.buttons===1;if(date){module.set.focusDate(date,false,true,mousedown);}},mousedown:function mousedown(event){if($input.length){event.preventDefault();}isTouchDown=event.type.indexOf('touch')>=0;var target=$(event.target);var date=target.data(metadata.date);if(date){module.set.focusDate(date,false,true,true);}},mouseup:function mouseup(event){module.focus();event.preventDefault();event.stopPropagation();isTouchDown=false;var target=$(event.target);if(target.hasClass("disabled")){return;}var parent=target.parent();if(parent.data(metadata.date)||parent.data(metadata.focusDate)||parent.data(metadata.mode)){target=parent;}var date=target.data(metadata.date);var focusDate=target.data(metadata.focusDate);var mode=target.data(metadata.mode);if(date&&settings.onSelect.call(element,date,module.get.mode())!==false){var forceSet=target.hasClass(className.today);module.selectDate(date,forceSet);}else if(focusDate){module.set.focusDate(focusDate);}else if(mode){module.set.mode(mode);}},keydown:function keydown(event){var keyCode=event.which;if(keyCode===27||keyCode===9){module.popup('hide');}if(module.popup('is visible')){if(!(settings.allowArrowsOnlyOnDays!==undefined&&settings.allowArrowsOnlyOnDays)&&(keyCode===37||keyCode===38||keyCode===39||keyCode===40)){var mode=module.get.mode();var bigIncrement=mode==='day'?7:mode==='hour'?4:mode==='minute'?timeGap['column']:3;var increment=keyCode===37?-1:keyCode===38?-bigIncrement:keyCode==39?1:bigIncrement;increment*=mode==='minute'?settings.minTimeGap:1;var focusDate=module.get.focusDate()||module.get.date()||moment();var year=focusDate.year()+(mode==='year'?increment:0);var month=focusDate.month()+(mode==='month'?increment:0);var day=focusDate.date()+(mode==='day'?increment:0);var hour=focusDate.hours()+(mode==='hour'?increment:0);var minute=focusDate.minutes()+(mode==='minute'?increment:0);var newFocusDate=moment([year,month,day,hour,minute]);if(settings.type==='time'){newFocusDate=module.helper.mergeDateTime(focusDate,newFocusDate);}if(module.helper.isDateInRange(newFocusDate,mode)){module.set.focusDate(newFocusDate);}}else if(keyCode===13){var mode=module.get.mode();var date=module.get.focusDate();if(date&&!settings.isDisabled(date,mode)&&!module.helper.isDisabled(date,mode)&&module.helper.isEnabled(date,mode)){module.selectDate(date);}
event.preventDefault();event.stopPropagation();}}if(keyCode===38||keyCode===40){event.preventDefault();module.popup('show');}},inputChange:function inputChange(){var val=$input.val();var date=parser.date(val,settings);module.set.date(date,false);},inputFocus:function inputFocus(){$container.addClass(className.active);},inputBlur:function inputBlur(){$container.removeClass(className.active);if(settings.formatInput){var date=module.get.date();var text=formatter.datetime(date,settings);$input.val(text);}},inputClick:function inputClick(){module.popup('show');}},get:{weekOfYear:function weekOfYear(weekYear,weekMonth,weekDay){var ms1d=864e5,ms7d=7*ms1d;return function(){var DC3=Date.UTC(weekYear,weekMonth,weekDay+3)/ms1d,AWN=Math.floor(DC3/7),Wyr=new Date(AWN*ms7d).getUTCFullYear();return AWN-Math.floor(Date.UTC(Wyr,0,7)/ms7d)+1;}();},date:function date(){return module.helper.sanitiseDate($module.data(metadata.date))||null;},inputDate:function inputDate(){return $input.val();},focusDate:function focusDate(){return $module.data(metadata.focusDate)||null;},startDate:function startDate(){var startModule=module.get.calendarModule(settings.startCalendar);return(startModule?startModule.get.date():$module.data(metadata.startDate))||null;},endDate:function endDate(){var endModule=module.get.calendarModule(settings.endCalendar);return(endModule?endModule.get.date():$module.data(metadata.endDate))||null;},minDate:function minDate(){return $module.data(metadata.minDate)||null;},maxDate:function maxDate(){return $module.data(metadata.maxDate)||null;},monthOffset:function monthOffset(){return $module.data(metadata.monthOffset)||0;},mode:function mode(){var mode=$module.data(metadata.mode)||settings.startMode;var validModes=module.get.validModes();if($.inArray(mode,validModes)>=0){return mode;}return settings.type==='time'?'hour':settings.type==='month'?'month':settings.type==='year'?'year':'day';},type:function type(){return $module.data(metadata.type)||settings.type;},validModes:function validModes(){var validModes=[];if(settings.type!=='time'){if(!settings.disableYear||settings.type==='year'){validModes.push('year');}if(!(settings.disableMonth||settings.type==='year')||settings.type==='month'){validModes.push('month');}if(settings.type.indexOf('date')>=0){validModes.push('day');}}if(settings.type.indexOf('time')>=0){validModes.push('hour');if(!settings.disableMinute){validModes.push('minute');}}return validModes;},isTouch:function isTouch(){try{document.createEvent('TouchEvent');return true;}catch(e){return false;}},calendarModule:function calendarModule(selector){if(!selector){return null;}if(!(selector instanceof $)){selector=$(selector).first();}
return selector.data(moduleNamespace);}},set:{date:function date(_date,updateInput,fireChange){updateInput=updateInput!==false;fireChange=fireChange!==false;_date=module.helper.sanitiseDate(_date);_date=module.helper.dateInRange(_date);var mode=module.get.mode();var text=formatter.datetime(_date,settings);if(fireChange&&settings.onBeforeChange.call(element,_date,text,mode)===false){return false;}module.set.focusDate(_date);if(settings.isDisabled(_date,mode)){return false;}var endDate=module.get.endDate();if(!!endDate&&!!_date&&_date>endDate){module.set.endDate(undefined);}module.set.dataKeyValue(metadata.date,_date);if(updateInput&&$input.length){$input.val(text);}if(fireChange){settings.onChange.call(element,_date,text,mode);}},startDate:function startDate(date,refreshCalendar){date=module.helper.sanitiseDate(date);var startModule=module.get.calendarModule(settings.startCalendar);if(startModule){startModule.set.date(date);}module.set.dataKeyValue(metadata.startDate,date,refreshCalendar);},endDate:function endDate(date,refreshCalendar){date=module.helper.sanitiseDate(date);var endModule=module.get.calendarModule(settings.endCalendar);if(endModule){endModule.set.date(date);}module.set.dataKeyValue(metadata.endDate,date,refreshCalendar);},focusDate:function focusDate(date,refreshCalendar,updateFocus,updateRange){date=module.helper.sanitiseDate(date);date=module.helper.dateInRange(date);var isDay=module.get.mode()==='day';var oldFocusDate=module.get.focusDate();if(isDay&&date&&oldFocusDate){var yearDelta=date.year()-oldFocusDate.year();var monthDelta=yearDelta*12+date.month()-oldFocusDate.month();if(monthDelta){var monthOffset=module.get.monthOffset()-monthDelta;module.set.monthOffset(monthOffset,false);}}var changed=module.set.dataKeyValue(metadata.focusDate,date,refreshCalendar);updateFocus=updateFocus!==false&&changed&&refreshCalendar===false||focusDateUsedForRange!=updateRange;focusDateUsedForRange=updateRange;if(updateFocus){module.update.focus(updateRange);}},minDate:function minDate(date){date=module.helper.sanitiseDate(date);if(settings.maxDate!==null&&settings.maxDate<=date){module.verbose('Unable to set minDate variable bigger that maxDate variable',date,settings.maxDate);}else{module.setting('minDate',date);module.set.dataKeyValue(metadata.minDate,date);}},maxDate:function maxDate(date){date=module.helper.sanitiseDate(date);if(settings.minDate!==null&&settings.minDate>=date){module.verbose('Unable to set maxDate variable lower that minDate variable',date,settings.minDate);}else{module.setting('maxDate',date);module.set.dataKeyValue(metadata.maxDate,date);}},monthOffset:function monthOffset(_monthOffset,refreshCalendar){var multiMonth=Math.max(settings.multiMonth,1);_monthOffset=Math.max(1-multiMonth,Math.min(0,_monthOffset));module.set.dataKeyValue(metadata.monthOffset,_monthOffset,refreshCalendar);},mode:function mode(_mode,refreshCalendar){module.set.dataKeyValue(metadata.mode,_mode,refreshCalendar);},dataKeyValue:function dataKeyValue(key,value,refreshCalendar){var oldValue=$module.data(key);var equal=oldValue===value||oldValue<=value&&oldValue>=value;if(value){$module.data(key,value);}else{$module.removeData(key);}refreshCalendar=refreshCalendar!==false&&!equal;if(refreshCalendar){module.refresh();}return!equal;}},selectDate:function selectDate(date,forceSet){module.verbose('New date selection',date);var mode=module.get.mode();var complete=forceSet||mode==='minute'||settings.disableMinute&&mode==='hour'||settings.type==='date'&&mode==='day'||settings.type==='month'&&mode==='month'||settings.type==='year'&&mode==='year';if(complete){var canceled=module.set.date(date)===false;if(!canceled&&settings.closable){module.popup('hide');var endModule=module.get.calendarModule(settings.endCalendar);if(endModule){endModule.popup('show');endModule.focus();}}}else{var newMode=mode==='year'?!settings.disableMonth?'month':'day':mode==='month'?'day':mode==='day'?'hour':'minute';module.set.mode(newMode);if(settings.setInputValueOnMode!==undefined){if(mode===settings.setInputValueOnMode){module.set.date(date);}else{module.set.focusDate(date);}}else{if(mode==='hour'||mode==='day'&&module.get.date()){module.set.date(date);}else{module.set.focusDate(date);}}}},changeDate:function changeDate(date){module.set.date(date);},clear:function clear(){module.set.date(undefined);},popup:function popup(){return $activator.popup.apply($activator,arguments);},focus:function focus(){if($input.length){$input.focus();}else{$container.focus();}},blur:function blur(){if($input.length){$input.blur();}else{$container.blur();}},helper:{isDisabled:function isDisabled(date,mode){return mode==='day'&&(settings.disabledDaysOfWeek.indexOf(date.day())!==-1||settings.disabledDates.some(function(d){if(typeof d==='string'){d=module.helper.sanitiseDate(d);}if(d instanceof Object){return module.helper.dateEqual(date,d,mode);}if(d!==null&&_typeof(d)==='object'&&d[metadata.date]){return module.helper.dateEqual(date,module.helper.sanitiseDate(d[metadata.date]),mode);}}));},isEnabled:function isEnabled(date,mode){if(mode==='day'){return settings.enabledDates.length===0||settings.enabledDates.some(function(d){if(typeof d==='string'){d=module.helper.sanitiseDate(d);}if(d instanceof Object){return module.helper.dateEqual(date,d,mode);}if(d!==null&&_typeof(d)==='object'&&d[metadata.date]){return module.helper.dateEqual(date,module.helper.sanitiseDate(d[metadata.date]),mode);}});}else{if(mode==='hour'&&typeof settings.enabledHours==='function'){return settings.enabledHours(date);}if(mode==='minute'&&typeof settings.enabledMinutes==='function'){return settings.enabledMinutes(date);}return true;}},findDayAsObject:function findDayAsObject(date,mode,dates){if(mode==='day'){var i=0,il=dates.length;var d;for(;i<il;i++){d=dates[i];if(typeof d==='string'){d=module.helper.sanitiseDate(d);}if(d instanceof Object&&module.helper.dateEqual(date,d,mode)){var dateObject={};dateObject[metadata.date]=d;return dateObject;}else if(d!==null&&_typeof(d)==='object'&&d[metadata.date]&&module.helper.dateEqual(date,module.helper.sanitiseDate(d[metadata.date]),mode)){return d;}}}return null;},sanitiseDate:function sanitiseDate(date){if(!date){return undefined;}if(!(date instanceof Object)){date=parser.date(''+date,settings);}if(!date||date===null||isNaN(date.valueOf())){return undefined;}return date;},dateDiff:function dateDiff(date1,date2,mode){mode=mode||'day';var isTimeOnly=settings.type==='time';var isYear=mode==='year';var isYearOrMonth=isYear||mode==='month';var isMinute=mode==='minute';var isHourOrMinute=isMinute||mode==='hour';date1=moment([isTimeOnly?2000:date1.year(),isTimeOnly?0:isYear?0:date1.month(),isTimeOnly?1:isYearOrMonth?1:date1.date(),!isHourOrMinute?0:date1.hours(),!isMinute?0:settings.minTimeGap*Math.floor(date1.minutes()/settings.minTimeGap)]);date2=moment([isTimeOnly?2000:date2.year(),isTimeOnly?0:isYear?0:date2.month(),isTimeOnly?1:isYearOrMonth?1:date2.date(),!isHourOrMinute?0:date2.hours(),!isMinute?0:settings.minTimeGap*Math.floor(date2.minutes()/settings.minTimeGap)]);return date2.valueOf()-date1.valueOf();},dateEqual:function dateEqual(date1,date2,mode){return!!date1&&!!date2&&module.helper.dateDiff(date1,date2,mode)===0;},isDateInRange:function isDateInRange(date,mode,minDate,maxDate){if(!minDate&&!maxDate){var startDate=module.get.startDate();minDate=startDate&&settings.minDate?moment([Math.max(startDate,settings.minDate)]):startDate||settings.minDate;maxDate=settings.maxDate;}minDate=minDate&&moment([minDate.year(),minDate.month(),minDate.date(),minDate.hours(),settings.minTimeGap*Math.ceil(minDate.minutes()/settings.minTimeGap)]);return!(!date||minDate&&module.helper.dateDiff(date,minDate,mode)>0||maxDate&&module.helper.dateDiff(maxDate,date,mode)>0);},dateInRange:function dateInRange(date,minDate,maxDate){if(!minDate&&!maxDate){var startDate=module.get.startDate();minDate=startDate&&settings.minDate?moment([Math.max(startDate,settings.minDate)]):startDate||settings.minDate;maxDate=settings.maxDate;}minDate=minDate&&moment([minDate.year(),minDate.month(),minDate.date(),minDate.hours(),settings.minTimeGap*Math.ceil(minDate.minutes()/settings.minTimeGap)]);var isTimeOnly=settings.type==='time';return!date?date:minDate&&module.helper.dateDiff(date,minDate,'minute')>0?isTimeOnly?module.helper.mergeDateTime(date,minDate):minDate:maxDate&&module.helper.dateDiff(maxDate,date,'minute')>0?isTimeOnly?module.helper.mergeDateTime(date,maxDate):maxDate:date;},mergeDateTime:function mergeDateTime(date,time){return!date||!time?time:moment([date.year(),date.month(),date.date(),time.hours(),time.minutes()]);},isTodayButton:function isTodayButton(element){return element.text()===settings.text.today;}},setting:function setting(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,settings,name);}else if(value!==undefined){if($.isPlainObject(settings[name])){$.extend(true,settings[name],value);}else{settings[name]=value;}}else{return settings[name];}},internal:function internal(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}else if(value!==undefined){module[name]=value;}else{return module[name];}},debug:function debug(){if(!settings.silent&&settings.debug){if(settings.performance){module.performance.log(arguments);}else{module.debug=Function.prototype.bind.call(console.info,console,settings.name+':');module.debug.apply(console,arguments);}}},verbose:function verbose(){if(!settings.silent&&settings.verbose&&settings.debug){if(settings.performance){module.performance.log(arguments);}else{module.verbose=Function.prototype.bind.call(console.info,console,settings.name+':');module.verbose.apply(console,arguments);}}},error:function error(){if(!settings.silent){module.error=Function.prototype.bind.call(console.error,console,settings.name+':');module.error.apply(console,arguments);}},performance:{log:function log(message){var currentTime,executionTime,previousTime;if(settings.performance){currentTime=moment().valueOf();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Element':element,'Execution Time':executionTime});}clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function display(){var title=settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}console.groupEnd();}performance=[];}},invoke:function invoke(query,passedArguments,context){var object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth){object=object[camelCaseValue];}else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}else if($.isPlainObject(object[value])&&depth!=maxDepth){object=object[value];}else if(object[value]!==undefined){found=object[value];return false;}else{module.error(error.method,query);return false;}});}if($.isFunction(found)){response=found.apply(context,passedArguments);}else if(found!==undefined){response=found;}if(Array.isArray(returnedValue)){returnedValue.push(response);}else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}else if(response!==undefined){returnedValue=response;}return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}module.invoke(query);}else{if(instance!==undefined){instance.invoke('destroy');}module.initialize();}});return returnedValue!==undefined?returnedValue:this;};$.fn.calendar.settings={name:'Calendar',namespace:'calendar',silent:false,debug:false,verbose:false,performance:false,type:'datetime',firstDayOfWeek:0,constantHeight:true,today:false,closable:true,monthFirst:true,touchReadonly:true,inline:false,on:null,initialDate:null,startMode:false,minDate:null,maxDate:null,ampm:true,disableYear:false,disableMonth:false,disableMinute:false,formatInput:true,startCalendar:null,endCalendar:null,multiMonth:1,minTimeGap:5,showWeekNumbers:null,disabledDates:[],disabledDaysOfWeek:[],enabledDates:[],eventDates:[],centuryBreak:60,currentCentury:2000,selectAdjacentDays:false,popupOptions:{position:'bottom left',lastResort:'bottom left',prefer:'opposite',hideOnScroll:false},text:{days:['S','M','T','W','T','F','S'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],today:'Today',now:'Now',am:'AM',pm:'PM',weekNo:'Week'},formatter:{header:function header(date,mode,settings){return mode==='year'?settings.formatter.yearHeader(date,settings):mode==='month'?settings.formatter.monthHeader(date,settings):mode==='day'?settings.formatter.dayHeader(date,settings):mode==='hour'?settings.formatter.hourHeader(date,settings):settings.formatter.minuteHeader(date,settings);},yearHeader:function yearHeader(date,settings){var decadeYear=Math.ceil(date.year()/10)*10;return decadeYear-9+' - '+(decadeYear+2);},monthHeader:function monthHeader(date,settings){return date.year();},dayHeader:function dayHeader(date,settings){var month=settings.text.months[date.month()];var year=date.year();return month+' '+year;},hourHeader:function hourHeader(date,settings){return settings.formatter.date(date,settings);},minuteHeader:function minuteHeader(date,settings){return settings.formatter.date(date,settings);},dayColumnHeader:function dayColumnHeader(day,settings){return settings.text.days[day];},datetime:function datetime(date,settings){if(!date){return'';}var day=settings.type==='time'?'':settings.formatter.date(date,settings);var time=settings.type.indexOf('time')<0?'':settings.formatter.time(date,settings,false);var separator=settings.type==='datetime'?' ':'';return day+separator+time;},date:function date(_date2,settings){if(!_date2){return'';}var day=_date2.date();var month=settings.text.months[_date2.month()];var year=_date2.year();return settings.type==='year'?year:settings.type==='month'?month+' '+year:(settings.monthFirst?month+' '+day:day+' '+month)+', '+year;},time:function time(date,settings,forCalendar){if(!date){return'';}var hour=date.hours();var minute=date.minutes();var ampm='';if(settings.ampm){ampm=' '+(hour<12?settings.text.am:settings.text.pm);hour=hour===0?12:hour>12?hour-12:hour;}return hour+':'+(minute<10?'0':'')+minute+ampm;},today:function today(settings){return settings.type==='date'?settings.text.today:settings.text.now;},cell:function cell(_cell,date,cellOptions){}},parser:{date:function date(text,settings){if(text instanceof Object){return text;}if(!text){return null;}text=(''+text).trim().toLowerCase();if(text.length===0){return null;}
text=settings.monthFirst?text:text.replace(/[\/\-\.]/g,'/').replace(/([0-9]+)\/([0-9]+)/,'$2/$1');var textDate=moment(text);if(!isNaN(textDate.date())){return textDate;}var i,j,k;var minute=-1,hour=-1,day=-1,month=-1,year=-1;var isAm=undefined;var isTimeOnly=settings.type==='time';var isDateOnly=settings.type.indexOf('time')<0;var words=text.split(settings.regExp.dateWords),word;var numbers=text.split(settings.regExp.dateNumbers),number;var parts;var monthString;if(!isDateOnly){isAm=$.inArray(settings.text.am.toLowerCase(),words)>=0?true:$.inArray(settings.text.pm.toLowerCase(),words)>=0?false:undefined;for(i=0;i<numbers.length;i++){number=numbers[i];if(number.indexOf(':')>=0){if(hour<0||minute<0){parts=number.split(':');for(k=0;k<Math.min(2,parts.length);k++){j=parseInt(parts[k]);if(isNaN(j)){j=0;}if(k===0){hour=j%24;}else{minute=j%60;}}}numbers.splice(i,1);}}}if(!isTimeOnly){for(i=0;i<words.length;i++){word=words[i];if(word.length<=0){continue;}for(j=0;j<settings.text.months.length;j++){monthString=settings.text.months[j];monthString=monthString.substring(0,word.length).toLowerCase();if(monthString===word){month=j+1;break;}}if(month>=0){break;}}
for(i=0;i<numbers.length;i++){j=parseInt(numbers[i]);if(isNaN(j)){continue;}if(j>=settings.centuryBreak&&i===numbers.length-1){if(j<=99){j+=settings.currentCentury-100;}year=j;numbers.splice(i,1);break;}}
if(month<0){for(i=0;i<numbers.length;i++){k=i>1||settings.monthFirst?i:i===1?0:1;j=parseInt(numbers[k]);if(isNaN(j)){continue;}if(1<=j&&j<=12){month=j;numbers.splice(k,1);break;}}}
for(i=0;i<numbers.length;i++){j=parseInt(numbers[i]);if(isNaN(j)){continue;}if(1<=j&&j<=31){day=j;numbers.splice(i,1);break;}}
if(year<0){for(i=numbers.length-1;i>=0;i--){j=parseInt(numbers[i]);if(isNaN(j)){continue;}if(j<=99){j+=settings.currentCentury;}year=j;numbers.splice(i,1);break;}}}if(!isDateOnly){if(hour<0){for(i=0;i<numbers.length;i++){j=parseInt(numbers[i]);if(isNaN(j)){continue;}if(0<=j&&j<=23){hour=j;numbers.splice(i,1);break;}}}
if(minute<0){for(i=0;i<numbers.length;i++){j=parseInt(numbers[i]);if(isNaN(j)){continue;}if(0<=j&&j<=59){minute=j;numbers.splice(i,1);break;}}}}if(minute<0&&hour<0&&day<0&&month<0&&year<0){return null;}if(minute<0){minute=0;}if(hour<0){hour=0;}if(day<0){day=1;}if(month<0){month=1;}if(year<0){year=moment().year();}if(isAm!==undefined){if(isAm){if(hour===12){hour=0;}}else if(hour<12){hour+=12;}}var date=moment([year,month-1,day,hour,minute]);if(date.month()!==month-1||date.year()!==year){date=moment([year,month,0,hour,minute]);}return isNaN(date.valueOf())?null:date;}},onBeforeChange:function onBeforeChange(date,text,mode){return true;},onChange:function onChange(date,text,mode){},onShow:function onShow(){},onVisible:function onVisible(){},onHide:function onHide(){},onHidden:function onHidden(){},onSelect:function onSelect(date,mode){},isDisabled:function isDisabled(date,mode){return false;},selector:{popup:'.ui.popup',input:'input',activator:'input',append:'.inline.field,.inline.fields'},regExp:{dateWords:/[^A-Za-z\u00C0-\u024F]+/g,dateNumbers:/[^\d:]+/g},error:{popup:'UI Popup, a required component is not included in this page',method:'The method you called is not defined.'},className:{calendar:'calendar',active:'active',popup:'ui popup',grid:'ui equal width grid',column:'column',table:'ui celled center aligned unstackable table',prev:'prev link',next:'next link',prevIcon:'chevron left icon',nextIcon:'chevron right icon',link:'link',cell:'link',disabledCell:'disabled',weekCell:'disabled',adjacentCell:'adjacent',activeCell:'active',rangeCell:'range',focusCell:'focus',todayCell:'today',today:'today link'},metadata:{date:'date',focusDate:'focusDate',startDate:'startDate',endDate:'endDate',minDate:'minDate',maxDate:'maxDate',mode:'mode',type:'type',monthOffset:'monthOffset',message:'message',"class":'class'},eventClass:'blue'};})(jQuery,window,document);!function(V,W,M,G){"use strict";V.isFunction=V.isFunction||function(t){return"function"==typeof t&&"number"!=typeof t.nodeType;},W=void 0!==W&&W.Math==Math?W:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),V.fn.popup=function(x){var E,t=V(this),k=V(M),S=V(W),A=V("body"),F=t.selector||"",O="ontouchstart"in M.documentElement?"touchstart":"click",D=new Date().getTime(),j=[],R=x,H="string"==typeof R,N=[].slice.call(arguments,1);return t.each(function(){var u,l,t,e,o,c,d=V.isPlainObject(x)?V.extend(!0,{},V.fn.popup.settings,x):V.extend({},V.fn.popup.settings),i=d.selector,f=d.className,h=d.error,g=d.metadata,n=d.namespace,r="."+d.namespace,a="module-"+n,m=V(this),s=V(d.context),p=V(d.scrollContext),v=V(d.boundary),b=d.target?V(d.target):m,w=0,y=!1,P=!1,C=this,T=m.data(a);c={initialize:function initialize(){c.debug("Initializing",m),c.createID(),c.bind.events(),!c.exists()&&d.preserve&&c.create(),d.observeChanges&&c.observeChanges(),c.instantiate();},instantiate:function instantiate(){c.verbose("Storing instance",c),T=c,m.data(a,T);},observeChanges:function observeChanges(){"MutationObserver"in W&&((t=new MutationObserver(c.event.documentChanged)).observe(M,{childList:!0,subtree:!0}),c.debug("Setting up mutation observer",t));},refresh:function refresh(){d.popup?u=V(d.popup).eq(0):d.inline&&(u=b.nextAll(i.popup).eq(0),d.popup=u),d.popup?(u.addClass(f.loading),l=c.get.offsetParent(),u.removeClass(f.loading),d.movePopup&&c.has.popup()&&c.get.offsetParent(u)[0]!==l[0]&&(c.debug("Moving popup to the same offset parent as target"),u.detach().appendTo(l))):l=d.inline?c.get.offsetParent(b):c.has.popup()?c.get.offsetParent(u):A,l.is("html")&&l[0]!==A[0]&&(c.debug("Setting page as offset parent"),l=A),c.get.variation()&&c.set.variation();},reposition:function reposition(){c.refresh(),c.set.position();},destroy:function destroy(){c.debug("Destroying previous module"),t&&t.disconnect(),u&&!d.preserve&&c.removePopup(),clearTimeout(c.hideTimer),clearTimeout(c.showTimer),c.unbind.close(),c.unbind.events(),m.removeData(a);},event:{start:function start(t){var e=V.isPlainObject(d.delay)?d.delay.show:d.delay;clearTimeout(c.hideTimer),(!P||P&&d.addTouchEvents)&&(c.showTimer=setTimeout(c.show,e));},end:function end(){var t=V.isPlainObject(d.delay)?d.delay.hide:d.delay;clearTimeout(c.showTimer),c.hideTimer=setTimeout(c.hide,t);},touchstart:function touchstart(t){P=!0,d.addTouchEvents&&c.show();},resize:function resize(){c.is.visible()&&c.set.position();},documentChanged:function documentChanged(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==C||0<V(t).find(C).length)&&(c.debug("Element removed from DOM, tearing down events"),c.destroy());});});},hideGracefully:function hideGracefully(t){var e=V(t.target),o=V.contains(M.documentElement,t.target),n=0<e.closest(i.popup).length;t&&!n&&o?(c.debug("Click occurred outside popup hiding popup"),c.hide()):c.debug("Click was inside popup, keeping popup open");}},create:function create(){var t=c.get.html(),e=c.get.title(),o=c.get.content();t||o||e?(c.debug("Creating pop-up html"),t=t||d.templates.popup({title:e,content:o}),u=V("<div/>").addClass(f.popup).data(g.activator,m).html(t),d.inline?(c.verbose("Inserting popup element inline",u),u.insertAfter(m)):(c.verbose("Appending popup element to body",u),u.appendTo(s)),c.refresh(),c.set.variation(),d.hoverable&&c.bind.popup(),d.onCreate.call(u,C)):d.popup?(V(d.popup).data(g.activator,m),c.verbose("Used popup specified in settings"),c.refresh(),d.hoverable&&c.bind.popup()):0!==b.next(i.popup).length?(c.verbose("Pre-existing popup found"),d.inline=!0,d.popup=b.next(i.popup).data(g.activator,m),c.refresh(),d.hoverable&&c.bind.popup()):c.debug("No content specified skipping display",C);},createID:function createID(){o=(Math.random().toString(16)+"000000000").substr(2,8),e="."+o,c.verbose("Creating unique id for element",o);},toggle:function toggle(){c.debug("Toggling pop-up"),c.is.hidden()?(c.debug("Popup is hidden, showing pop-up"),c.unbind.close(),c.show()):(c.debug("Popup is visible, hiding pop-up"),c.hide());},show:function show(t){if(t=t||function(){},c.debug("Showing pop-up",d.transition),c.is.hidden()&&(!c.is.active()||!c.is.dropdown())){if(c.exists()||c.create(),!1===d.onShow.call(u,C))return void c.debug("onShow callback returned false, cancelling popup animation");d.preserve||d.popup||c.refresh(),u&&c.set.position()&&(c.save.conditions(),d.exclusive&&c.hideAll(),c.animate.show(t));}},hide:function hide(t){if(t=t||function(){},c.is.visible()||c.is.animating()){if(!1===d.onHide.call(u,C))return void c.debug("onHide callback returned false, cancelling popup animation");c.remove.visible(),c.unbind.close(),c.restore.conditions(),c.animate.hide(t);}},hideAll:function hideAll(){V(i.popup).filter("."+f.popupVisible).each(function(){V(this).data(g.activator).popup("hide");});},exists:function exists(){return!!u&&(d.inline||d.popup?c.has.popup():1<=u.closest(s).length);},removePopup:function removePopup(){c.has.popup()&&!d.popup&&(c.debug("Removing popup",u),u.remove(),u=G,d.onRemove.call(u,C));},save:{conditions:function conditions(){c.cache={title:m.attr("title")},c.cache.title&&m.removeAttr("title"),c.verbose("Saving original attributes",c.cache.title);}},restore:{conditions:function conditions(){return c.cache&&c.cache.title&&(m.attr("title",c.cache.title),c.verbose("Restoring original attributes",c.cache.title)),!0;}},supports:{svg:function svg(){return"undefined"!=typeof SVGGraphicsElement;}},animate:{show:function show(t){t=V.isFunction(t)?t:function(){},d.transition&&V.fn.transition!==G&&m.transition("is supported")?(c.set.visible(),u.transition({animation:d.transition+" in",queue:!1,debug:d.debug,verbose:d.verbose,duration:d.duration,onComplete:function onComplete(){c.bind.close(),t.call(u,C),d.onVisible.call(u,C);}})):c.error(h.noTransition);},hide:function hide(t){t=V.isFunction(t)?t:function(){},c.debug("Hiding pop-up"),d.transition&&V.fn.transition!==G&&m.transition("is supported")?u.transition({animation:d.transition+" out",queue:!1,duration:d.duration,debug:d.debug,verbose:d.verbose,onComplete:function onComplete(){c.reset(),t.call(u,C),d.onHidden.call(u,C);}}):c.error(h.noTransition);}},change:{content:function content(t){u.html(t);}},get:{html:function html(){return m.removeData(g.html),m.data(g.html)||d.html;},title:function title(){return m.removeData(g.title),m.data(g.title)||d.title;},content:function content(){return m.removeData(g.content),m.data(g.content)||d.content||m.attr("title");},variation:function variation(){return m.removeData(g.variation),m.data(g.variation)||d.variation;},popup:function popup(){return u;},popupOffset:function popupOffset(){return u.offset();},calculations:function calculations(){var t,e=c.get.offsetParent(u),o=b[0],n=v[0]==W,i=d.inline||d.popup&&d.movePopup?b.position():b.offset(),r=n?{top:0,left:0}:v.offset(),a={},s=n?{top:S.scrollTop(),left:S.scrollLeft()}:{top:0,left:0};if(a={target:{element:b[0],width:b.outerWidth(),height:b.outerHeight(),top:i.top,left:i.left,margin:{}},popup:{width:u.outerWidth(),height:u.outerHeight()},parent:{width:l.outerWidth(),height:l.outerHeight()},screen:{top:r.top,left:r.left,scroll:{top:s.top,left:s.left},width:v.width(),height:v.height()}},e.get(0)!==l.get(0)){var p=e.offset();a.target.top-=p.top,a.target.left-=p.left,a.parent.width=e.outerWidth(),a.parent.height=e.outerHeight();}return d.setFluidWidth&&c.is.fluid()&&(a.container={width:u.parent().outerWidth()},a.popup.width=a.container.width),a.target.margin.top=d.inline?parseInt(W.getComputedStyle(o).getPropertyValue("margin-top"),10):0,a.target.margin.left=d.inline?c.is.rtl()?parseInt(W.getComputedStyle(o).getPropertyValue("margin-right"),10):parseInt(W.getComputedStyle(o).getPropertyValue("margin-left"),10):0,t=a.screen,a.boundary={top:t.top+t.scroll.top,bottom:t.top+t.scroll.top+t.height,left:t.left+t.scroll.left,right:t.left+t.scroll.left+t.width},a;},id:function id(){return o;},startEvent:function startEvent(){return"hover"==d.on?"mouseenter":"focus"==d.on&&"focus";},scrollEvent:function scrollEvent(){return"scroll";},endEvent:function endEvent(){return"hover"==d.on?"mouseleave":"focus"==d.on&&"blur";},distanceFromBoundary:function distanceFromBoundary(t,e){var o,n,i={};return o=(e=e||c.get.calculations()).popup,n=e.boundary,t&&(i={top:t.top-n.top,left:t.left-n.left,right:n.right-(t.left+o.width),bottom:n.bottom-(t.top+o.height)},c.verbose("Distance from boundaries determined",t,i)),i;},offsetParent:function offsetParent(t){var e=(t!==G?t[0]:b[0]).parentNode,o=V(e);if(e)for(var n="none"===o.css("transform"),i="static"===o.css("position"),r=o.is("body");e&&!r&&i&&n;){e=e.parentNode,n="none"===(o=V(e)).css("transform"),i="static"===o.css("position"),r=o.is("body");}return o&&0<o.length?o:V();},positions:function positions(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1};},nextPosition:function nextPosition(t){var e=t.split(" "),o=e[0],n=e[1],i="top"==o||"bottom"==o,r=!1,a=!1,s=!1;return y||(c.verbose("All available positions available"),y=c.get.positions()),c.debug("Recording last position tried",t),y[t]=!0,"opposite"===d.prefer&&(s=(s=[{top:"bottom",bottom:"top",left:"right",right:"left"}[o],n]).join(" "),r=!0===y[s],c.debug("Trying opposite strategy",s)),"adjacent"===d.prefer&&i&&(s=(s=[o,{left:"center",center:"right",right:"left"}[n]]).join(" "),a=!0===y[s],c.debug("Trying adjacent strategy",s)),(a||r)&&(c.debug("Using backup position",s),s={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"}[t]),s;}},set:{position:function position(t,e){if(0!==b.length&&0!==u.length){var o,n,i,r,a,s,p,l;if(e=e||c.get.calculations(),t=t||m.data(g.position)||d.position,o=m.data(g.offset)||d.offset,n=d.distanceAway,i=e.target,r=e.popup,a=e.parent,c.should.centerArrow(e)&&(c.verbose("Adjusting offset to center arrow on small target element"),"top left"!=t&&"bottom left"!=t||(o+=i.width/2,o-=d.arrowPixelsFromEdge),"top right"!=t&&"bottom right"!=t||(o-=i.width/2,o+=d.arrowPixelsFromEdge)),0===i.width&&0===i.height&&!c.is.svg(i.element))return c.debug("Popup target is hidden, no action taken"),!1;switch(d.inline&&(c.debug("Adding margin to calculation",i.margin),"left center"==t||"right center"==t?(o+=i.margin.top,n+=-i.margin.left):"top left"==t||"top center"==t||"top right"==t?(o+=i.margin.left,n-=i.margin.top):(o+=i.margin.left,n+=i.margin.top)),c.debug("Determining popup position from calculations",t,e),c.is.rtl()&&(t=t.replace(/left|right/g,function(t){return"left"==t?"right":"left";}),c.debug("RTL: Popup position updated",t)),w==d.maxSearchDepth&&"string"==typeof d.lastResort&&(t=d.lastResort),t){case"top left":s={top:"auto",bottom:a.height-i.top+n,left:i.left+o,right:"auto"};break;case"top center":s={bottom:a.height-i.top+n,left:i.left+i.width/2-r.width/2+o,top:"auto",right:"auto"};break;case"top right":s={bottom:a.height-i.top+n,right:a.width-i.left-i.width-o,top:"auto",left:"auto"};break;case"left center":s={top:i.top+i.height/2-r.height/2+o,right:a.width-i.left+n,left:"auto",bottom:"auto"};break;case"right center":s={top:i.top+i.height/2-r.height/2+o,left:i.left+i.width+n,bottom:"auto",right:"auto"};break;case"bottom left":s={top:i.top+i.height+n,left:i.left+o,bottom:"auto",right:"auto"};break;case"bottom center":s={top:i.top+i.height+n,left:i.left+i.width/2-r.width/2+o,bottom:"auto",right:"auto"};break;case"bottom right":s={top:i.top+i.height+n,right:a.width-i.left-i.width-o,left:"auto",bottom:"auto"};}if(s===G&&c.error(h.invalidPosition,t),c.debug("Calculated popup positioning values",s),u.css(s).removeClass(f.position).addClass(t).addClass(f.loading),p=c.get.popupOffset(),l=c.get.distanceFromBoundary(p,e),!d.forcePosition&&c.is.offstage(l,t)){if(c.debug("Position is outside viewport",t),w<d.maxSearchDepth)return w++,t=c.get.nextPosition(t),c.debug("Trying new position",t),!!u&&c.set.position(t,e);if(!d.lastResort)return c.debug("Popup could not find a position to display",u),c.error(h.cannotPlace,C),c.remove.attempts(),c.remove.loading(),c.reset(),d.onUnplaceable.call(u,C),!1;c.debug("No position found, showing with last position");}return c.debug("Position is on stage",t),c.remove.attempts(),c.remove.loading(),d.setFluidWidth&&c.is.fluid()&&c.set.fluidWidth(e),!0;}c.error(h.notFound);},fluidWidth:function fluidWidth(t){t=t||c.get.calculations(),c.debug("Automatically setting element width to parent width",t.parent.width),u.css("width",t.container.width);},variation:function variation(t){(t=t||c.get.variation())&&c.has.popup()&&(c.verbose("Adding variation to popup",t),u.addClass(t));},visible:function visible(){m.addClass(f.visible);}},remove:{loading:function loading(){u.removeClass(f.loading);},variation:function variation(t){(t=t||c.get.variation())&&(c.verbose("Removing variation",t),u.removeClass(t));},visible:function visible(){m.removeClass(f.visible);},attempts:function attempts(){c.verbose("Resetting all searched positions"),w=0,y=!1;}},bind:{events:function events(){c.debug("Binding popup events to module"),"click"==d.on&&m.on(O+r,c.toggle),"hover"==d.on&&m.on("touchstart"+r,c.event.touchstart),c.get.startEvent()&&m.on(c.get.startEvent()+r,c.event.start).on(c.get.endEvent()+r,c.event.end),d.target&&c.debug("Target set to element",b),S.on("resize"+e,c.event.resize);},popup:function popup(){c.verbose("Allowing hover events on popup to prevent closing"),u&&c.has.popup()&&u.on("mouseenter"+r,c.event.start).on("mouseleave"+r,c.event.end);},close:function close(){(!0===d.hideOnScroll||"auto"==d.hideOnScroll&&"click"!=d.on)&&c.bind.closeOnScroll(),c.is.closable()?c.bind.clickaway():"hover"==d.on&&P&&c.bind.touchClose();},closeOnScroll:function closeOnScroll(){c.verbose("Binding scroll close event to document"),p.one(c.get.scrollEvent()+e,c.event.hideGracefully);},touchClose:function touchClose(){c.verbose("Binding popup touchclose event to document"),k.on("touchstart"+e,function(t){c.verbose("Touched away from popup"),c.event.hideGracefully.call(C,t);});},clickaway:function clickaway(){c.verbose("Binding popup close event to document"),k.on(O+e,function(t){c.verbose("Clicked away from popup"),c.event.hideGracefully.call(C,t);});}},unbind:{events:function events(){S.off(e),m.off(r);},close:function close(){k.off(e),p.off(e);}},has:{popup:function popup(){return u&&0<u.length;}},should:{centerArrow:function centerArrow(t){return!c.is.basic()&&t.target.width<=2*d.arrowPixelsFromEdge;}},is:{closable:function closable(){return"auto"==d.closable?"hover"!=d.on:d.closable;},offstage:function offstage(t,o){var n=[];return V.each(t,function(t,e){e<-d.jitter&&(c.debug("Position exceeds allowable distance from edge",t,e,o),n.push(t));}),0<n.length;},svg:function svg(t){return c.supports.svg()&&t instanceof SVGGraphicsElement;},basic:function basic(){return m.hasClass(f.basic);},active:function active(){return m.hasClass(f.active);},animating:function animating(){return u!==G&&u.hasClass(f.animating);},fluid:function fluid(){return u!==G&&u.hasClass(f.fluid);},visible:function visible(){return u!==G&&u.hasClass(f.popupVisible);},dropdown:function dropdown(){return m.hasClass(f.dropdown);},hidden:function hidden(){return!c.is.visible();},rtl:function rtl(){return"rtl"===m.attr("dir")||"rtl"===m.css("direction");}},reset:function reset(){c.remove.visible(),d.preserve?V.fn.transition!==G&&u.transition("remove transition"):c.removePopup();},setting:function setting(t,e){if(V.isPlainObject(t))V.extend(!0,d,t);else{if(e===G)return d[t];d[t]=e;}},internal:function internal(t,e){if(V.isPlainObject(t))V.extend(!0,c,t);else{if(e===G)return c[t];c[t]=e;}},debug:function debug(){!d.silent&&d.debug&&(d.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,d.name+":"),c.debug.apply(console,arguments)));},verbose:function verbose(){!d.silent&&d.verbose&&d.debug&&(d.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),c.verbose.apply(console,arguments)));},error:function error(){d.silent||(c.error=Function.prototype.bind.call(console.error,console,d.name+":"),c.error.apply(console,arguments));},performance:{log:function log(t){var e,o;d.performance&&(o=(e=new Date().getTime())-(D||e),D=e,j.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:C,"Execution Time":o})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500);},display:function display(){var t=d.name+":",o=0;D=!1,clearTimeout(c.performance.timer),V.each(j,function(t,e){o+=e["Execution Time"];}),t+=" "+o+"ms",F&&(t+=" '"+F+"'"),(console.group!==G||console.table!==G)&&0<j.length&&(console.groupCollapsed(t),console.table?console.table(j):V.each(j,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms");}),console.groupEnd()),j=[];}},invoke:function invoke(n,t,e){var i,r,o,a=T;return t=t||N,e=C||e,"string"==typeof n&&a!==G&&(n=n.split(/[\. ]/),i=n.length-1,V.each(n,function(t,e){var o=t!=i?e+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(V.isPlainObject(a[o])&&t!=i)a=a[o];else{if(a[o]!==G)return r=a[o],!1;if(!V.isPlainObject(a[e])||t==i)return a[e]!==G&&(r=a[e]),!1;a=a[e];}})),V.isFunction(r)?o=r.apply(e,t):r!==G&&(o=r),Array.isArray(E)?E.push(o):E!==G?E=[E,o]:o!==G&&(E=o),r;}},H?(T===G&&c.initialize(),c.invoke(R)):(T!==G&&T.invoke("destroy"),c.initialize());}),E!==G?E:this;},V.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function onCreate(){},onRemove:function onRemove(){},onShow:function onShow(){},onVisible:function onVisible(){},onHide:function onHide(){},onUnplaceable:function onUnplaceable(){},onHidden:function onHidden(){},on:"hover",boundary:W,addTouchEvents:!0,position:"top left",forcePosition:!1,variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:W,prefer:"opposite",lastResort:!1,arrowPixelsFromEdge:20,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",basic:"basic",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible",popupVisible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function escape(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return /[&<>"'`]/.test(t)?t.replace(/[&<>"'`]/g,function(t){return e[t];}):t;},popup:function popup(t){var e="",o=V.fn.popup.settings.templates.escape;return _typeof(t)!==G&&(_typeof(t.title)!==G&&t.title&&(t.title=o(t.title),e+='<div class="header">'+t.title+"</div>"),_typeof(t.content)!==G&&t.content&&(t.content=o(t.content),e+='<div class="content">'+t.content+"</div>")),e;}}};}(jQuery,window,document);!function(C,n,S,T){"use strict";C.isFunction=C.isFunction||function(n){return"function"==typeof n&&"number"!=typeof n.nodeType;},n=void 0!==n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),C.fn.transition=function(){var d,r=C(this),p=r.selector||"",g=new Date().getTime(),v=[],b=arguments,y=b[0],h=[].slice.call(arguments,1),w="string"==typeof y;return r.each(function(t){var u,s,e,c,i,a,n,o,m,f=C(this),l=this;(m={initialize:function initialize(){u=m.get.settings.apply(l,b),c=u.className,e=u.error,i=u.metadata,o="."+u.namespace,n="module-"+u.namespace,s=f.data(n)||m,a=m.get.animationEndEvent(),!1===(w=w&&m.invoke(y))&&(m.verbose("Converted arguments into settings object",u),u.interval?m.delay(u.animate):m.animate(),m.instantiate());},instantiate:function instantiate(){m.verbose("Storing instance of module",m),s=m,f.data(n,s);},destroy:function destroy(){m.verbose("Destroying previous module for",l),f.removeData(n);},refresh:function refresh(){m.verbose("Refreshing display type on next animation"),delete m.displayType;},forceRepaint:function forceRepaint(){m.verbose("Forcing element repaint");var n=f.parent(),e=f.next();0===e.length?f.detach().appendTo(n):f.detach().insertBefore(e);},repaint:function repaint(){m.verbose("Repainting element");l.offsetWidth;},delay:function delay(n){var e,i=m.get.animationDirection();i=i||(m.can.transition()?m.get.direction():"static"),n=n!==T?n:u.interval,e="auto"==u.reverse&&i==c.outward||1==u.reverse?(r.length-t)*u.interval:t*u.interval,m.debug("Delaying animation by",e),setTimeout(m.animate,e);},animate:function animate(n){if(u=n||u,!m.is.supported())return m.error(e.support),!1;if(m.debug("Preparing animation",u.animation),m.is.animating()){if(u.queue)return!u.allowRepeats&&m.has.direction()&&m.is.occurring()&&!0!==m.queuing?m.debug("Animation is currently occurring, preventing queueing same animation",u.animation):m.queue(u.animation),!1;if(!u.allowRepeats&&m.is.occurring())return m.debug("Animation is already occurring, will not execute repeated animation",u.animation),!1;m.debug("New animation started, completing previous early",u.animation),s.complete();}m.can.animate()?m.set.animating(u.animation):m.error(e.noAnimation,u.animation,l);},reset:function reset(){m.debug("Resetting animation to beginning conditions"),m.remove.animationCallbacks(),m.restore.conditions(),m.remove.animating();},queue:function queue(n){m.debug("Queueing animation of",n),m.queuing=!0,f.one(a+".queue"+o,function(){m.queuing=!1,m.repaint(),m.animate.apply(this,u);});},complete:function complete(n){n&&n.target===l&&n.stopPropagation(),m.debug("Animation complete",u.animation),m.remove.completeCallback(),m.remove.failSafe(),m.is.looping()||(m.is.outward()?(m.verbose("Animation is outward, hiding element"),m.restore.conditions(),m.hide()):m.is.inward()?(m.verbose("Animation is outward, showing element"),m.restore.conditions(),m.show()):(m.verbose("Static animation completed"),m.restore.conditions(),u.onComplete.call(l)));},force:{visible:function visible(){var n=f.attr("style"),e=m.get.userStyle(n),i=m.get.displayType(),t=e+"display: "+i+" !important;",a=f[0].style.display;return!i||"none"===a&&u.skipInlineHidden||f[0].tagName.match(/(script|link|style)/i)?(m.remove.transition(),!1):(m.verbose("Overriding default display to show element",i),f.attr("style",t),!0);},hidden:function hidden(){var n=f.attr("style"),e=f.css("display"),i=n===T||""===n;"none"===e||m.is.hidden()?i&&f.removeAttr("style"):(m.verbose("Overriding default display to hide element"),f.css("display","none"));}},has:{direction:function direction(n){var i=!1;return"string"==typeof(n=n||u.animation)&&(n=n.split(" "),C.each(n,function(n,e){e!==c.inward&&e!==c.outward||(i=!0);})),i;},inlineDisplay:function inlineDisplay(){var n=f.attr("style")||"";return Array.isArray(n.match(/display.*?;/,""));}},set:{animating:function animating(n){m.remove.completeCallback(),n=n||u.animation;var e=m.get.animationClass(n);m.save.animation(e),m.force.visible()&&(m.remove.hidden(),m.remove.direction(),m.start.animation(e));},duration:function duration(n,e){!(e="number"==typeof(e=e||u.duration)?e+"ms":e)&&0!==e||(m.verbose("Setting animation duration",e),f.css({"animation-duration":e}));},direction:function direction(n){(n=n||m.get.direction())==c.inward?m.set.inward():m.set.outward();},looping:function looping(){m.debug("Transition set to loop"),f.addClass(c.looping);},hidden:function hidden(){f.addClass(c.transition).addClass(c.hidden);},inward:function inward(){m.debug("Setting direction to inward"),f.removeClass(c.outward).addClass(c.inward);},outward:function outward(){m.debug("Setting direction to outward"),f.removeClass(c.inward).addClass(c.outward);},visible:function visible(){f.addClass(c.transition).addClass(c.visible);}},start:{animation:function animation(n){n=n||m.get.animationClass(),m.debug("Starting tween",n),f.addClass(n).one(a+".complete"+o,m.complete),u.useFailSafe&&m.add.failSafe(),m.set.duration(u.duration),u.onStart.call(l);}},save:{animation:function animation(n){m.cache||(m.cache={}),m.cache.animation=n;},displayType:function displayType(n){"none"!==n&&f.data(i.displayType,n);},transitionExists:function transitionExists(n,e){C.fn.transition.exists[n]=e,m.verbose("Saving existence of transition",n,e);}},restore:{conditions:function conditions(){var n=m.get.currentAnimation();n&&(f.removeClass(n),m.verbose("Removing animation class",m.cache)),m.remove.duration();}},add:{failSafe:function failSafe(){var n=m.get.duration();m.timer=setTimeout(function(){f.triggerHandler(a);},n+u.failSafeDelay),m.verbose("Adding fail safe timer",m.timer);}},remove:{animating:function animating(){f.removeClass(c.animating);},animationCallbacks:function animationCallbacks(){m.remove.queueCallback(),m.remove.completeCallback();},queueCallback:function queueCallback(){f.off(".queue"+o);},completeCallback:function completeCallback(){f.off(".complete"+o);},display:function display(){f.css("display","");},direction:function direction(){f.removeClass(c.inward).removeClass(c.outward);},duration:function duration(){f.css("animation-duration","");},failSafe:function failSafe(){m.verbose("Removing fail safe timer",m.timer),m.timer&&clearTimeout(m.timer);},hidden:function hidden(){f.removeClass(c.hidden);},visible:function visible(){f.removeClass(c.visible);},looping:function looping(){m.debug("Transitions are no longer looping"),m.is.looping()&&(m.reset(),f.removeClass(c.looping));},transition:function transition(){f.removeClass(c.transition).removeClass(c.visible).removeClass(c.hidden);}},get:{settings:function settings(n,e,i){return"object"==_typeof(n)?C.extend(!0,{},C.fn.transition.settings,n):"function"==typeof i?C.extend({},C.fn.transition.settings,{animation:n,onComplete:i,duration:e}):"string"==typeof e||"number"==typeof e?C.extend({},C.fn.transition.settings,{animation:n,duration:e}):"object"==_typeof(e)?C.extend({},C.fn.transition.settings,e,{animation:n}):"function"==typeof e?C.extend({},C.fn.transition.settings,{animation:n,onComplete:e}):C.extend({},C.fn.transition.settings,{animation:n});},animationClass:function animationClass(n){var e=n||u.animation,i=m.can.transition()&&!m.has.direction()?m.get.direction()+" ":"";return c.animating+" "+c.transition+" "+i+e;},currentAnimation:function currentAnimation(){return!(!m.cache||m.cache.animation===T)&&m.cache.animation;},currentDirection:function currentDirection(){return m.is.inward()?c.inward:c.outward;},direction:function direction(){return m.is.hidden()||!m.is.visible()?c.inward:c.outward;},animationDirection:function animationDirection(n){var i;return"string"==typeof(n=n||u.animation)&&(n=n.split(" "),C.each(n,function(n,e){e===c.inward?i=c.inward:e===c.outward&&(i=c.outward);})),i||!1;},duration:function duration(n){return!1===(n=n||u.duration)&&(n=f.css("animation-duration")||0),"string"==typeof n?-1<n.indexOf("ms")?parseFloat(n):1e3*parseFloat(n):n;},displayType:function displayType(n){if(n=n===T||n,u.displayType)return u.displayType;if(n&&f.data(i.displayType)===T){var e=f.css("display");""===e||"none"===e?m.can.transition(!0):m.save.displayType(e);}return f.data(i.displayType);},userStyle:function userStyle(n){return(n=n||f.attr("style")||"").replace(/display.*?;/,"");},transitionExists:function transitionExists(n){return C.fn.transition.exists[n];},animationStartEvent:function animationStartEvent(){var n,e=S.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(n in i){if(e.style[n]!==T)return i[n];}return!1;},animationEndEvent:function animationEndEvent(){var n,e=S.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(n in i){if(e.style[n]!==T)return i[n];}return!1;}},can:{transition:function transition(n){var e,i,t,a,o,r,s=u.animation,l=m.get.transitionExists(s),d=m.get.displayType(!1);if(l===T||n){if(m.verbose("Determining whether animation exists"),e=f.attr("class"),i=f.prop("tagName"),a=(t=C("<"+i+" />").addClass(e).insertAfter(f)).addClass(s).removeClass(c.inward).removeClass(c.outward).addClass(c.animating).addClass(c.transition).css("animationName"),o=t.addClass(c.inward).css("animationName"),d||(d=t.attr("class",e).removeAttr("style").removeClass(c.hidden).removeClass(c.visible).show().css("display"),m.verbose("Determining final display state",d),m.save.displayType(d)),t.remove(),a!=o)m.debug("Direction exists for animation",s),r=!0;else{if("none"==a||!a)return void m.debug("No animation defined in css",s);m.debug("Static animation found",s,d),r=!1;}m.save.transitionExists(s,r);}return l!==T?l:r;},animate:function animate(){return m.can.transition()!==T;}},is:{animating:function animating(){return f.hasClass(c.animating);},inward:function inward(){return f.hasClass(c.inward);},outward:function outward(){return f.hasClass(c.outward);},looping:function looping(){return f.hasClass(c.looping);},occurring:function occurring(n){return n="."+(n=n||u.animation).replace(" ","."),0<f.filter(n).length;},visible:function visible(){return f.is(":visible");},hidden:function hidden(){return"hidden"===f.css("visibility");},supported:function supported(){return!1!==a;}},hide:function hide(){m.verbose("Hiding element"),m.is.animating()&&m.reset(),l.blur(),m.remove.display(),m.remove.visible(),C.isFunction(u.onBeforeHide)?u.onBeforeHide.call(l,function(){m.hideNow();}):m.hideNow();},hideNow:function hideNow(){m.set.hidden(),m.force.hidden(),u.onHide.call(l),u.onComplete.call(l);},show:function show(n){m.verbose("Showing element",n),m.force.visible()&&(m.remove.hidden(),m.set.visible(),u.onShow.call(l),u.onComplete.call(l));},toggle:function toggle(){m.is.visible()?m.hide():m.show();},stop:function stop(){m.debug("Stopping current animation"),f.triggerHandler(a);},stopAll:function stopAll(){m.debug("Stopping all animation"),m.remove.queueCallback(),f.triggerHandler(a);},clear:{queue:function queue(){m.debug("Clearing animation queue"),m.remove.queueCallback();}},enable:function enable(){m.verbose("Starting animation"),f.removeClass(c.disabled);},disable:function disable(){m.debug("Stopping animation"),f.addClass(c.disabled);},setting:function setting(n,e){if(m.debug("Changing setting",n,e),C.isPlainObject(n))C.extend(!0,u,n);else{if(e===T)return u[n];C.isPlainObject(u[n])?C.extend(!0,u[n],e):u[n]=e;}},internal:function internal(n,e){if(C.isPlainObject(n))C.extend(!0,m,n);else{if(e===T)return m[n];m[n]=e;}},debug:function debug(){!u.silent&&u.debug&&(u.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,u.name+":"),m.debug.apply(console,arguments)));},verbose:function verbose(){!u.silent&&u.verbose&&u.debug&&(u.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),m.verbose.apply(console,arguments)));},error:function error(){u.silent||(m.error=Function.prototype.bind.call(console.error,console,u.name+":"),m.error.apply(console,arguments));},performance:{log:function log(n){var e,i;u.performance&&(i=(e=new Date().getTime())-(g||e),g=e,v.push({Name:n[0],Arguments:[].slice.call(n,1)||"",Element:l,"Execution Time":i})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500);},display:function display(){var n=u.name+":",i=0;g=!1,clearTimeout(m.performance.timer),C.each(v,function(n,e){i+=e["Execution Time"];}),n+=" "+i+"ms",p&&(n+=" '"+p+"'"),1<r.length&&(n+=" ("+r.length+")"),(console.group!==T||console.table!==T)&&0<v.length&&(console.groupCollapsed(n),console.table?console.table(v):C.each(v,function(n,e){console.log(e.Name+": "+e["Execution Time"]+"ms");}),console.groupEnd()),v=[];}},invoke:function invoke(t,n,e){var a,o,i,r=s;return n=n||h,e=l||e,"string"==typeof t&&r!==T&&(t=t.split(/[\. ]/),a=t.length-1,C.each(t,function(n,e){var i=n!=a?e+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(C.isPlainObject(r[i])&&n!=a)r=r[i];else{if(r[i]!==T)return o=r[i],!1;if(!C.isPlainObject(r[e])||n==a)return r[e]!==T&&(o=r[e]),!1;r=r[e];}})),C.isFunction(o)?i=o.apply(e,n):o!==T&&(i=o),Array.isArray(d)?d.push(i):d!==T?d=[d,i]:i!==T&&(d=i),o!==T&&o;}}).initialize();}),d!==T?d:this;},C.fn.transition.exists={},C.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function onStart(){},onComplete:function onComplete(){},onShow:function onShow(){},onHide:function onHide(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,skipInlineHidden:!1,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}};}(jQuery,window,document);!function(X,Y,G,J){"use strict";Y=void 0!==Y&&Y.Math==Math?Y:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),X.fn.dropdown=function(z){var P,H=X(this),j=X(G),N=H.selector||"",U=("ontouchstart"in G.documentElement),K=new Date().getTime(),W=[],B=z,$="string"==typeof B,Q=[].slice.call(arguments,1);return H.each(function(n){var e,t,i,a,o,s,r,m,h=X.isPlainObject(z)?X.extend(!0,{},X.fn.dropdown.settings,z):X.extend({},X.fn.dropdown.settings),g=h.className,c=h.message,l=h.fields,p=h.keys,b=h.metadata,u=h.namespace,d=h.regExp,w=h.selector,v=h.error,f=h.templates,x="."+u,C="module-"+u,S=X(this),y=X(h.context),A=S.find(w.text),T=S.find(w.search),k=S.find(w.sizer),L=S.find(w.input),I=S.find(w.icon),D=0<S.prev().find(w.text).length?S.prev().find(w.text):S.prev(),q=S.children(w.menu),R=q.find(w.item),O=!1,V=!1,E=!1,M=this,F=S.data(C);m={initialize:function initialize(){m.debug("Initializing dropdown",h),m.is.alreadySetup()?m.setup.reference():(m.setup.layout(),h.values&&m.change.values(h.values),m.refreshData(),m.save.defaults(),m.restore.selected(),m.create.id(),m.bind.events(),m.observeChanges(),m.instantiate());},instantiate:function instantiate(){m.verbose("Storing instance of dropdown",m),F=m,S.data(C,m);},destroy:function destroy(){m.verbose("Destroying previous dropdown",S),m.remove.tabbable(),S.off(x).removeData(C),q.off(x),j.off(a),m.disconnect.menuObserver(),m.disconnect.selectObserver();},observeChanges:function observeChanges(){"MutationObserver"in Y&&(s=new MutationObserver(m.event.select.mutation),r=new MutationObserver(m.event.menu.mutation),m.debug("Setting up mutation observer",s,r),m.observe.select(),m.observe.menu());},disconnect:{menuObserver:function menuObserver(){r&&r.disconnect();},selectObserver:function selectObserver(){s&&s.disconnect();}},observe:{select:function select(){m.has.input()&&s.observe(S[0],{childList:!0,subtree:!0});},menu:function menu(){m.has.menu()&&r.observe(q[0],{childList:!0,subtree:!0});}},create:{id:function id(){o=(Math.random().toString(16)+"000000000").substr(2,8),a="."+o,m.verbose("Creating unique id for element",o);},userChoice:function userChoice(e){var n,i,a;return!!(e=e||m.get.userValues())&&(e=X.isArray(e)?e:[e],X.each(e,function(e,t){!1===m.get.item(t)&&(a=h.templates.addition(m.add.variables(c.addResult,t)),i=X("<div />").html(a).attr("data-"+b.value,t).attr("data-"+b.text,t).addClass(g.addition).addClass(g.item),h.hideAdditions&&i.addClass(g.hidden),n=n===J?i:n.add(i),m.verbose("Creating user choices for value",t,i));}),n);},userLabels:function userLabels(e){var t=m.get.userValues();t&&(m.debug("Adding user labels",t),X.each(t,function(e,t){m.verbose("Adding custom user value"),m.add.label(t,t);}));},menu:function menu(){q=X("<div />").addClass(g.menu).appendTo(S);},sizer:function sizer(){k=X("<span />").addClass(g.sizer).insertAfter(T);}},search:function search(e){e=e!==J?e:m.get.query(),m.verbose("Searching for query",e),m.has.minCharacters(e)?m.filter(e):m.hide();},select:{firstUnfiltered:function firstUnfiltered(){m.verbose("Selecting first non-filtered element"),m.remove.selectedItem(),R.not(w.unselectable).not(w.addition+w.hidden).eq(0).addClass(g.selected);},nextAvailable:function nextAvailable(e){var t=(e=e.eq(0)).nextAll(w.item).not(w.unselectable).eq(0),n=e.prevAll(w.item).not(w.unselectable).eq(0);0<t.length?(m.verbose("Moving selection to",t),t.addClass(g.selected)):(m.verbose("Moving selection to",n),n.addClass(g.selected));}},setup:{api:function api(){var e={debug:h.debug,urlData:{value:m.get.value(),query:m.get.query()},on:!1};m.verbose("First request, initializing API"),S.api(e);},layout:function layout(){S.is("select")&&(m.setup.select(),m.setup.returnedObject()),m.has.menu()||m.create.menu(),m.is.search()&&!m.has.search()&&(m.verbose("Adding search input"),T=X("<input />").addClass(g.search).prop("autocomplete","off").insertBefore(A)),m.is.multiple()&&m.is.searchSelection()&&!m.has.sizer()&&m.create.sizer(),h.allowTab&&m.set.tabbable();},select:function select(){var e=m.get.selectValues();m.debug("Dropdown initialized on a select",e),S.is("select")&&(L=S),0<L.parent(w.dropdown).length?(m.debug("UI dropdown already exists. Creating dropdown menu only"),S=L.closest(w.dropdown),m.has.menu()||m.create.menu(),q=S.children(w.menu),m.setup.menu(e)):(m.debug("Creating entire dropdown from select"),S=X("<div />").attr("class",L.attr("class")).addClass(g.selection).addClass(g.dropdown).html(f.dropdown(e)).insertBefore(L),L.hasClass(g.multiple)&&!1===L.prop("multiple")&&(m.error(v.missingMultiple),L.prop("multiple",!0)),L.is("[multiple]")&&m.set.multiple(),L.prop("disabled")&&(m.debug("Disabling dropdown"),S.addClass(g.disabled)),L.removeAttr("class").detach().prependTo(S)),m.refresh();},menu:function menu(e){q.html(f.menu(e,l)),R=q.find(w.item);},reference:function reference(){m.debug("Dropdown behavior was called on select, replacing with closest dropdown"),S=S.parent(w.dropdown),F=S.data(C),M=S.get(0),m.refresh(),m.setup.returnedObject();},returnedObject:function returnedObject(){var e=H.slice(0,n),t=H.slice(n+1);H=e.add(S).add(t);}},refresh:function refresh(){m.refreshSelectors(),m.refreshData();},refreshItems:function refreshItems(){R=q.find(w.item);},refreshSelectors:function refreshSelectors(){m.verbose("Refreshing selector cache"),A=S.find(w.text),T=S.find(w.search),L=S.find(w.input),I=S.find(w.icon),D=0<S.prev().find(w.text).length?S.prev().find(w.text):S.prev(),q=S.children(w.menu),R=q.find(w.item);},refreshData:function refreshData(){m.verbose("Refreshing cached metadata"),R.removeData(b.text).removeData(b.value);},clearData:function clearData(){m.verbose("Clearing metadata"),R.removeData(b.text).removeData(b.value),S.removeData(b.defaultText).removeData(b.defaultValue).removeData(b.placeholderText);},toggle:function toggle(){m.verbose("Toggling menu visibility"),m.is.active()?m.hide():m.show();},show:function show(e){if(e=X.isFunction(e)?e:function(){},!m.can.show()&&m.is.remote()&&(m.debug("No API results retrieved, searching before show"),m.queryRemote(m.get.query(),m.show)),m.can.show()&&!m.is.active()){if(m.debug("Showing dropdown"),!m.has.message()||m.has.maxSelections()||m.has.allResultsFiltered()||m.remove.message(),m.is.allFiltered())return!0;!1!==h.onShow.call(M)&&m.animate.show(function(){m.can.click()&&m.bind.intent(),m.has.menuSearch()&&m.focusSearch(),m.set.visible(),e.call(M);});}},hide:function hide(e){e=X.isFunction(e)?e:function(){},m.is.active()&&!m.is.animatingOutward()&&(m.debug("Hiding dropdown"),!1!==h.onHide.call(M)&&m.animate.hide(function(){m.remove.visible(),e.call(M);}));},hideOthers:function hideOthers(){m.verbose("Finding other dropdowns to hide"),H.not(S).has(w.menu+"."+g.visible).dropdown("hide");},hideMenu:function hideMenu(){m.verbose("Hiding menu  instantaneously"),m.remove.active(),m.remove.visible(),q.transition("hide");},hideSubMenus:function hideSubMenus(){var e=q.children(w.item).find(w.menu);m.verbose("Hiding sub menus",e),e.transition("hide");},bind:{events:function events(){U&&m.bind.touchEvents(),m.bind.keyboardEvents(),m.bind.inputEvents(),m.bind.mouseEvents();},touchEvents:function touchEvents(){m.debug("Touch device detected binding additional touch events"),m.is.searchSelection()||m.is.single()&&S.on("touchstart"+x,m.event.test.toggle),q.on("touchstart"+x,w.item,m.event.item.mouseenter);},keyboardEvents:function keyboardEvents(){m.verbose("Binding keyboard events"),S.on("keydown"+x,m.event.keydown),m.has.search()&&S.on(m.get.inputEvent()+x,w.search,m.event.input),m.is.multiple()&&j.on("keydown"+a,m.event.document.keydown);},inputEvents:function inputEvents(){m.verbose("Binding input change events"),S.on("change"+x,w.input,m.event.change);},mouseEvents:function mouseEvents(){m.verbose("Binding mouse events"),m.is.multiple()&&S.on("click"+x,w.label,m.event.label.click).on("click"+x,w.remove,m.event.remove.click),m.is.searchSelection()?(S.on("mousedown"+x,m.event.mousedown).on("mouseup"+x,m.event.mouseup).on("mousedown"+x,w.menu,m.event.menu.mousedown).on("mouseup"+x,w.menu,m.event.menu.mouseup).on("click"+x,w.icon,m.event.icon.click).on("focus"+x,w.search,m.event.search.focus).on("click"+x,w.search,m.event.search.focus).on("blur"+x,w.search,m.event.search.blur).on("click"+x,w.text,m.event.text.focus),m.is.multiple()&&S.on("click"+x,m.event.click)):("click"==h.on?S.on("click"+x,m.event.test.toggle):"hover"==h.on?S.on("mouseenter"+x,m.delay.show).on("mouseleave"+x,m.delay.hide):S.on(h.on+x,m.toggle),S.on("click"+x,w.icon,m.event.icon.click).on("mousedown"+x,m.event.mousedown).on("mouseup"+x,m.event.mouseup).on("focus"+x,m.event.focus),m.has.menuSearch()?S.on("blur"+x,w.search,m.event.search.blur):S.on("blur"+x,m.event.blur)),q.on("mouseenter"+x,w.item,m.event.item.mouseenter).on("mouseleave"+x,w.item,m.event.item.mouseleave).on("click"+x,w.item,m.event.item.click);},intent:function intent(){m.verbose("Binding hide intent event to document"),U&&j.on("touchstart"+a,m.event.test.touch).on("touchmove"+a,m.event.test.touch),j.on("click"+a,m.event.test.hide);}},unbind:{intent:function intent(){m.verbose("Removing hide intent event from document"),U&&j.off("touchstart"+a).off("touchmove"+a),j.off("click"+a);}},filter:function filter(e){var t=e!==J?e:m.get.query(),n=function n(){m.is.multiple()&&m.filterActive(),(e||!e&&0==m.get.activeItem().length)&&m.select.firstUnfiltered(),m.has.allResultsFiltered()?h.onNoResults.call(M,t)?h.allowAdditions?h.hideAdditions&&(m.verbose("User addition with no menu, setting empty style"),m.set.empty(),m.hideMenu()):(m.verbose("All items filtered, showing message",t),m.add.message(c.noResults)):(m.verbose("All items filtered, hiding dropdown",t),m.hideMenu()):(m.remove.empty(),m.remove.message()),h.allowAdditions&&m.add.userSuggestion(e),m.is.searchSelection()&&m.can.show()&&m.is.focusedOnSearch()&&m.show();};h.useLabels&&m.has.maxSelections()||(h.apiSettings?m.can.useAPI()?m.queryRemote(t,function(){h.filterRemoteData&&m.filterItems(t),n();}):m.error(v.noAPI):(m.filterItems(t),n()));},queryRemote:function queryRemote(e,n){var t={errorDuration:!1,cache:"local",throttle:h.throttle,urlData:{query:e},onError:function onError(){m.add.message(c.serverError),n();},onFailure:function onFailure(){m.add.message(c.serverError),n();},onSuccess:function onSuccess(e){var t=e[l.remoteValues];X.isArray(t)&&0<t.length?(m.remove.message(),m.setup.menu({values:e[l.remoteValues]})):m.add.message(c.noResults),n();}};S.api("get request")||m.setup.api(),t=X.extend(!0,{},t,h.apiSettings),S.api("setting",t).api("query");},filterItems:function filterItems(e){var i=e!==J?e:m.get.query(),a=null,t=m.escape.string(i),o=new RegExp("^"+t,"igm");m.has.query()&&(a=[],m.verbose("Searching for matching values",i),R.each(function(){var e,t,n=X(this);if("both"==h.match||"text"==h.match){if(-1!==(e=String(m.get.choiceText(n,!1))).search(o))return a.push(this),!0;if("exact"===h.fullTextSearch&&m.exactSearch(i,e))return a.push(this),!0;if(!0===h.fullTextSearch&&m.fuzzySearch(i,e))return a.push(this),!0;}if("both"==h.match||"value"==h.match){if(-1!==(t=String(m.get.choiceValue(n,e))).search(o))return a.push(this),!0;if("exact"===h.fullTextSearch&&m.exactSearch(i,t))return a.push(this),!0;if(!0===h.fullTextSearch&&m.fuzzySearch(i,t))return a.push(this),!0;}})),m.debug("Showing only matched items",i),m.remove.filteredItem(),a&&R.not(a).addClass(g.filtered);},fuzzySearch:function fuzzySearch(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),n<i)return!1;if(i===n)return e===t;e:for(var a=0,o=0;a<i;a++){for(var s=e.charCodeAt(a);o<n;){if(t.charCodeAt(o++)===s)continue e;}return!1;}return!0;},exactSearch:function exactSearch(e,t){return e=e.toLowerCase(),-1<(t=t.toLowerCase()).indexOf(e);},filterActive:function filterActive(){h.useLabels&&R.filter("."+g.active).addClass(g.filtered);},focusSearch:function focusSearch(e){m.has.search()&&!m.is.focusedOnSearch()&&(e?(S.off("focus"+x,w.search),T.focus(),S.on("focus"+x,w.search,m.event.search.focus)):T.focus());},forceSelection:function forceSelection(){var e=R.not(g.filtered).filter("."+g.selected).eq(0),t=R.not(g.filtered).filter("."+g.active).eq(0),n=0<e.length?e:t;if(0<n.length&&!m.is.multiple())return m.debug("Forcing partial selection to selected item",n),void m.event.item.click.call(n,{},!0);h.allowAdditions&&m.set.selected(m.get.query()),m.remove.searchTerm();},change:{values:function values(e){h.allowAdditions||m.clear(),m.debug("Creating dropdown with specified values",e),m.setup.menu({values:e}),X.each(e,function(e,t){if(1==t.selected)return m.debug("Setting initial selection to",t.value),m.set.selected(t.value),!0;});}},event:{change:function change(){E||(m.debug("Input changed, updating selection"),m.set.selected());},focus:function focus(){h.showOnFocus&&!O&&m.is.hidden()&&!t&&m.show();},blur:function blur(e){t=G.activeElement===this,O||t||(m.remove.activeLabel(),m.hide());},mousedown:function mousedown(){m.is.searchSelection()?i=!0:O=!0;},mouseup:function mouseup(){m.is.searchSelection()?i=!1:O=!1;},click:function click(e){X(e.target).is(S)&&(m.is.focusedOnSearch()?m.show():m.focusSearch());},search:{focus:function focus(){O=!0,m.is.multiple()&&m.remove.activeLabel(),h.showOnFocus&&m.search();},blur:function blur(e){t=G.activeElement===this,m.is.searchSelection()&&!i&&(V||t||(h.forceSelection&&m.forceSelection(),m.hide())),i=!1;}},icon:{click:function click(e){I.hasClass(g.clear)?m.clear():m.can.click()&&m.toggle();}},text:{focus:function focus(e){O=!0,m.focusSearch();}},input:function input(e){(m.is.multiple()||m.is.searchSelection())&&m.set.filtered(),clearTimeout(m.timer),m.timer=setTimeout(m.search,h.delay.search);},label:{click:function click(e){var t=X(this),n=S.find(w.label),i=n.filter("."+g.active),a=t.nextAll("."+g.active),o=t.prevAll("."+g.active),s=0<a.length?t.nextUntil(a).add(i).add(t):t.prevUntil(o).add(i).add(t);e.shiftKey?(i.removeClass(g.active),s.addClass(g.active)):e.ctrlKey?t.toggleClass(g.active):(i.removeClass(g.active),t.addClass(g.active)),h.onLabelSelect.apply(this,n.filter("."+g.active));}},remove:{click:function click(){var e=X(this).parent();e.hasClass(g.active)?m.remove.activeLabels():m.remove.activeLabels(e);}},test:{toggle:function toggle(e){var t=m.is.multiple()?m.show:m.toggle;m.is.bubbledLabelClick(e)||m.is.bubbledIconClick(e)||m.determine.eventOnElement(e,t)&&e.preventDefault();},touch:function touch(e){m.determine.eventOnElement(e,function(){"touchstart"==e.type?m.timer=setTimeout(function(){m.hide();},h.delay.touch):"touchmove"==e.type&&clearTimeout(m.timer);}),e.stopPropagation();},hide:function hide(e){m.determine.eventInModule(e,m.hide);}},select:{mutation:function mutation(e){m.debug("<select> modified, recreating menu");var n=!1;X.each(e,function(e,t){if(X(t.target).is("select")||X(t.addedNodes).is("select"))return n=!0;}),n&&(m.disconnect.selectObserver(),m.refresh(),m.setup.select(),m.set.selected(),m.observe.select());}},menu:{mutation:function mutation(e){var t=e[0],n=t.addedNodes?X(t.addedNodes[0]):X(!1),i=t.removedNodes?X(t.removedNodes[0]):X(!1),a=n.add(i),o=a.is(w.addition)||0<a.closest(w.addition).length,s=a.is(w.message)||0<a.closest(w.message).length;o||s?(m.debug("Updating item selector cache"),m.refreshItems()):(m.debug("Menu modified, updating selector cache"),m.refresh());},mousedown:function mousedown(){V=!0;},mouseup:function mouseup(){V=!1;}},item:{mouseenter:function mouseenter(e){var t=X(e.target),n=X(this),i=n.children(w.menu),a=n.siblings(w.item).children(w.menu),o=0<i.length;!(0<i.find(t).length)&&o&&(clearTimeout(m.itemTimer),m.itemTimer=setTimeout(function(){m.verbose("Showing sub-menu",i),X.each(a,function(){m.animate.hide(!1,X(this));}),m.animate.show(!1,i);},h.delay.show),e.preventDefault());},mouseleave:function mouseleave(e){var t=X(this).children(w.menu);0<t.length&&(clearTimeout(m.itemTimer),m.itemTimer=setTimeout(function(){m.verbose("Hiding sub-menu",t),m.animate.hide(!1,t);},h.delay.hide));},click:function click(e,t){var n=X(this),i=X(e?e.target:""),a=n.find(w.menu),o=m.get.choiceText(n),s=m.get.choiceValue(n,o),r=0<a.length,l=0<a.find(i).length;m.has.menuSearch()&&X(G.activeElement).blur(),l||r&&!h.allowCategorySelection||(m.is.searchSelection()&&(h.allowAdditions&&m.remove.userAddition(),m.remove.searchTerm(),m.is.focusedOnSearch()||1==t||m.focusSearch(!0)),h.useLabels||(m.remove.filteredItem(),m.set.scrollPosition(n)),m.determine.selectAction.call(this,o,s));}},document:{keydown:function keydown(e){var t=e.which;if(m.is.inObject(t,p)){var n=S.find(w.label),i=n.filter("."+g.active),a=(i.data(b.value),n.index(i)),o=n.length,s=0<i.length,r=1<i.length,l=0===a,c=a+1==o,u=m.is.searchSelection(),d=m.is.focusedOnSearch(),v=m.is.focused(),f=d&&0===m.get.caretPosition();if(u&&!s&&!d)return;t==p.leftArrow?!v&&!f||s?s&&(e.shiftKey?m.verbose("Adding previous label to selection"):(m.verbose("Selecting previous label"),n.removeClass(g.active)),l&&!r?i.addClass(g.active):i.prev(w.siblingLabel).addClass(g.active).end(),e.preventDefault()):(m.verbose("Selecting previous label"),n.last().addClass(g.active)):t==p.rightArrow?(v&&!s&&n.first().addClass(g.active),s&&(e.shiftKey?m.verbose("Adding next label to selection"):(m.verbose("Selecting next label"),n.removeClass(g.active)),c?u?d?n.removeClass(g.active):m.focusSearch():r?i.next(w.siblingLabel).addClass(g.active):i.addClass(g.active):i.next(w.siblingLabel).addClass(g.active),e.preventDefault())):t==p.deleteKey||t==p.backspace?s?(m.verbose("Removing active labels"),c&&u&&!d&&m.focusSearch(),i.last().next(w.siblingLabel).addClass(g.active),m.remove.activeLabels(i),e.preventDefault()):f&&!s&&t==p.backspace&&(m.verbose("Removing last label on input backspace"),i=n.last().addClass(g.active),m.remove.activeLabels(i)):i.removeClass(g.active);}}},keydown:function keydown(e){var t=e.which;if(m.is.inObject(t,p)){var n,i=R.not(w.unselectable).filter("."+g.selected).eq(0),a=q.children("."+g.active).eq(0),o=0<i.length?i:a,s=0<o.length?o.siblings(":not(."+g.filtered+")").addBack():q.children(":not(."+g.filtered+")"),r=o.children(w.menu),l=o.closest(w.menu),c=l.hasClass(g.visible)||l.hasClass(g.animating)||0<l.parent(w.menu).length,u=0<r.length,d=0<o.length,v=0<o.not(w.unselectable).length,f=t==p.delimiter&&h.allowAdditions&&m.is.multiple();if(h.allowAdditions&&h.hideAdditions&&(t==p.enter||f)&&v&&(m.verbose("Selecting item from keyboard shortcut",o),m.event.item.click.call(o,e),m.is.searchSelection()&&m.remove.searchTerm()),m.is.visible()){if((t==p.enter||f)&&(t==p.enter&&d&&u&&!h.allowCategorySelection?(m.verbose("Pressed enter on unselectable category, opening sub menu"),t=p.rightArrow):v&&(m.verbose("Selecting item from keyboard shortcut",o),m.event.item.click.call(o,e),m.is.searchSelection()&&m.remove.searchTerm()),e.preventDefault()),d&&(t==p.leftArrow&&l[0]!==q[0]&&(m.verbose("Left key pressed, closing sub-menu"),m.animate.hide(!1,l),o.removeClass(g.selected),l.closest(w.item).addClass(g.selected),e.preventDefault()),t==p.rightArrow&&u&&(m.verbose("Right key pressed, opening sub-menu"),m.animate.show(!1,r),o.removeClass(g.selected),r.find(w.item).eq(0).addClass(g.selected),e.preventDefault())),t==p.upArrow){if(n=d&&c?o.prevAll(w.item+":not("+w.unselectable+")").eq(0):R.eq(0),s.index(n)<0)return m.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();m.verbose("Up key pressed, changing active item"),o.removeClass(g.selected),n.addClass(g.selected),m.set.scrollPosition(n),h.selectOnKeydown&&m.is.single()&&m.set.selectedItem(n),e.preventDefault();}if(t==p.downArrow){if(0===(n=d&&c?n=o.nextAll(w.item+":not("+w.unselectable+")").eq(0):R.eq(0)).length)return m.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();m.verbose("Down key pressed, changing active item"),R.removeClass(g.selected),n.addClass(g.selected),m.set.scrollPosition(n),h.selectOnKeydown&&m.is.single()&&m.set.selectedItem(n),e.preventDefault();}t==p.pageUp&&(m.scrollPage("up"),e.preventDefault()),t==p.pageDown&&(m.scrollPage("down"),e.preventDefault()),t==p.escape&&(m.verbose("Escape key pressed, closing dropdown"),m.hide());}else f&&e.preventDefault(),t!=p.downArrow||m.is.visible()||(m.verbose("Down key pressed, showing dropdown"),m.show(),e.preventDefault());}else m.has.search()||m.set.selectedLetter(String.fromCharCode(t));}},trigger:{change:function change(){var e=G.createEvent("HTMLEvents"),t=L[0];t&&(m.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e));}},determine:{selectAction:function selectAction(e,t){m.verbose("Determining action",h.action),X.isFunction(m.action[h.action])?(m.verbose("Triggering preset action",h.action,e,t),m.action[h.action].call(M,e,t,this)):X.isFunction(h.action)?(m.verbose("Triggering user action",h.action,e,t),h.action.call(M,e,t,this)):m.error(v.action,h.action);},eventInModule:function eventInModule(e,t){var n=X(e.target),i=0<n.closest(G.documentElement).length,a=0<n.closest(S).length;return t=X.isFunction(t)?t:function(){},i&&!a?(m.verbose("Triggering event",t),t(),!0):(m.verbose("Event occurred in dropdown, canceling callback"),!1);},eventOnElement:function eventOnElement(e,t){var n=X(e.target),i=n.closest(w.siblingLabel),a=G.body.contains(e.target),o=0===S.find(i).length,s=0===n.closest(q).length;return t=X.isFunction(t)?t:function(){},a&&o&&s?(m.verbose("Triggering event",t),t(),!0):(m.verbose("Event occurred in dropdown menu, canceling callback"),!1);}},action:{nothing:function nothing(){},activate:function activate(e,t,n){if(t=t!==J?t:e,m.can.activate(X(n))){if(m.set.selected(t,X(n)),m.is.multiple()&&!m.is.allFiltered())return;m.hideAndClear();}},select:function select(e,t,n){if(t=t!==J?t:e,m.can.activate(X(n))){if(m.set.value(t,e,X(n)),m.is.multiple()&&!m.is.allFiltered())return;m.hideAndClear();}},combo:function combo(e,t,n){t=t!==J?t:e,m.set.selected(t,X(n)),m.hideAndClear();},hide:function hide(e,t,n){m.set.value(t,e,X(n)),m.hideAndClear();}},get:{id:function id(){return o;},defaultText:function defaultText(){return S.data(b.defaultText);},defaultValue:function defaultValue(){return S.data(b.defaultValue);},placeholderText:function placeholderText(){return"auto"!=h.placeholder&&"string"==typeof h.placeholder?h.placeholder:S.data(b.placeholderText)||"";},text:function text(){return A.text();},query:function query(){return X.trim(T.val());},searchWidth:function searchWidth(e){return e=e!==J?e:T.val(),k.text(e),Math.ceil(k.width()+1);},selectionCount:function selectionCount(){var e=m.get.values();return m.is.multiple()?X.isArray(e)?e.length:0:""!==m.get.value()?1:0;},transition:function transition(e){return"auto"==h.transition?m.is.upward(e)?"slide up":"slide down":h.transition;},userValues:function userValues(){var e=m.get.values();return!!e&&(e=X.isArray(e)?e:[e],X.grep(e,function(e){return!1===m.get.item(e);}));},uniqueArray:function uniqueArray(n){return X.grep(n,function(e,t){return X.inArray(e,n)===t;});},caretPosition:function caretPosition(){var e,t,n=T.get(0);return"selectionStart"in n?n.selectionStart:G.selection?(n.focus(),t=(e=G.selection.createRange()).text.length,e.moveStart("character",-n.value.length),e.text.length-t):void 0;},value:function value(){var e=0<L.length?L.val():S.data(b.value),t=X.isArray(e)&&1===e.length&&""===e[0];return e===J||t?"":e;},values:function values(){var e=m.get.value();return""===e?"":!m.has.selectInput()&&m.is.multiple()?"string"==typeof e?e.split(h.delimiter):"":e;},remoteValues:function remoteValues(){var e=m.get.values(),i=!1;return e&&("string"==typeof e&&(e=[e]),X.each(e,function(e,t){var n=m.read.remoteData(t);m.verbose("Restoring value from session data",n,t),n&&(i||(i={}),i[t]=n);})),i;},choiceText:function choiceText(e,t){if(t=t!==J?t:h.preserveHTML,e)return 0<e.find(w.menu).length&&(m.verbose("Retrieving text of element with sub-menu"),(e=e.clone()).find(w.menu).remove(),e.find(w.menuIcon).remove()),e.data(b.text)!==J?e.data(b.text):t?X.trim(e.html()):X.trim(e.text());},choiceValue:function choiceValue(e,t){return t=t||m.get.choiceText(e),!!e&&(e.data(b.value)!==J?String(e.data(b.value)):"string"==typeof t?X.trim(t.toLowerCase()):String(t));},inputEvent:function inputEvent(){var e=T[0];return!!e&&(e.oninput!==J?"input":e.onpropertychange!==J?"propertychange":"keyup");},selectValues:function selectValues(){var a={values:[]};return S.find("option").each(function(){var e=X(this),t=e.html(),n=e.attr("disabled"),i=e.attr("value")!==J?e.attr("value"):t;"auto"===h.placeholder&&""===i?a.placeholder=t:a.values.push({name:t,value:i,disabled:n});}),h.placeholder&&"auto"!==h.placeholder&&(m.debug("Setting placeholder value to",h.placeholder),a.placeholder=h.placeholder),h.sortSelect?(a.values.sort(function(e,t){return e.name>t.name?1:-1;}),m.debug("Retrieved and sorted values from select",a)):m.debug("Retrieved values from select",a),a;},activeItem:function activeItem(){return R.filter("."+g.active);},selectedItem:function selectedItem(){var e=R.not(w.unselectable).filter("."+g.selected);return 0<e.length?e:R.eq(0);},itemWithAdditions:function itemWithAdditions(e){var t=m.get.item(e),n=m.create.userChoice(e);return n&&0<n.length&&(t=0<t.length?t.add(n):n),t;},item:function item(i,a){var e,o,s=!1;return i=i!==J?i:m.get.values()!==J?m.get.values():m.get.text(),e=o?0<i.length:i!==J&&null!==i,o=m.is.multiple()&&X.isArray(i),a=""===i||0===i||a||!1,e&&R.each(function(){var e=X(this),t=m.get.choiceText(e),n=m.get.choiceValue(e,t);if(null!==n&&n!==J)if(o)-1===X.inArray(String(n),i)&&-1===X.inArray(t,i)||(s=s?s.add(e):e);else if(a){if(m.verbose("Ambiguous dropdown value using strict type check",e,i),n===i||t===i)return s=e,!0;}else if(String(n)==String(i)||t==i)return m.verbose("Found select item by value",n,i),s=e,!0;}),s;}},check:{maxSelections:function maxSelections(e){return!h.maxSelections||((e=e!==J?e:m.get.selectionCount())>=h.maxSelections?(m.debug("Maximum selection count reached"),h.useLabels&&(R.addClass(g.filtered),m.add.message(c.maxSelections)),!0):(m.verbose("No longer at maximum selection count"),m.remove.message(),m.remove.filteredItem(),m.is.searchSelection()&&m.filterItems(),!1));}},restore:{defaults:function defaults(){m.clear(),m.restore.defaultText(),m.restore.defaultValue();},defaultText:function defaultText(){var e=m.get.defaultText();e===m.get.placeholderText?(m.debug("Restoring default placeholder text",e),m.set.placeholderText(e)):(m.debug("Restoring default text",e),m.set.text(e));},placeholderText:function placeholderText(){m.set.placeholderText();},defaultValue:function defaultValue(){var e=m.get.defaultValue();e!==J&&(m.debug("Restoring default value",e),""!==e?(m.set.value(e),m.set.selected()):(m.remove.activeItem(),m.remove.selectedItem()));},labels:function labels(){h.allowAdditions&&(h.useLabels||(m.error(v.labels),h.useLabels=!0),m.debug("Restoring selected values"),m.create.userLabels()),m.check.maxSelections();},selected:function selected(){m.restore.values(),m.is.multiple()?(m.debug("Restoring previously selected values and labels"),m.restore.labels()):m.debug("Restoring previously selected values");},values:function values(){m.set.initialLoad(),h.apiSettings&&h.saveRemoteData&&m.get.remoteValues()?m.restore.remoteValues():m.set.selected(),m.remove.initialLoad();},remoteValues:function remoteValues(){var e=m.get.remoteValues();m.debug("Recreating selected from session data",e),e&&(m.is.single()?X.each(e,function(e,t){m.set.text(t);}):X.each(e,function(e,t){m.add.label(e,t);}));}},read:{remoteData:function remoteData(e){var t;if(Y.Storage!==J)return(t=sessionStorage.getItem(e))!==J&&t;m.error(v.noStorage);}},save:{defaults:function defaults(){m.save.defaultText(),m.save.placeholderText(),m.save.defaultValue();},defaultValue:function defaultValue(){var e=m.get.value();m.verbose("Saving default value as",e),S.data(b.defaultValue,e);},defaultText:function defaultText(){var e=m.get.text();m.verbose("Saving default text as",e),S.data(b.defaultText,e);},placeholderText:function placeholderText(){var e;!1!==h.placeholder&&A.hasClass(g.placeholder)&&(e=m.get.text(),m.verbose("Saving placeholder text as",e),S.data(b.placeholderText,e));},remoteData:function remoteData(e,t){Y.Storage!==J?(m.verbose("Saving remote data to session storage",t,e),sessionStorage.setItem(t,e)):m.error(v.noStorage);}},clear:function clear(){m.is.multiple()&&h.useLabels?m.remove.labels():(m.remove.activeItem(),m.remove.selectedItem()),m.set.placeholderText(),m.clearValue();},clearValue:function clearValue(){m.set.value("");},scrollPage:function scrollPage(e,t){var n,i,a=t||m.get.selectedItem(),o=a.closest(w.menu),s=o.outerHeight(),r=o.scrollTop(),l=R.eq(0).outerHeight(),c=Math.floor(s/l),u=(o.prop("scrollHeight"),"up"==e?r-l*c:r+l*c),d=R.not(w.unselectable);i="up"==e?d.index(a)-c:d.index(a)+c,0<(n=("up"==e?0<=i:i<d.length)?d.eq(i):"up"==e?d.first():d.last()).length&&(m.debug("Scrolling page",e,n),a.removeClass(g.selected),n.addClass(g.selected),h.selectOnKeydown&&m.is.single()&&m.set.selectedItem(n),o.scrollTop(u));},set:{filtered:function filtered(){var e=m.is.multiple(),t=m.is.searchSelection(),n=e&&t,i=t?m.get.query():"",a="string"==typeof i&&0<i.length,o=m.get.searchWidth(),s=""!==i;e&&a&&(m.verbose("Adjusting input width",o,h.glyphWidth),T.css("width",o)),a||n&&s?(m.verbose("Hiding placeholder text"),A.addClass(g.filtered)):(!e||n&&!s)&&(m.verbose("Showing placeholder text"),A.removeClass(g.filtered));},empty:function empty(){S.addClass(g.empty);},loading:function loading(){S.addClass(g.loading);},placeholderText:function placeholderText(e){e=e||m.get.placeholderText(),m.debug("Setting placeholder text",e),m.set.text(e),A.addClass(g.placeholder);},tabbable:function tabbable(){m.is.searchSelection()?(m.debug("Added tabindex to searchable dropdown"),T.val("").attr("tabindex",0),q.attr("tabindex",-1)):(m.debug("Added tabindex to dropdown"),S.attr("tabindex")===J&&(S.attr("tabindex",0),q.attr("tabindex",-1)));},initialLoad:function initialLoad(){m.verbose("Setting initial load"),e=!0;},activeItem:function activeItem(e){h.allowAdditions&&0<e.filter(w.addition).length?e.addClass(g.filtered):e.addClass(g.active);},partialSearch:function partialSearch(e){var t=m.get.query().length;T.val(e.substr(0,t));},scrollPosition:function scrollPosition(e,t){var n,i,a,o,s,r;n=(e=e||m.get.selectedItem()).closest(w.menu),i=e&&0<e.length,t=t!==J&&t,e&&0<n.length&&i&&(e.position().top,n.addClass(g.loading),a=(o=n.scrollTop())-n.offset().top+e.offset().top,t||(r=o+n.height()<a+5,s=a-5<o),m.debug("Scrolling to active item",a),(t||s||r)&&n.scrollTop(a),n.removeClass(g.loading));},text:function text(e){"select"!==h.action&&("combo"==h.action?(m.debug("Changing combo button text",e,D),h.preserveHTML?D.html(e):D.text(e)):(e!==m.get.placeholderText()&&A.removeClass(g.placeholder),m.debug("Changing text",e,A),A.removeClass(g.filtered),h.preserveHTML?A.html(e):A.text(e)));},selectedItem:function selectedItem(e){var t=m.get.choiceValue(e),n=m.get.choiceText(e,!1),i=m.get.choiceText(e,!0);m.debug("Setting user selection to item",e),m.remove.activeItem(),m.set.partialSearch(n),m.set.activeItem(e),m.set.selected(t,e),m.set.text(i);},selectedLetter:function selectedLetter(e){var t,n=R.filter("."+g.selected),i=0<n.length&&m.has.firstLetter(n,e),a=!1;i&&(t=n.nextAll(R).eq(0),m.has.firstLetter(t,e)&&(a=t)),a||R.each(function(){if(m.has.firstLetter(X(this),e))return a=X(this),!1;}),a&&(m.verbose("Scrolling to next value with letter",e),m.set.scrollPosition(a),n.removeClass(g.selected),a.addClass(g.selected),h.selectOnKeydown&&m.is.single()&&m.set.selectedItem(a));},direction:function direction(e){"auto"==h.direction?(m.remove.upward(),m.can.openDownward(e)?m.remove.upward(e):m.set.upward(e),m.is.leftward(e)||m.can.openRightward(e)||m.set.leftward(e)):"upward"==h.direction&&m.set.upward(e);},upward:function upward(e){(e||S).addClass(g.upward);},leftward:function leftward(e){(e||q).addClass(g.leftward);},value:function value(e,t,n){var i=m.escape.value(e),a=0<L.length,o=m.get.values(),s=e!==J?String(e):e;if(a){if(!h.allowReselection&&s==o&&(m.verbose("Skipping value update already same value",e,o),!m.is.initialLoad()))return;m.is.single()&&m.has.selectInput()&&m.can.extendSelect()&&(m.debug("Adding user option",e),m.add.optionValue(e)),m.debug("Updating input value",i,o),E=!0,L.val(i),!1===h.fireOnInit&&m.is.initialLoad()?m.debug("Input native change event ignored on initial load"):m.trigger.change(),E=!1;}else m.verbose("Storing value in metadata",i,L),i!==o&&S.data(b.value,s);m.is.single()&&h.clearable&&(i?m.set.clearable():m.remove.clearable()),!1===h.fireOnInit&&m.is.initialLoad()?m.verbose("No callback on initial load",h.onChange):h.onChange.call(M,e,t,n);},active:function active(){S.addClass(g.active);},multiple:function multiple(){S.addClass(g.multiple);},visible:function visible(){S.addClass(g.visible);},exactly:function exactly(e,t){m.debug("Setting selected to exact values"),m.clear(),m.set.selected(e,t);},selected:function selected(e,r){var l=m.is.multiple();(r=h.allowAdditions?r||m.get.itemWithAdditions(e):r||m.get.item(e))&&(m.debug("Setting selected menu item to",r),m.is.multiple()&&m.remove.searchWidth(),m.is.single()?(m.remove.activeItem(),m.remove.selectedItem()):h.useLabels&&m.remove.selectedItem(),r.each(function(){var e=X(this),t=m.get.choiceText(e),n=m.get.choiceValue(e,t),i=e.hasClass(g.filtered),a=e.hasClass(g.active),o=e.hasClass(g.addition),s=l&&1==r.length;l?!a||o?(h.apiSettings&&h.saveRemoteData&&m.save.remoteData(t,n),h.useLabels?(m.add.label(n,t,s),m.add.value(n,t,e),m.set.activeItem(e),m.filterActive(),m.select.nextAvailable(r)):(m.add.value(n,t,e),m.set.text(m.add.variables(c.count)),m.set.activeItem(e))):i||(m.debug("Selected active value, removing label"),m.remove.selected(n)):(h.apiSettings&&h.saveRemoteData&&m.save.remoteData(t,n),m.set.text(t),m.set.value(n,t,e),e.addClass(g.active).addClass(g.selected));}));},clearable:function clearable(){I.addClass(g.clear);}},add:{label:function label(e,t,n){var i,a=m.is.searchSelection()?T:A,o=m.escape.value(e);h.ignoreCase&&(o=o.toLowerCase()),i=X("<a />").addClass(g.label).attr("data-"+b.value,o).html(f.label(o,t)),i=h.onLabelCreate.call(i,o,t),m.has.label(e)?m.debug("User selection already exists, skipping",o):(h.label.variation&&i.addClass(h.label.variation),!0===n?(m.debug("Animating in label",i),i.addClass(g.hidden).insertBefore(a).transition(h.label.transition,h.label.duration)):(m.debug("Adding selection label",i),i.insertBefore(a)));},message:function message(e){var t=q.children(w.message),n=h.templates.message(m.add.variables(e));0<t.length?t.html(n):t=X("<div/>").html(n).addClass(g.message).appendTo(q);},optionValue:function optionValue(e){var t=m.escape.value(e);0<L.find('option[value="'+m.escape.string(t)+'"]').length||(m.disconnect.selectObserver(),m.is.single()&&(m.verbose("Removing previous user addition"),L.find("option."+g.addition).remove()),X("<option/>").prop("value",t).addClass(g.addition).html(e).appendTo(L),m.verbose("Adding user addition as an <option>",e),m.observe.select());},userSuggestion:function userSuggestion(e){var t,n=q.children(w.addition),i=m.get.item(e),a=i&&i.not(w.addition).length,o=0<n.length;h.useLabels&&m.has.maxSelections()||(""===e||a?n.remove():(o?(n.data(b.value,e).data(b.text,e).attr("data-"+b.value,e).attr("data-"+b.text,e).removeClass(g.filtered),h.hideAdditions||(t=h.templates.addition(m.add.variables(c.addResult,e)),n.html(t)),m.verbose("Replacing user suggestion with new value",n)):((n=m.create.userChoice(e)).prependTo(q),m.verbose("Adding item choice to menu corresponding with user choice addition",n)),h.hideAdditions&&!m.is.allFiltered()||n.addClass(g.selected).siblings().removeClass(g.selected),m.refreshItems()));},variables:function variables(e,t){var n,i,a=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),s=-1!==e.search("{term}");return m.verbose("Adding templated variables to message",e),a&&(n=m.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=m.get.selectionCount(),e=e.replace("{maxCount}",h.maxSelections)),s&&(i=t||m.get.query(),e=e.replace("{term}",i)),e;},value:function value(e,t,n){var i,a=m.get.values();m.has.value(e)?m.debug("Value already selected"):""!==e?(i=X.isArray(a)?(i=a.concat([e]),m.get.uniqueArray(i)):[e],m.has.selectInput()?m.can.extendSelect()&&(m.debug("Adding value to select",e,i,L),m.add.optionValue(e)):(i=i.join(h.delimiter),m.debug("Setting hidden input to delimited value",i,L)),!1===h.fireOnInit&&m.is.initialLoad()?m.verbose("Skipping onadd callback on initial load",h.onAdd):h.onAdd.call(M,e,t,n),m.set.value(i,e,t,n),m.check.maxSelections()):m.debug("Cannot select blank values from multiselect");}},remove:{active:function active(){S.removeClass(g.active);},activeLabel:function activeLabel(){S.find(w.label).removeClass(g.active);},empty:function empty(){S.removeClass(g.empty);},loading:function loading(){S.removeClass(g.loading);},initialLoad:function initialLoad(){e=!1;},upward:function upward(e){(e||S).removeClass(g.upward);},leftward:function leftward(e){(e||q).removeClass(g.leftward);},visible:function visible(){S.removeClass(g.visible);},activeItem:function activeItem(){R.removeClass(g.active);},filteredItem:function filteredItem(){h.useLabels&&m.has.maxSelections()||(h.useLabels&&m.is.multiple()?R.not("."+g.active).removeClass(g.filtered):R.removeClass(g.filtered),m.remove.empty());},optionValue:function optionValue(e){var t=m.escape.value(e),n=L.find('option[value="'+m.escape.string(t)+'"]');0<n.length&&n.hasClass(g.addition)&&(s&&(s.disconnect(),m.verbose("Temporarily disconnecting mutation observer")),n.remove(),m.verbose("Removing user addition as an <option>",t),s&&s.observe(L[0],{childList:!0,subtree:!0}));},message:function message(){q.children(w.message).remove();},searchWidth:function searchWidth(){T.css("width","");},searchTerm:function searchTerm(){m.verbose("Cleared search term"),T.val(""),m.set.filtered();},userAddition:function userAddition(){R.filter(w.addition).remove();},selected:function selected(e,t){if(!(t=h.allowAdditions?t||m.get.itemWithAdditions(e):t||m.get.item(e)))return!1;t.each(function(){var e=X(this),t=m.get.choiceText(e),n=m.get.choiceValue(e,t);m.is.multiple()?h.useLabels?(m.remove.value(n,t,e),m.remove.label(n)):(m.remove.value(n,t,e),0===m.get.selectionCount()?m.set.placeholderText():m.set.text(m.add.variables(c.count))):m.remove.value(n,t,e),e.removeClass(g.filtered).removeClass(g.active),h.useLabels&&e.removeClass(g.selected);});},selectedItem:function selectedItem(){R.removeClass(g.selected);},value:function value(e,t,n){var i,a=m.get.values();m.has.selectInput()?(m.verbose("Input is <select> removing selected option",e),i=m.remove.arrayValue(e,a),m.remove.optionValue(e)):(m.verbose("Removing from delimited values",e),i=(i=m.remove.arrayValue(e,a)).join(h.delimiter)),!1===h.fireOnInit&&m.is.initialLoad()?m.verbose("No callback on initial load",h.onRemove):h.onRemove.call(M,e,t,n),m.set.value(i,t,n),m.check.maxSelections();},arrayValue:function arrayValue(t,e){return X.isArray(e)||(e=[e]),e=X.grep(e,function(e){return t!=e;}),m.verbose("Removed value from delimited string",t,e),e;},label:function label(e,t){var n=S.find(w.label).filter("[data-"+b.value+'="'+m.escape.string(e)+'"]');m.verbose("Removing label",n),n.remove();},activeLabels:function activeLabels(e){e=e||S.find(w.label).filter("."+g.active),m.verbose("Removing active label selections",e),m.remove.labels(e);},labels:function labels(e){e=e||S.find(w.label),m.verbose("Removing labels",e),e.each(function(){var e=X(this),t=e.data(b.value),n=t!==J?String(t):t,i=m.is.userValue(n);!1!==h.onLabelRemove.call(e,t)?(m.remove.message(),i?(m.remove.value(n),m.remove.label(n)):m.remove.selected(n)):m.debug("Label remove callback cancelled removal");});},tabbable:function tabbable(){m.is.searchSelection()?(m.debug("Searchable dropdown initialized"),T.removeAttr("tabindex")):(m.debug("Simple selection dropdown initialized"),S.removeAttr("tabindex")),q.removeAttr("tabindex");},clearable:function clearable(){I.removeClass(g.clear);}},has:{menuSearch:function menuSearch(){return m.has.search()&&0<T.closest(q).length;},search:function search(){return 0<T.length;},sizer:function sizer(){return 0<k.length;},selectInput:function selectInput(){return L.is("select");},minCharacters:function minCharacters(e){return!h.minCharacters||(e=e!==J?String(e):String(m.get.query())).length>=h.minCharacters;},firstLetter:function firstLetter(e,t){var n;return!(!e||0===e.length||"string"!=typeof t)&&(n=m.get.choiceText(e,!1),(t=t.toLowerCase())==String(n).charAt(0).toLowerCase());},input:function input(){return 0<L.length;},items:function items(){return 0<R.length;},menu:function menu(){return 0<q.length;},message:function message(){return 0!==q.children(w.message).length;},label:function label(e){var t=m.escape.value(e),n=S.find(w.label);return h.ignoreCase&&(t=t.toLowerCase()),0<n.filter("[data-"+b.value+'="'+m.escape.string(t)+'"]').length;},maxSelections:function maxSelections(){return h.maxSelections&&m.get.selectionCount()>=h.maxSelections;},allResultsFiltered:function allResultsFiltered(){var e=R.not(w.addition);return e.filter(w.unselectable).length===e.length;},userSuggestion:function userSuggestion(){return 0<q.children(w.addition).length;},query:function query(){return""!==m.get.query();},value:function value(e){return h.ignoreCase?m.has.valueIgnoringCase(e):m.has.valueMatchingCase(e);},valueMatchingCase:function valueMatchingCase(e){var t=m.get.values();return!!(X.isArray(t)?t&&-1!==X.inArray(e,t):t==e);},valueIgnoringCase:function valueIgnoringCase(n){var e=m.get.values(),i=!1;return X.isArray(e)||(e=[e]),X.each(e,function(e,t){if(String(n).toLowerCase()==String(t).toLowerCase())return!(i=!0);}),i;}},is:{active:function active(){return S.hasClass(g.active);},animatingInward:function animatingInward(){return q.transition("is inward");},animatingOutward:function animatingOutward(){return q.transition("is outward");},bubbledLabelClick:function bubbledLabelClick(e){return X(e.target).is("select, input")&&0<S.closest("label").length;},bubbledIconClick:function bubbledIconClick(e){return 0<X(e.target).closest(I).length;},alreadySetup:function alreadySetup(){return S.is("select")&&S.parent(w.dropdown).data(C)!==J&&0===S.prev().length;},animating:function animating(e){return e?e.transition&&e.transition("is animating"):q.transition&&q.transition("is animating");},leftward:function leftward(e){return(e||q).hasClass(g.leftward);},disabled:function disabled(){return S.hasClass(g.disabled);},focused:function focused(){return G.activeElement===S[0];},focusedOnSearch:function focusedOnSearch(){return G.activeElement===T[0];},allFiltered:function allFiltered(){return(m.is.multiple()||m.has.search())&&!(0==h.hideAdditions&&m.has.userSuggestion())&&!m.has.message()&&m.has.allResultsFiltered();},hidden:function hidden(e){return!m.is.visible(e);},initialLoad:function initialLoad(){return e;},inObject:function inObject(n,e){var i=!1;return X.each(e,function(e,t){if(t==n)return i=!0;}),i;},multiple:function multiple(){return S.hasClass(g.multiple);},remote:function remote(){return h.apiSettings&&m.can.useAPI();},single:function single(){return!m.is.multiple();},selectMutation:function selectMutation(e){var n=!1;return X.each(e,function(e,t){if(t.target&&X(t.target).is("select"))return n=!0;}),n;},search:function search(){return S.hasClass(g.search);},searchSelection:function searchSelection(){return m.has.search()&&1===T.parent(w.dropdown).length;},selection:function selection(){return S.hasClass(g.selection);},userValue:function userValue(e){return-1!==X.inArray(e,m.get.userValues());},upward:function upward(e){return(e||S).hasClass(g.upward);},visible:function visible(e){return e?e.hasClass(g.visible):q.hasClass(g.visible);},verticallyScrollableContext:function verticallyScrollableContext(){var e=y.get(0)!==Y&&y.css("overflow-y");return"auto"==e||"scroll"==e;},horizontallyScrollableContext:function horizontallyScrollableContext(){var e=y.get(0)!==Y&&y.css("overflow-X");return"auto"==e||"scroll"==e;}},can:{activate:function activate(e){return!!h.useLabels||!m.has.maxSelections()||!(!m.has.maxSelections()||!e.hasClass(g.active));},openDownward:function openDownward(e){var t,n,i=e||q,a=!0;return i.addClass(g.loading),n={context:{offset:y.get(0)===Y?{top:0,left:0}:y.offset(),scrollTop:y.scrollTop(),height:y.outerHeight()},menu:{offset:i.offset(),height:i.outerHeight()}},m.is.verticallyScrollableContext()&&(n.menu.offset.top+=n.context.scrollTop),a=(t={above:n.context.scrollTop<=n.menu.offset.top-n.context.offset.top-n.menu.height,below:n.context.scrollTop+n.context.height>=n.menu.offset.top-n.context.offset.top+n.menu.height}).below?(m.verbose("Dropdown can fit in context downward",t),!0):t.below||t.above?(m.verbose("Dropdown cannot fit below, opening upward",t),!1):(m.verbose("Dropdown cannot fit in either direction, favoring downward",t),!0),i.removeClass(g.loading),a;},openRightward:function openRightward(e){var t,n,i=e||q,a=!0;return i.addClass(g.loading),n={context:{offset:y.get(0)===Y?{top:0,left:0}:y.offset(),scrollLeft:y.scrollLeft(),width:y.outerWidth()},menu:{offset:i.offset(),width:i.outerWidth()}},m.is.horizontallyScrollableContext()&&(n.menu.offset.left+=n.context.scrollLeft),(t=n.menu.offset.left-n.context.offset.left+n.menu.width>=n.context.scrollLeft+n.context.width)&&(m.verbose("Dropdown cannot fit in context rightward",t),a=!1),i.removeClass(g.loading),a;},click:function click(){return U||"click"==h.on;},extendSelect:function extendSelect(){return h.allowAdditions||h.apiSettings;},show:function show(){return!m.is.disabled()&&(m.has.items()||m.has.message());},useAPI:function useAPI(){return X.fn.api!==J;}},animate:{show:function show(e,t){var n,i=t||q,a=t?function(){}:function(){m.hideSubMenus(),m.hideOthers(),m.set.active();};e=X.isFunction(e)?e:function(){},m.verbose("Doing menu show animation",i),m.set.direction(t),n=m.get.transition(t),m.is.selection()&&m.set.scrollPosition(m.get.selectedItem(),!0),(m.is.hidden(i)||m.is.animating(i))&&("none"==n?(a(),i.transition("show"),e.call(M)):X.fn.transition!==J&&S.transition("is supported")?i.transition({animation:n+" in",debug:h.debug,verbose:h.verbose,duration:h.duration,queue:!0,onStart:a,onComplete:function onComplete(){e.call(M);}}):m.error(v.noTransition,n));},hide:function hide(e,t){var n=t||q,i=(t?h.duration:h.duration,t?function(){}:function(){m.can.click()&&m.unbind.intent(),m.remove.active();}),a=m.get.transition(t);e=X.isFunction(e)?e:function(){},(m.is.visible(n)||m.is.animating(n))&&(m.verbose("Doing menu hide animation",n),"none"==a?(i(),n.transition("hide"),e.call(M)):X.fn.transition!==J&&S.transition("is supported")?n.transition({animation:a+" out",duration:h.duration,debug:h.debug,verbose:h.verbose,queue:!1,onStart:i,onComplete:function onComplete(){e.call(M);}}):m.error(v.transition));}},hideAndClear:function hideAndClear(){m.remove.searchTerm(),m.has.maxSelections()||(m.has.search()?m.hide(function(){m.remove.filteredItem();}):m.hide());},delay:{show:function show(){m.verbose("Delaying show event to ensure user intent"),clearTimeout(m.timer),m.timer=setTimeout(m.show,h.delay.show);},hide:function hide(){m.verbose("Delaying hide event to ensure user intent"),clearTimeout(m.timer),m.timer=setTimeout(m.hide,h.delay.hide);}},escape:{value:function value(e){var t=X.isArray(e),n="string"==typeof e,i=!n&&!t,a=n&&-1!==e.search(d.quote),o=[];return i||!a?e:(m.debug("Encoding quote values for use in select",e),t?(X.each(e,function(e,t){o.push(t.replace(d.quote,"&quot;"));}),o):e.replace(d.quote,"&quot;"));},string:function string(e){return(e=String(e)).replace(d.escape,"\\$&");}},setting:function setting(e,t){if(m.debug("Changing setting",e,t),X.isPlainObject(e))X.extend(!0,h,e);else{if(t===J)return h[e];X.isPlainObject(h[e])?X.extend(!0,h[e],t):h[e]=t;}},internal:function internal(e,t){if(X.isPlainObject(e))X.extend(!0,m,e);else{if(t===J)return m[e];m[e]=t;}},debug:function debug(){!h.silent&&h.debug&&(h.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,h.name+":"),m.debug.apply(console,arguments)));},verbose:function verbose(){!h.silent&&h.verbose&&h.debug&&(h.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),m.verbose.apply(console,arguments)));},error:function error(){h.silent||(m.error=Function.prototype.bind.call(console.error,console,h.name+":"),m.error.apply(console,arguments));},performance:{log:function log(e){var t,n;h.performance&&(n=(t=new Date().getTime())-(K||t),K=t,W.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:M,"Execution Time":n})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500);},display:function display(){var e=h.name+":",n=0;K=!1,clearTimeout(m.performance.timer),X.each(W,function(e,t){n+=t["Execution Time"];}),e+=" "+n+"ms",N&&(e+=" '"+N+"'"),(console.group!==J||console.table!==J)&&0<W.length&&(console.groupCollapsed(e),console.table?console.table(W):X.each(W,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms");}),console.groupEnd()),W=[];}},invoke:function invoke(i,e,t){var a,o,n,s=F;return e=e||Q,t=M||t,"string"==typeof i&&s!==J&&(i=i.split(/[\. ]/),a=i.length-1,X.each(i,function(e,t){var n=e!=a?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(X.isPlainObject(s[n])&&e!=a)s=s[n];else{if(s[n]!==J)return o=s[n],!1;if(!X.isPlainObject(s[t])||e==a)return s[t]!==J?o=s[t]:m.error(v.method,i),!1;s=s[t];}})),X.isFunction(o)?n=o.apply(t,e):o!==J&&(n=o),X.isArray(P)?P.push(n):P!==J?P=[P,n]:n!==J&&(P=n),o;}},$?(F===J&&m.initialize(),m.invoke(B)):(F!==J&&F.invoke("destroy"),m.initialize());}),P!==J?P:H;},X.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,clearable:!1,apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:Y,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,ignoreCase:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function onChange(e,t,n){},onAdd:function onAdd(e,t,n){},onRemove:function onRemove(e,t,n){},onLabelSelect:function onLabelSelect(e){},onLabelCreate:function onLabelCreate(e,t){return X(this);},onLabelRemove:function onLabelRemove(e){return!0;},onNoResults:function onNoResults(e){return!0;},onShow:function onShow(){},onHide:function onHide(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",clear:"clear",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}},X.fn.dropdown.settings.templates={dropdown:function dropdown(e){var t=e.placeholder||!1,n=(e.values,"");return n+='<i class="dropdown icon"></i>',e.placeholder?n+='<div class="default text">'+t+"</div>":n+='<div class="text"></div>',n+='<div class="menu">',X.each(e.values,function(e,t){n+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>";}),n+="</div>";},menu:function menu(e,a){var t=e[a.values]||{},o="";return X.each(t,function(e,t){var n=t[a.text]?'data-text="'+t[a.text]+'"':"",i=t[a.disabled]?"disabled ":"";o+='<div class="'+i+'item" data-value="'+t[a.value]+'"'+n+">",o+=t[a.name],o+="</div>";}),o;},label:function label(e,t){return t+'<i class="delete icon"></i>';},message:function message(e){return e;},addition:function addition(e){return e;}};}(jQuery,window,document);(function(){function require(name){var module=require.modules[name];if(!module)throw new Error('failed to require "'+name+'"');if(!("exports"in module)&&typeof module.definition==="function"){module.client=module.component=true;module.definition.call(this,module.exports={},module);delete module.definition;}return module.exports;}require.loader="component";require.helper={};require.helper.semVerSort=function(a,b){var aArray=a.version.split(".");var bArray=b.version.split(".");for(var i=0;i<aArray.length;++i){var aInt=parseInt(aArray[i],10);var bInt=parseInt(bArray[i],10);if(aInt===bInt){var aLex=aArray[i].substr((""+aInt).length);var bLex=bArray[i].substr((""+bInt).length);if(aLex===""&&bLex!=="")return 1;if(aLex!==""&&bLex==="")return-1;if(aLex!==""&&bLex!=="")return aLex>bLex?1:-1;continue;}else if(aInt>bInt){return 1;}else{return-1;}}return 0;};require.latest=function(name,returnPath){function showError(name){throw new Error('failed to find latest module of "'+name+'"');}var versionRegexp=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/;var remoteRegexp=/(.*)~(.*)/;if(!remoteRegexp.test(name))showError(name);var moduleNames=Object.keys(require.modules);var semVerCandidates=[];var otherCandidates=[];for(var i=0;i<moduleNames.length;i++){var moduleName=moduleNames[i];if(new RegExp(name+"@").test(moduleName)){var version=moduleName.substr(name.length+1);var semVerMatch=versionRegexp.exec(moduleName);if(semVerMatch!=null){semVerCandidates.push({version:version,name:moduleName});}else{otherCandidates.push({version:version,name:moduleName});}}}if(semVerCandidates.concat(otherCandidates).length===0){showError(name);}if(semVerCandidates.length>0){var module=semVerCandidates.sort(require.helper.semVerSort).pop().name;if(returnPath===true){return module;}return require(module);}var module=otherCandidates.sort(function(a,b){return a.name>b.name;})[0].name;if(returnPath===true){return module;}return require(module);};require.modules={};require.register=function(name,definition){require.modules[name]={definition:definition};};require.define=function(name,exports){require.modules[name]={exports:exports};};require.register("abpetkov~transitionize@0.0.3",function(exports,module){module.exports=Transitionize;function Transitionize(element,props){if(!(this instanceof Transitionize))return new Transitionize(element,props);this.element=element;this.props=props||{};this.init();}Transitionize.prototype.isSafari=function(){return /Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);};Transitionize.prototype.init=function(){var transitions=[];for(var key in this.props){transitions.push(key+" "+this.props[key]);}this.element.style.transition=transitions.join(", ");if(this.isSafari())this.element.style.webkitTransition=transitions.join(", ");};});require.register("ftlabs~fastclick@v0.6.11",function(exports,module){function FastClick(layer){"use strict";var oldOnClick,self=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=layer;if(!layer||!layer.nodeType){throw new TypeError("Layer must be a document node");}this.onClick=function(){return FastClick.prototype.onClick.apply(self,arguments);};this.onMouse=function(){return FastClick.prototype.onMouse.apply(self,arguments);};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(self,arguments);};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(self,arguments);};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(self,arguments);};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(self,arguments);};if(FastClick.notNeeded(layer)){return;}if(this.deviceIsAndroid){layer.addEventListener("mouseover",this.onMouse,true);layer.addEventListener("mousedown",this.onMouse,true);layer.addEventListener("mouseup",this.onMouse,true);}layer.addEventListener("click",this.onClick,true);layer.addEventListener("touchstart",this.onTouchStart,false);layer.addEventListener("touchmove",this.onTouchMove,false);layer.addEventListener("touchend",this.onTouchEnd,false);layer.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;if(type==="click"){rmv.call(layer,type,callback.hijacked||callback,capture);}else{rmv.call(layer,type,callback,capture);}};layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;if(type==="click"){adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){if(!event.propagationStopped){callback(event);}}),capture);}else{adv.call(layer,type,callback,capture);}};}if(typeof layer.onclick==="function"){oldOnClick=layer.onclick;layer.addEventListener("click",function(event){oldOnClick(event);},false);layer.onclick=null;}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(target){"use strict";switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled){return true;}break;case"input":if(this.deviceIsIOS&&target.type==="file"||target.disabled){return true;}break;case"label":case"video":return true;}return /\bneedsclick\b/.test(target.className);};FastClick.prototype.needsFocus=function(target){"use strict";switch(target.nodeName.toLowerCase()){case"textarea":return true;case"select":return!this.deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false;}return!target.disabled&&!target.readOnly;default:return /\bneedsfocus\b/.test(target.className);}};FastClick.prototype.sendClick=function(targetElement,event){"use strict";var clickEvent,touch;if(document.activeElement&&document.activeElement!==targetElement){document.activeElement.blur();}touch=event.changedTouches[0];clickEvent=document.createEvent("MouseEvents");clickEvent.initMouseEvent(this.determineEventType(targetElement),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);clickEvent.forwardedTouchEvent=true;targetElement.dispatchEvent(clickEvent);};FastClick.prototype.determineEventType=function(targetElement){"use strict";if(this.deviceIsAndroid&&targetElement.tagName.toLowerCase()==="select"){return"mousedown";}return"click";};FastClick.prototype.focus=function(targetElement){"use strict";var length;if(this.deviceIsIOS&&targetElement.setSelectionRange&&targetElement.type.indexOf("date")!==0&&targetElement.type!=="time"){length=targetElement.value.length;targetElement.setSelectionRange(length,length);}else{targetElement.focus();}};FastClick.prototype.updateScrollParent=function(targetElement){"use strict";var scrollParent,parentElement;scrollParent=targetElement.fastClickScrollParent;if(!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement;targetElement.fastClickScrollParent=parentElement;break;}parentElement=parentElement.parentElement;}while(parentElement);}if(scrollParent){scrollParent.fastClickLastScrollTop=scrollParent.scrollTop;}};FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){"use strict";if(eventTarget.nodeType===Node.TEXT_NODE){return eventTarget.parentNode;}return eventTarget;};FastClick.prototype.onTouchStart=function(event){"use strict";var targetElement,touch,selection;if(event.targetTouches.length>1){return true;}targetElement=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(this.deviceIsIOS){selection=window.getSelection();if(selection.rangeCount&&!selection.isCollapsed){return true;}if(!this.deviceIsIOS4){if(touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false;}this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(targetElement);}}this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=targetElement;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if(event.timeStamp-this.lastClickTime<200){event.preventDefault();}return true;};FastClick.prototype.touchHasMoved=function(event){"use strict";var touch=event.changedTouches[0],boundary=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary){return true;}return false;};FastClick.prototype.onTouchMove=function(event){"use strict";if(!this.trackingClick){return true;}if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null;}return true;};FastClick.prototype.findControl=function(labelElement){"use strict";if(labelElement.control!==undefined){return labelElement.control;}if(labelElement.htmlFor){return document.getElementById(labelElement.htmlFor);}return labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea");};FastClick.prototype.onTouchEnd=function(event){"use strict";var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick){return true;}if(event.timeStamp-this.lastClickTime<200){this.cancelNextClick=true;return true;}this.cancelNextClick=false;this.lastClickTime=event.timeStamp;trackingClickStart=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){touch=event.changedTouches[0];targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement;targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent;}targetTagName=targetElement.tagName.toLowerCase();if(targetTagName==="label"){forElement=this.findControl(targetElement);if(forElement){this.focus(targetElement);if(this.deviceIsAndroid){return false;}targetElement=forElement;}}else if(this.needsFocus(targetElement)){if(event.timeStamp-trackingClickStart>100||this.deviceIsIOS&&window.top!==window&&targetTagName==="input"){this.targetElement=null;return false;}this.focus(targetElement);if(!this.deviceIsIOS4||targetTagName!=="select"){this.targetElement=null;event.preventDefault();}return false;}if(this.deviceIsIOS&&!this.deviceIsIOS4){scrollParent=targetElement.fastClickScrollParent;if(scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop){return true;}}if(!this.needsClick(targetElement)){event.preventDefault();this.sendClick(targetElement,event);}return false;};FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=false;this.targetElement=null;};FastClick.prototype.onMouse=function(event){"use strict";if(!this.targetElement){return true;}if(event.forwardedTouchEvent){return true;}if(!event.cancelable){return true;}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation();}else{event.propagationStopped=true;}event.stopPropagation();event.preventDefault();return false;}return true;};FastClick.prototype.onClick=function(event){"use strict";var permitted;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true;}if(event.target.type==="submit"&&event.detail===0){return true;}permitted=this.onMouse(event);if(!permitted){this.targetElement=null;}return permitted;};FastClick.prototype.destroy=function(){"use strict";var layer=this.layer;if(this.deviceIsAndroid){layer.removeEventListener("mouseover",this.onMouse,true);layer.removeEventListener("mousedown",this.onMouse,true);layer.removeEventListener("mouseup",this.onMouse,true);}layer.removeEventListener("click",this.onClick,true);layer.removeEventListener("touchstart",this.onTouchStart,false);layer.removeEventListener("touchmove",this.onTouchMove,false);layer.removeEventListener("touchend",this.onTouchEnd,false);layer.removeEventListener("touchcancel",this.onTouchCancel,false);};FastClick.notNeeded=function(layer){"use strict";var metaViewport;var chromeVersion;if(typeof window.ontouchstart==="undefined"){return true;}chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(chromeVersion){if(FastClick.prototype.deviceIsAndroid){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport){if(metaViewport.content.indexOf("user-scalable=no")!==-1){return true;}if(chromeVersion>31&&window.innerWidth<=window.screen.width){return true;}}}else{return true;}}if(layer.style.msTouchAction==="none"){return true;}return false;};FastClick.attach=function(layer){"use strict";return new FastClick(layer);};if(typeof define!=="undefined"&&define.amd){define(function(){"use strict";return FastClick;});}else if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick;}else{window.FastClick=FastClick;}});require.register("component~indexof@0.0.3",function(exports,module){module.exports=function(arr,obj){if(arr.indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i){if(arr[i]===obj)return i;}return-1;};});require.register("component~classes@1.2.1",function(exports,module){var index=require("component~indexof@0.0.3");var re=/\s+/;var toString=Object.prototype.toString;module.exports=function(el){return new ClassList(el);};function ClassList(el){if(!el)throw new Error("A DOM element reference is required");this.el=el;this.list=el.classList;}ClassList.prototype.add=function(name){if(this.list){this.list.add(name);return this;}var arr=this.array();var i=index(arr,name);if(!~i)arr.push(name);this.el.className=arr.join(" ");return this;};ClassList.prototype.remove=function(name){if("[object RegExp]"==toString.call(name)){return this.removeMatching(name);}if(this.list){this.list.remove(name);return this;}var arr=this.array();var i=index(arr,name);if(~i)arr.splice(i,1);this.el.className=arr.join(" ");return this;};ClassList.prototype.removeMatching=function(re){var arr=this.array();for(var i=0;i<arr.length;i++){if(re.test(arr[i])){this.remove(arr[i]);}}return this;};ClassList.prototype.toggle=function(name,force){if(this.list){if("undefined"!==typeof force){if(force!==this.list.toggle(name,force)){this.list.toggle(name);}}else{this.list.toggle(name);}return this;}if("undefined"!==typeof force){if(!force){this.remove(name);}else{this.add(name);}}else{if(this.has(name)){this.remove(name);}else{this.add(name);}}return this;};ClassList.prototype.array=function(){var str=this.el.className.replace(/^\s+|\s+$/g,"");var arr=str.split(re);if(""===arr[0])arr.shift();return arr;};ClassList.prototype.has=ClassList.prototype.contains=function(name){return this.list?this.list.contains(name):!!~index(this.array(),name);};});require.register("component~event@0.1.4",function(exports,module){var bind=window.addEventListener?"addEventListener":"attachEvent",unbind=window.removeEventListener?"removeEventListener":"detachEvent",prefix=bind!=="addEventListener"?"on":"";exports.bind=function(el,type,fn,capture){el[bind](prefix+type,fn,capture||false);return fn;};exports.unbind=function(el,type,fn,capture){el[unbind](prefix+type,fn,capture||false);return fn;};});require.register("component~query@0.0.3",function(exports,module){function one(selector,el){return el.querySelector(selector);}exports=module.exports=function(selector,el){el=el||document;return one(selector,el);};exports.all=function(selector,el){el=el||document;return el.querySelectorAll(selector);};exports.engine=function(obj){if(!obj.one)throw new Error(".one callback required");if(!obj.all)throw new Error(".all callback required");one=obj.one;exports.all=obj.all;return exports;};});require.register("component~matches-selector@0.1.5",function(exports,module){var query=require("component~query@0.0.3");var proto=Element.prototype;var vendor=proto.matches||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;module.exports=match;function match(el,selector){if(!el||el.nodeType!==1)return false;if(vendor)return vendor.call(el,selector);var nodes=query.all(selector,el.parentNode);for(var i=0;i<nodes.length;++i){if(nodes[i]==el)return true;}return false;}});require.register("component~closest@0.1.4",function(exports,module){var matches=require("component~matches-selector@0.1.5");module.exports=function(element,selector,checkYoSelf,root){element=checkYoSelf?{parentNode:element}:element;root=root||document;while((element=element.parentNode)&&element!==document){if(matches(element,selector))return element;if(element===root)return;}};});require.register("component~delegate@0.2.3",function(exports,module){var closest=require("component~closest@0.1.4"),event=require("component~event@0.1.4");exports.bind=function(el,selector,type,fn,capture){return event.bind(el,type,function(e){var target=e.target||e.srcElement;e.delegateTarget=closest(target,selector,true,el);if(e.delegateTarget)fn.call(el,e);},capture);};exports.unbind=function(el,type,fn,capture){event.unbind(el,type,fn,capture);};});require.register("component~events@1.0.9",function(exports,module){var events=require("component~event@0.1.4");var delegate=require("component~delegate@0.2.3");module.exports=Events;function Events(el,obj){if(!(this instanceof Events))return new Events(el,obj);if(!el)throw new Error("element required");if(!obj)throw new Error("object required");this.el=el;this.obj=obj;this._events={};}Events.prototype.sub=function(event,method,cb){this._events[event]=this._events[event]||{};this._events[event][method]=cb;};Events.prototype.bind=function(event,method){var e=parse(event);var el=this.el;var obj=this.obj;var name=e.name;var method=method||"on"+name;var args=[].slice.call(arguments,2);function cb(){var a=[].slice.call(arguments).concat(args);obj[method].apply(obj,a);}if(e.selector){cb=delegate.bind(el,e.selector,name,cb);}else{events.bind(el,name,cb);}this.sub(name,method,cb);return cb;};Events.prototype.unbind=function(event,method){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(event);var bindings=this._events[event];if(!bindings)return;var cb=bindings[method];if(!cb)return;events.unbind(this.el,event,cb);};Events.prototype.unbindAll=function(){for(var event in this._events){this.unbindAllOf(event);}};Events.prototype.unbindAllOf=function(event){var bindings=this._events[event];if(!bindings)return;for(var method in bindings){this.unbind(event,method);}};function parse(event){var parts=event.split(/ +/);return{name:parts.shift(),selector:parts.join(" ")};}});require.register("switchery",function(exports,module){var transitionize=require("abpetkov~transitionize@0.0.3"),fastclick=require("ftlabs~fastclick@v0.6.11"),classes=require("component~classes@1.2.1"),events=require("component~events@1.0.9");module.exports=Switchery;var defaults={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",jackSecondaryColor:null,className:"switchery",disabled:false,disabledOpacity:.5,speed:"0.4s",size:"default"};function Switchery(element,options){if(!(this instanceof Switchery))return new Switchery(element,options);this.element=element;this.options=options||{};for(var i in defaults){if(this.options[i]==null){this.options[i]=defaults[i];}}if(this.element!=null&&this.element.type=="checkbox")this.init();if(this.isDisabled()===true)this.disable();}Switchery.prototype.hide=function(){this.element.style.display="none";};Switchery.prototype.show=function(){var switcher=this.create();this.insertAfter(this.element,switcher);};Switchery.prototype.create=function(){this.switcher=document.createElement("span");this.jack=document.createElement("small");this.switcher.appendChild(this.jack);this.switcher.className=this.options.className;this.events=events(this.switcher,this);return this.switcher;};Switchery.prototype.insertAfter=function(reference,target){reference.parentNode.insertBefore(target,reference.nextSibling);};Switchery.prototype.setPosition=function(clicked){var checked=this.isChecked(),switcher=this.switcher,jack=this.jack;if(clicked&&checked)checked=false;else if(clicked&&!checked)checked=true;if(checked===true){this.element.checked=true;if(window.getComputedStyle)jack.style.left=parseInt(window.getComputedStyle(switcher).width)-parseInt(window.getComputedStyle(jack).width)+"px";else jack.style.left=parseInt(switcher.currentStyle["width"])-parseInt(jack.currentStyle["width"])+"px";if(this.options.color)this.colorize();this.setSpeed();}else{jack.style.left=0;this.element.checked=false;this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor;this.switcher.style.borderColor=this.options.secondaryColor;this.switcher.style.backgroundColor=this.options.secondaryColor!==defaults.secondaryColor?this.options.secondaryColor:"#fff";this.jack.style.backgroundColor=this.options.jackSecondaryColor!==this.options.jackColor?this.options.jackSecondaryColor:this.options.jackColor;this.setSpeed();}};Switchery.prototype.setSpeed=function(){var switcherProp={},jackProp={"background-color":this.options.speed,left:this.options.speed.replace(/[a-z]/,"")/2+"s"};if(this.isChecked()){switcherProp={border:this.options.speed,"box-shadow":this.options.speed,"background-color":this.options.speed.replace(/[a-z]/,"")*3+"s"};}else{switcherProp={border:this.options.speed,"box-shadow":this.options.speed};}transitionize(this.switcher,switcherProp);transitionize(this.jack,jackProp);};Switchery.prototype.setSize=function(){var small="switchery-small",normal="switchery-default",large="switchery-large";switch(this.options.size){case"small":classes(this.switcher).add(small);break;case"large":classes(this.switcher).add(large);break;default:classes(this.switcher).add(normal);break;}};Switchery.prototype.colorize=function(){var switcherHeight=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color;this.switcher.style.borderColor=this.options.color;this.switcher.style.boxShadow="inset 0 0 0 "+switcherHeight+"px "+this.options.color;this.jack.style.backgroundColor=this.options.jackColor;};Switchery.prototype.handleOnchange=function(state){if(document.dispatchEvent){var event=document.createEvent("HTMLEvents");event.initEvent("change",true,true);this.element.dispatchEvent(event);}else{this.element.fireEvent("onchange");}};Switchery.prototype.handleChange=function(){var self=this,el=this.element;if(el.addEventListener){el.addEventListener("change",function(){self.setPosition();});}else{el.attachEvent("onchange",function(){self.setPosition();});}};Switchery.prototype.handleClick=function(){var switcher=this.switcher;fastclick(switcher);this.events.bind("click","bindClick");};Switchery.prototype.bindClick=function(){var parent=this.element.parentNode.tagName.toLowerCase(),labelParent=parent==="label"?false:true;this.setPosition(labelParent);this.handleOnchange(this.element.checked);};Switchery.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",true);};Switchery.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery");};Switchery.prototype.init=function(){this.hide();this.show();this.setSize();this.setPosition();this.markAsSwitched();this.handleChange();this.handleClick();};Switchery.prototype.isChecked=function(){return this.element.checked;};Switchery.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly;};Switchery.prototype.destroy=function(){this.events.unbind();};Switchery.prototype.enable=function(){if(this.options.disabled)this.options.disabled=false;if(this.element.disabled)this.element.disabled=false;if(this.element.readOnly)this.element.readOnly=false;this.switcher.style.opacity=1;this.events.bind("click","bindClick");};Switchery.prototype.disable=function(){if(!this.options.disabled)this.options.disabled=true;if(!this.element.disabled)this.element.disabled=true;if(!this.element.readOnly)this.element.readOnly=true;this.switcher.style.opacity=this.options.disabledOpacity;this.destroy();};});if((typeof exports==="undefined"?"undefined":_typeof(exports))=="object"){module.exports=require("switchery");}else if(typeof define=="function"&&define.amd){define("Switchery",[],function(){return require("switchery");});}else{(this||window)["Switchery"]=require("switchery");}})();(function(e,t){"use strict";function n(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t);}function s(e,t,n){var s,a;for(s in n){n.hasOwnProperty(s)&&(a=s.replace(/ |$/g,t.eventNamespace),e.bind(a,n[s]));}}function a(e,t,n){s(e,n,{focus:function focus(){t.addClass(n.focusClass);},blur:function blur(){t.removeClass(n.focusClass),t.removeClass(n.activeClass);},mouseenter:function mouseenter(){t.addClass(n.hoverClass);},mouseleave:function mouseleave(){t.removeClass(n.hoverClass),t.removeClass(n.activeClass);},"mousedown touchbegin":function mousedownTouchbegin(){e.is(":disabled")||t.addClass(n.activeClass);},"mouseup touchend":function mouseupTouchend(){t.removeClass(n.activeClass);}});}function i(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass);}function r(e,t,n){n?e.addClass(t):e.removeClass(t);}function l(e,t,n){var s="checked",a=t.is(":"+s);t.prop?t.prop(s,a):a?t.attr(s,s):t.removeAttr(s),r(e,n.checkedClass,a);}function u(e,t,n){r(e,n.disabledClass,t.is(":disabled"));}function o(e,t,n){switch(n){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent();}return null;}function c(t,s,a){var i,r,l;return a||(a={}),a=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},a),i=e("<div />"),r=e("<span />"),s.autoHide&&t.is(":hidden")&&"none"===t.css("display")&&i.hide(),a.divClass&&i.addClass(a.divClass),s.wrapperClass&&i.addClass(s.wrapperClass),a.spanClass&&r.addClass(a.spanClass),l=n(t,"id"),s.useID&&l&&n(i,"id",s.idPrefix+"-"+l),a.spanHtml&&r.html(a.spanHtml),i=o(t,i,a.divWrap),r=o(t,r,a.spanWrap),u(i,t,s),{div:i,span:r};}function d(t,n){var s;return n.wrapperClass?(s=e("<span />").addClass(n.wrapperClass),s=o(t,s,"wrap")):null;}function f(){var t,n,s,a;return a="rgb(120,2,153)",n=e('<div style="width:0;height:0;color:'+a+'">'),e("body").append(n),s=n.get(0),t=window.getComputedStyle?window.getComputedStyle(s,"").color:(s.currentStyle||s.style||{}).color,n.remove(),t.replace(/ /g,"")!==a;}function p(t){return t?e("<span />").text(t).html():"";}function m(){return navigator.cpuClass&&!navigator.product;}function v(){return window.XMLHttpRequest!==void 0?!0:!1;}function h(e){var t;return e[0].multiple?!0:(t=n(e,"size"),!t||1>=t?!1:!0);}function C(){return!1;}function w(e,t){var n="none";s(e,t,{"selectstart dragstart mousedown":C}),e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n});}function b(e,t,n){var s=e.val();""===s?s=n.fileDefaultHtml:(s=s.split(/[\/\\]+/),s=s[s.length-1]),t.text(s);}function y(e,t,n){var s,a;for(s=[],e.each(function(){var e;for(e in t){Object.prototype.hasOwnProperty.call(t,e)&&(s.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e]);}}),n();s.length;){a=s.pop(),a.el.style[a.name]=a.old;}}function g(e,t){var n;n=e.parents(),n.push(e[0]),n=n.not(":visible"),y(n,{visibility:"hidden",display:"block",position:"absolute"},t);}function k(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace);};}var H=!0,x=!1,A=[{match:function match(e){return e.is("a, button, :submit, :reset, input[type='button']");},apply:function apply(e,t){var r,l,o,d,f;return l=t.submitDefaultHtml,e.is(":reset")&&(l=t.resetDefaultHtml),d=e.is("a, button")?function(){return e.html()||l;}:function(){return p(n(e,"value"))||l;},o=c(e,t,{divClass:t.buttonClass,spanHtml:d()}),r=o.div,a(e,r,t),f=!1,s(r,t,{"click touchend":function clickTouchend(){var t,s,a,i;f||e.is(":disabled")||(f=!0,e[0].dispatchEvent?(t=document.createEvent("MouseEvents"),t.initEvent("click",!0,!0),s=e[0].dispatchEvent(t),e.is("a")&&s&&(a=n(e,"target"),i=n(e,"href"),a&&"_self"!==a?window.open(i,a):document.location.href=i)):e.click(),f=!1);}}),w(r,t),{remove:function remove(){return r.after(e),r.remove(),e.unbind(t.eventNamespace),e;},update:function update(){i(r,t),u(r,e,t),e.detach(),o.span.html(d()).append(e);}};}},{match:function match(e){return e.is(":checkbox");},apply:function apply(e,t){var n,r,o;return n=c(e,t,{divClass:t.checkboxClass}),r=n.div,o=n.span,a(e,r,t),s(e,t,{"click touchend":function clickTouchend(){l(o,e,t);}}),l(o,e,t),{remove:k(e,t),update:function update(){i(r,t),o.removeClass(t.checkedClass),l(o,e,t),u(r,e,t);}};}},{match:function match(e){return e.is(":file");},apply:function apply(t,r){function l(){b(t,p,r);}var d,f,p,v;return d=c(t,r,{divClass:r.fileClass,spanClass:r.fileButtonClass,spanHtml:r.fileButtonHtml,spanWrap:"after"}),f=d.div,v=d.span,p=e("<span />").html(r.fileDefaultHtml),p.addClass(r.filenameClass),p=o(t,p,"after"),n(t,"size")||n(t,"size",f.width()/10),a(t,f,r),l(),m()?s(t,r,{click:function click(){t.trigger("change"),setTimeout(l,0);}}):s(t,r,{change:l}),w(p,r),w(v,r),{remove:function remove(){return p.remove(),v.remove(),t.unwrap().unbind(r.eventNamespace);},update:function update(){i(f,r),b(t,p,r),u(f,t,r);}};}},{match:function match(e){if(e.is("input")){var t=(" "+n(e,"type")+" ").toLowerCase(),s=" color date datetime datetime-local email month number password search tel text time url week ";return s.indexOf(t)>=0;}return!1;},apply:function apply(e,t){var s,i;return s=n(e,"type"),e.addClass(t.inputClass),i=d(e,t),a(e,e,t),t.inputAddTypeAsClass&&e.addClass(s),{remove:function remove(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(s),i&&e.unwrap();},update:C};}},{match:function match(e){return e.is(":radio");},apply:function apply(t,r){var o,d,f;return o=c(t,r,{divClass:r.radioClass}),d=o.div,f=o.span,a(t,d,r),s(t,r,{"click touchend":function clickTouchend(){e.uniform.update(e(':radio[name="'+n(t,"name")+'"]'));}}),l(f,t,r),{remove:k(t,r),update:function update(){i(d,r),l(f,t,r),u(d,t,r);}};}},{match:function match(e){return e.is("select")&&!h(e)?!0:!1;},apply:function apply(t,n){var r,l,o,d;return n.selectAutoWidth&&g(t,function(){d=t.width();}),r=c(t,n,{divClass:n.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"}),l=r.div,o=r.span,n.selectAutoWidth?g(t,function(){y(e([o[0],l[0]]),{display:"block"},function(){var e;e=o.outerWidth()-o.width(),l.width(d+e),o.width(d);});}):l.addClass("fixedWidth"),a(t,l,n),s(t,n,{change:function change(){o.html(t.find(":selected").html()),l.removeClass(n.activeClass);},"click touchend":function clickTouchend(){var e=t.find(":selected").html();o.html()!==e&&t.trigger("change");},keyup:function keyup(){o.html(t.find(":selected").html());}}),w(o,n),{remove:function remove(){return o.remove(),t.unwrap().unbind(n.eventNamespace),t;},update:function update(){n.selectAutoWidth?(e.uniform.restore(t),t.uniform(n)):(i(l,n),o.html(t.find(":selected").html()),u(l,t,n));}};}},{match:function match(e){return e.is("select")&&h(e)?!0:!1;},apply:function apply(e,t){var n;return e.addClass(t.selectMultiClass),n=d(e,t),a(e,e,t),{remove:function remove(){e.removeClass(t.selectMultiClass),n&&e.unwrap();},update:C};}},{match:function match(e){return e.is("textarea");},apply:function apply(e,t){var n;return e.addClass(t.textareaClass),n=d(e,t),a(e,e,t),{remove:function remove(){e.removeClass(t.textareaClass),n&&e.unwrap();},update:C};}}];m()&&!v()&&(H=!1),e.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},e.fn.uniform=function(t){var n=this;return t=e.extend({},e.uniform.defaults,t),x||(x=!0,f()&&(H=!1)),H?(t.resetSelector&&e(t.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(n);},10);}),this.each(function(){var n,s,a,i=e(this);if(i.data("uniformed"))return e.uniform.update(i),void 0;for(n=0;A.length>n;n+=1){if(s=A[n],s.match(i,t))return a=s.apply(i,t),i.data("uniformed",a),e.uniform.elements.push(i.get(0)),void 0;}})):this;},e.uniform.restore=e.fn.uniform.restore=function(n){n===t&&(n=e.uniform.elements),e(n).each(function(){var t,n,s=e(this);n=s.data("uniformed"),n&&(n.remove(),t=e.inArray(this,e.uniform.elements),t>=0&&e.uniform.elements.splice(t,1),s.removeData("uniformed"));});},e.uniform.update=e.fn.uniform.update=function(n){n===t&&(n=e.uniform.elements),e(n).each(function(){var t,n=e(this);t=n.data("uniformed"),t&&t.update(n,t.options);});};})(jQuery);$(function(){if(Array.prototype.forEach){var elems=Array.prototype.slice.call(document.querySelectorAll('.switchery'));elems.forEach(function(html){var switchery=new Switchery(html,{color:'#00BCD4',size:'small'});});}else{var elems=document.querySelectorAll('.switchery');for(var i=0;i<elems.length;i++){var switchery=new Switchery(elems[i],{color:'#00BCD4',size:'small'});}}
$(".control-info").uniform({radioClass:'choice',wrapperClass:'border-info-600 text-info-800'});});/*!
* Bootstrap-select v1.12.2 (http://silviomoreto.github.io/bootstrap-select)
*
* Copyright 2013-2017 bootstrap-select
* Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
*/!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a);}):"object"==(typeof module==="undefined"?"undefined":_typeof(module))&&module.exports?module.exports=b(require("jquery")):b(a.jQuery);}(this,function(a){!function(a){"use strict";function b(b){var c=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return a.each(c,function(){b=b?b.replace(this.re,this.ch):"";}),b;}function c(b){var c=arguments,d=b;[].shift.apply(c);var e,f=this.each(function(){var b=a(this);if(b.is("select")){var f=b.data("selectpicker"),g="object"==_typeof(d)&&d;if(f){if(g)for(var h in g){g.hasOwnProperty(h)&&(f.options[h]=g[h]);}}else{var i=a.extend({},k.DEFAULTS,a.fn.selectpicker.defaults||{},b.data(),g);i.template=a.extend({},k.DEFAULTS.template,a.fn.selectpicker.defaults?a.fn.selectpicker.defaults.template:{},b.data().template,g.template),b.data("selectpicker",f=new k(this,i));}"string"==typeof d&&(e=f[d]instanceof Function?f[d].apply(f,c):f.options[d]);}});return"undefined"!=typeof e?e:f;}String.prototype.includes||!function(){var a={}.toString,b=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b;}catch(a){}return c;}(),c="".indexOf,d=function d(b){if(null==this)throw new TypeError();var d=String(this);if(b&&"[object RegExp]"==a.call(b))throw new TypeError();var e=d.length,f=String(b),g=f.length,h=arguments.length>1?arguments[1]:void 0,i=h?Number(h):0;i!=i&&(i=0);var j=Math.min(Math.max(i,0),e);return!(g+j>e)&&c.call(d,f,i)!=-1;};b?b(String.prototype,"includes",{value:d,configurable:!0,writable:!0}):String.prototype.includes=d;}(),String.prototype.startsWith||!function(){var a=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b;}catch(a){}return c;}(),b={}.toString,c=function c(a){if(null==this)throw new TypeError();var c=String(this);if(a&&"[object RegExp]"==b.call(a))throw new TypeError();var d=c.length,e=String(a),f=e.length,g=arguments.length>1?arguments[1]:void 0,h=g?Number(g):0;h!=h&&(h=0);var i=Math.min(Math.max(h,0),d);if(f+i>d)return!1;for(var j=-1;++j<f;){if(c.charCodeAt(i+j)!=e.charCodeAt(j))return!1;}return!0;};a?a(String.prototype,"startsWith",{value:c,configurable:!0,writable:!0}):String.prototype.startsWith=c;}(),Object.keys||(Object.keys=function(a,b,c){c=[];for(b in a){c.hasOwnProperty.call(a,b)&&c.push(b);}return c;});var d={useDefault:!1,_set:a.valHooks.select.set};a.valHooks.select.set=function(b,c){return c&&!d.useDefault&&a(b).data("selected",!0),d._set.apply(this,arguments);};var e=null;a.fn.triggerNative=function(a){var b,c=this[0];c.dispatchEvent?("function"==typeof Event?b=new Event(a,{bubbles:!0}):(b=document.createEvent("Event"),b.initEvent(a,!0,!1)),c.dispatchEvent(b)):c.fireEvent?(b=document.createEventObject(),b.eventType=a,c.fireEvent("on"+a,b)):this.trigger(a);},a.expr.pseudos.icontains=function(b,c,d){var e=a(b),f=(e.data("tokens")||e.text()).toString().toUpperCase();return f.includes(d[3].toUpperCase());},a.expr.pseudos.ibegins=function(b,c,d){var e=a(b),f=(e.data("tokens")||e.text()).toString().toUpperCase();return f.startsWith(d[3].toUpperCase());},a.expr.pseudos.aicontains=function(b,c,d){var e=a(b),f=(e.data("tokens")||e.data("normalizedText")||e.text()).toString().toUpperCase();return f.includes(d[3].toUpperCase());},a.expr.pseudos.aibegins=function(b,c,d){var e=a(b),f=(e.data("tokens")||e.data("normalizedText")||e.text()).toString().toUpperCase();return f.startsWith(d[3].toUpperCase());};var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},g={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"},h=function h(a){var b=function b(_b){return a[_b];},c="(?:"+Object.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a;};},i=h(f),j=h(g),k=function k(b,c){d.useDefault||(a.valHooks.select.set=d._set,d.useDefault=!0),this.$element=a(b),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=c,null===this.options.title&&(this.options.title=this.$element.attr("title"));var e=this.options.windowPadding;"number"==typeof e&&(this.options.windowPadding=[e,e,e,e]),this.val=k.prototype.val,this.render=k.prototype.render,this.refresh=k.prototype.refresh,this.setStyle=k.prototype.setStyle,this.selectAll=k.prototype.selectAll,this.deselectAll=k.prototype.deselectAll,this.destroy=k.prototype.destroy,this.remove=k.prototype.remove,this.show=k.prototype.show,this.hide=k.prototype.hide,this.init();};k.VERSION="1.12.2",k.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function countSelectedText(a,b){return 1==a?"{0} item selected":"{0} items selected";},maxOptionsText:function maxOptionsText(a,b){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"];},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0},k.prototype={constructor:k,init:function init(){var b=this,c=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof c&&(this.$button.attr("data-id",c),a('label[for="'+c+'"]').click(function(a){a.preventDefault(),b.$button.focus();})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function hideBsDropdown(a){b.$menuInner.attr("aria-expanded",!1),b.$element.trigger("hide.bs.select",a);},"hidden.bs.dropdown":function hiddenBsDropdown(a){b.$element.trigger("hidden.bs.select",a);},"show.bs.dropdown":function showBsDropdown(a){b.$menuInner.attr("aria-expanded",!0),b.$element.trigger("show.bs.select",a);},"shown.bs.dropdown":function shownBsDropdown(a){b.$element.trigger("shown.bs.select",a);}}),b.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){b.$button.addClass("bs-invalid").focus(),b.$element.on({"focus.bs.select":function focusBsSelect(){b.$button.focus(),b.$element.off("focus.bs.select");},"shown.bs.select":function shownBsSelect(){b.$element.val(b.$element.val()).off("shown.bs.select");},"rendered.bs.select":function renderedBsSelect(){this.validity.valid&&b.$button.removeClass("bs-invalid"),b.$element.off("rendered.bs.select");}});}),setTimeout(function(){b.$element.trigger("loaded.bs.select");});},createDropdown:function createDropdown(){var b=this.multiple||this.options.showTick?" show-tick":"",c=this.$element.parent().hasClass("input-group")?" input-group-btn":"",d=this.autofocus?" autofocus":"",e=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",f=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+i(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",g=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",h=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",j='<div class="btn-group bootstrap-select'+b+c+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+d+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+e+f+g+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+h+"</div></div>";return a(j);},createView:function createView(){var a=this.createDropdown(),b=this.createLi();return a.find("ul")[0].innerHTML=b,a;},reloadLi:function reloadLi(){var a=this.createLi();this.$menuInner[0].innerHTML=a;},createLi:function createLi(){var c=this,d=[],e=0,f=document.createElement("option"),g=-1,h=function h(a,b,c,d){return"<li"+("undefined"!=typeof c&""!==c?' class="'+c+'"':"")+("undefined"!=typeof b&null!==b?' data-original-index="'+b+'"':"")+("undefined"!=typeof d&null!==d?'data-optgroup="'+d+'"':"")+">"+a+"</li>";},j=function j(d,e,f,g){return'<a tabindex="0"'+("undefined"!=typeof e?' class="'+e+'"':"")+(f?' style="'+f+'"':"")+(c.options.liveSearchNormalize?' data-normalized-text="'+b(i(a(d).html()))+'"':"")+("undefined"!=typeof g||null!==g?' data-tokens="'+g+'"':"")+' role="option">'+d+'<span class="'+c.options.iconBase+" "+c.options.tickIcon+' check-mark"></span></a>';};if(this.options.title&&!this.multiple&&(g--,!this.$element.find(".bs-title-option").length)){var k=this.$element[0];f.className="bs-title-option",f.innerHTML=this.options.title,f.value="",k.insertBefore(f,k.firstChild);var l=a(k.options[k.selectedIndex]);void 0===l.attr("selected")&&void 0===this.$element.data("selected")&&(f.selected=!0);}return this.$element.find("option").each(function(b){var f=a(this);if(g++,!f.hasClass("bs-title-option")){var k=this.className||"",l=this.style.cssText,m=f.data("content")?f.data("content"):f.html(),n=f.data("tokens")?f.data("tokens"):null,o="undefined"!=typeof f.data("subtext")?'<small class="text-muted">'+f.data("subtext")+"</small>":"",p="undefined"!=typeof f.data("icon")?'<span class="'+c.options.iconBase+" "+f.data("icon")+'"></span> ':"",q=f.parent(),r="OPTGROUP"===q[0].tagName,s=r&&q[0].disabled,t=this.disabled||s;if(""!==p&&t&&(p="<span>"+p+"</span>"),c.options.hideDisabled&&(t&&!r||s))return void g--;if(f.data("content")||(m=p+'<span class="text">'+m+o+"</span>"),r&&f.data("divider")!==!0){if(c.options.hideDisabled&&t){if(void 0===q.data("allOptionsDisabled")){var u=q.children();q.data("allOptionsDisabled",u.filter(":disabled").length===u.length);}if(q.data("allOptionsDisabled"))return void g--;}var v=" "+q[0].className||"";if(0===f.index()){e+=1;var w=q[0].label,x="undefined"!=typeof q.data("subtext")?'<small class="text-muted">'+q.data("subtext")+"</small>":"",y=q.data("icon")?'<span class="'+c.options.iconBase+" "+q.data("icon")+'"></span> ':"";w=y+'<span class="text">'+i(w)+x+"</span>",0!==b&&d.length>0&&(g++,d.push(h("",null,"divider",e+"div"))),g++,d.push(h(w,null,"dropdown-header"+v,e));}if(c.options.hideDisabled&&t)return void g--;d.push(h(j(m,"opt "+k+v,l,n),b,"",e));}else if(f.data("divider")===!0)d.push(h("",b,"divider"));else if(f.data("hidden")===!0)d.push(h(j(m,k,l,n),b,"hidden is-hidden"));else{var z=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName;if(!z&&c.options.hideDisabled)for(var A=a(this).prevAll(),B=0;B<A.length;B++){if("OPTGROUP"===A[B].tagName){for(var C=0,D=0;D<B;D++){var E=A[D];(E.disabled||a(E).data("hidden")===!0)&&C++;}C===B&&(z=!0);break;}}z&&(g++,d.push(h("",null,"divider",e+"div"))),d.push(h(j(m,k,l,n),b));}c.liObj[b]=g;}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),d.join("");},findLis:function findLis(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis;},render:function render(b){var c,d=this;b!==!1&&this.$element.find("option").each(function(a){var b=d.findLis().eq(d.liObj[a]);d.setDisabled(a,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,b),d.setSelected(a,this.selected,b);}),this.togglePlaceholder(),this.tabIndex();var e=this.$element.find("option").map(function(){if(this.selected){if(d.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var b,c=a(this),e=c.data("icon")&&d.options.showIcon?'<i class="'+d.options.iconBase+" "+c.data("icon")+'"></i> ':"";return b=d.options.showSubtext&&c.data("subtext")&&!d.multiple?' <small class="text-muted">'+c.data("subtext")+"</small>":"","undefined"!=typeof c.attr("title")?c.attr("title"):c.data("content")&&d.options.showContent?c.data("content").toString():e+c.html()+b;}}).toArray(),f=this.multiple?e.join(this.options.multipleSeparator):e[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var g=this.options.selectedTextFormat.split(">");if(g.length>1&&e.length>g[1]||1==g.length&&e.length>=2){c=this.options.hideDisabled?", [disabled]":"";var h=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+c).length,i="function"==typeof this.options.countSelectedText?this.options.countSelectedText(e.length,h):this.options.countSelectedText;f=i.replace("{0}",e.length.toString()).replace("{1}",h.toString());}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(f=this.options.title),f||(f="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",j(a.trim(f.replace(/<[^>]*>?/g,"")))),this.$button.children(".filter-option").html(f),this.$element.trigger("rendered.bs.select");},setStyle:function setStyle(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var c=a?a:this.options.style;"add"==b?this.$button.addClass(c):"remove"==b?this.$button.removeClass(c):(this.$button.removeClass(this.options.style),this.$button.addClass(c));},liHeight:function liHeight(b){if(b||this.options.size!==!1&&!this.sizeInfo){var c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("ul"),f=document.createElement("li"),g=document.createElement("li"),h=document.createElement("a"),i=document.createElement("span"),j=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,k=this.options.liveSearch?document.createElement("div"):null,l=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,m=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(i.className="text",c.className=this.$menu[0].parentNode.className+" open",d.className="dropdown-menu open",e.className="dropdown-menu inner",f.className="divider",i.appendChild(document.createTextNode("Inner text")),h.appendChild(i),g.appendChild(h),e.appendChild(g),e.appendChild(f),j&&d.appendChild(j),k){var n=document.createElement("input");k.className="bs-searchbox",n.className="form-control",k.appendChild(n),d.appendChild(k);}l&&d.appendChild(l),d.appendChild(e),m&&d.appendChild(m),c.appendChild(d),document.body.appendChild(c);var o=h.offsetHeight,p=j?j.offsetHeight:0,q=k?k.offsetHeight:0,r=l?l.offsetHeight:0,s=m?m.offsetHeight:0,t=a(f).outerHeight(!0),u="function"==typeof getComputedStyle&&getComputedStyle(d),v=u?null:a(d),w={vert:parseInt(u?u.paddingTop:v.css("paddingTop"))+parseInt(u?u.paddingBottom:v.css("paddingBottom"))+parseInt(u?u.borderTopWidth:v.css("borderTopWidth"))+parseInt(u?u.borderBottomWidth:v.css("borderBottomWidth")),horiz:parseInt(u?u.paddingLeft:v.css("paddingLeft"))+parseInt(u?u.paddingRight:v.css("paddingRight"))+parseInt(u?u.borderLeftWidth:v.css("borderLeftWidth"))+parseInt(u?u.borderRightWidth:v.css("borderRightWidth"))},x={vert:w.vert+parseInt(u?u.marginTop:v.css("marginTop"))+parseInt(u?u.marginBottom:v.css("marginBottom"))+2,horiz:w.horiz+parseInt(u?u.marginLeft:v.css("marginLeft"))+parseInt(u?u.marginRight:v.css("marginRight"))+2};document.body.removeChild(c),this.sizeInfo={liHeight:o,headerHeight:p,searchHeight:q,actionsHeight:r,doneButtonHeight:s,dividerHeight:t,menuPadding:w,menuExtras:x};}},setSize:function setSize(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var b,c,d,e,f,g,h,i,j=this,k=this.$menu,l=this.$menuInner,m=a(window),n=this.$newElement[0].offsetHeight,o=this.$newElement[0].offsetWidth,p=this.sizeInfo.liHeight,q=this.sizeInfo.headerHeight,r=this.sizeInfo.searchHeight,s=this.sizeInfo.actionsHeight,t=this.sizeInfo.doneButtonHeight,u=this.sizeInfo.dividerHeight,v=this.sizeInfo.menuPadding,w=this.sizeInfo.menuExtras,x=this.options.hideDisabled?".disabled":"",y=function y(){var b,c=j.$newElement.offset(),d=a(j.options.container);j.options.container&&!d.is("body")?(b=d.offset(),b.top+=parseInt(d.css("borderTopWidth")),b.left+=parseInt(d.css("borderLeftWidth"))):b={top:0,left:0};var e=j.options.windowPadding;f=c.top-b.top-m.scrollTop(),g=m.height()-f-n-b.top-e[2],h=c.left-b.left-m.scrollLeft(),i=m.width()-h-o-b.left-e[1],f-=e[0],h-=e[3];};if(y(),"auto"===this.options.size){var z=function z(){var m,n=function n(b,c){return function(d){return c?d.classList?d.classList.contains(b):a(d).hasClass(b):!(d.classList?d.classList.contains(b):a(d).hasClass(b));};},u=j.$menuInner[0].getElementsByTagName("li"),x=Array.prototype.filter?Array.prototype.filter.call(u,n("hidden",!1)):j.$lis.not(".hidden"),z=Array.prototype.filter?Array.prototype.filter.call(x,n("dropdown-header",!0)):x.filter(".dropdown-header");y(),b=g-w.vert,c=i-w.horiz,j.options.container?(k.data("height")||k.data("height",k.height()),d=k.data("height"),k.data("width")||k.data("width",k.width()),e=k.data("width")):(d=k.height(),e=k.width()),j.options.dropupAuto&&j.$newElement.toggleClass("dropup",f>g&&b-w.vert<d),j.$newElement.hasClass("dropup")&&(b=f-w.vert),"auto"===j.options.dropdownAlignRight&&k.toggleClass("dropdown-menu-right",h>i&&c-w.horiz<e-o),m=x.length+z.length>3?3*p+w.vert-2:0,k.css({"max-height":b+"px",overflow:"hidden","min-height":m+q+r+s+t+"px"}),l.css({"max-height":b-q-r-s-t-v.vert+"px","overflow-y":"auto","min-height":Math.max(m-v.vert,0)+"px"});};z(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",z),m.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",z);}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(x).length>this.options.size){var A=this.$lis.not(".divider").not(x).children().slice(0,this.options.size).last().parent().index(),B=this.$lis.slice(0,A+1).filter(".divider").length;b=p*this.options.size+B*u+v.vert,j.options.container?(k.data("height")||k.data("height",k.height()),d=k.data("height")):d=k.height(),j.options.dropupAuto&&this.$newElement.toggleClass("dropup",f>g&&b-w.vert<d),k.css({"max-height":b+q+r+s+t+"px",overflow:"hidden","min-height":""}),l.css({"max-height":b-v.vert+"px","overflow-y":"auto","min-height":""});}}},setWidth:function setWidth(){if("auto"===this.options.width){this.$menu.css("min-width","0");var a=this.$menu.parent().clone().appendTo("body"),b=this.options.container?this.$newElement.clone().appendTo("body"):a,c=a.children(".dropdown-menu").outerWidth(),d=b.css("width","auto").children("button").outerWidth();a.remove(),b.remove(),this.$newElement.css("width",Math.max(c,d)+"px");}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width");},selectPosition:function selectPosition(){this.$bsContainer=a('<div class="bs-container" />');var b,c,d,e=this,f=a(this.options.container),g=function g(a){e.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",a.hasClass("dropup")),b=a.offset(),f.is("body")?c={top:0,left:0}:(c=f.offset(),c.top+=parseInt(f.css("borderTopWidth"))-f.scrollTop(),c.left+=parseInt(f.css("borderLeftWidth"))-f.scrollLeft()),d=a.hasClass("dropup")?0:a[0].offsetHeight,e.$bsContainer.css({top:b.top-c.top+d,left:b.left-c.left,width:a[0].offsetWidth});};this.$button.on("click",function(){var b=a(this);e.isDisabled()||(g(e.$newElement),e.$bsContainer.appendTo(e.options.container).toggleClass("open",!b.hasClass("open")).append(e.$menu));}),a(window).on("resize scroll",function(){g(e.$newElement);}),this.$element.on("hide.bs.select",function(){e.$menu.data("height",e.$menu.height()),e.$bsContainer.detach();});},setSelected:function setSelected(a,b,c){c||(this.togglePlaceholder(),c=this.findLis().eq(this.liObj[a])),c.toggleClass("selected",b).find("a").attr("aria-selected",b);},setDisabled:function setDisabled(a,b,c){c||(c=this.findLis().eq(this.liObj[a])),b?c.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):c.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1);},isDisabled:function isDisabled(){return this.$element[0].disabled;},checkDisabled:function checkDisabled(){var a=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),this.$button.attr("tabindex")!=-1||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!a.isDisabled();});},togglePlaceholder:function togglePlaceholder(){var a=this.$element.val();this.$button.toggleClass("bs-placeholder",null===a||""===a||a.constructor===Array&&0===a.length);},tabIndex:function tabIndex(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98);},clickListener:function clickListener(){var b=this,c=a(document);c.data("spaceSelect",!1),this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&c.data("spaceSelect")&&(a.preventDefault(),c.data("spaceSelect",!1));}),this.$button.on("click",function(){b.setSize();}),this.$element.on("shown.bs.select",function(){if(b.options.liveSearch||b.multiple){if(!b.multiple){var a=b.liObj[b.$element[0].selectedIndex];if("number"!=typeof a||b.options.size===!1)return;var c=b.$lis.eq(a)[0].offsetTop-b.$menuInner[0].offsetTop;c=c-b.$menuInner[0].offsetHeight/2+b.sizeInfo.liHeight/2,b.$menuInner[0].scrollTop=c;}}else b.$menuInner.find(".selected a").focus();}),this.$menuInner.on("click","li a",function(c){var d=a(this),f=d.parent().data("originalIndex"),g=b.$element.val(),h=b.$element.prop("selectedIndex"),i=!0;if(b.multiple&&1!==b.options.maxOptions&&c.stopPropagation(),c.preventDefault(),!b.isDisabled()&&!d.parent().hasClass("disabled")){var j=b.$element.find("option"),k=j.eq(f),l=k.prop("selected"),m=k.parent("optgroup"),n=b.options.maxOptions,o=m.data("maxOptions")||!1;if(b.multiple){if(k.prop("selected",!l),b.setSelected(f,!l),d.blur(),n!==!1||o!==!1){var p=n<j.filter(":selected").length,q=o<m.find("option:selected").length;if(n&&p||o&&q)if(n&&1==n)j.prop("selected",!1),k.prop("selected",!0),b.$menuInner.find(".selected").removeClass("selected"),b.setSelected(f,!0);else if(o&&1==o){m.find("option:selected").prop("selected",!1),k.prop("selected",!0);var r=d.parent().data("optgroup");b.$menuInner.find('[data-optgroup="'+r+'"]').removeClass("selected"),b.setSelected(f,!0);}else{var s="string"==typeof b.options.maxOptionsText?[b.options.maxOptionsText,b.options.maxOptionsText]:b.options.maxOptionsText,t="function"==typeof s?s(n,o):s,u=t[0].replace("{n}",n),v=t[1].replace("{n}",o),w=a('<div class="notify"></div>');t[2]&&(u=u.replace("{var}",t[2][n>1?0:1]),v=v.replace("{var}",t[2][o>1?0:1])),k.prop("selected",!1),b.$menu.append(w),n&&p&&(w.append(a("<div>"+u+"</div>")),i=!1,b.$element.trigger("maxReached.bs.select")),o&&q&&(w.append(a("<div>"+v+"</div>")),i=!1,b.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){b.setSelected(f,!1);},10),w.delay(750).fadeOut(300,function(){a(this).remove();});}}}else j.prop("selected",!1),k.prop("selected",!0),b.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),b.setSelected(f,!0);!b.multiple||b.multiple&&1===b.options.maxOptions?b.$button.focus():b.options.liveSearch&&b.$searchbox.focus(),i&&(g!=b.$element.val()&&b.multiple||h!=b.$element.prop("selectedIndex")&&!b.multiple)&&(e=[f,k.prop("selected"),l],b.$element.triggerNative("change"));}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(c){c.currentTarget==this&&(c.preventDefault(),c.stopPropagation(),b.options.liveSearch&&!a(c.target).hasClass("close")?b.$searchbox.focus():b.$button.focus());}),this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus();}),this.$menu.on("click",".popover-title .close",function(){b.$button.click();}),this.$searchbox.on("click",function(a){a.stopPropagation();}),this.$menu.on("click",".actions-btn",function(c){b.options.liveSearch?b.$searchbox.focus():b.$button.focus(),c.preventDefault(),c.stopPropagation(),a(this).hasClass("bs-select-all")?b.selectAll():b.deselectAll();}),this.$element.change(function(){b.render(!1),b.$element.trigger("changed.bs.select",e),e=null;});},liveSearchListener:function liveSearchListener(){var c=this,d=a('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){c.$menuInner.find(".active").removeClass("active"),c.$searchbox.val()&&(c.$searchbox.val(""),c.$lis.not(".is-hidden").removeClass("hidden"),d.parent().length&&d.remove()),c.multiple||c.$menuInner.find(".selected").addClass("active"),setTimeout(function(){c.$searchbox.focus();},10);}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(a){a.stopPropagation();}),this.$searchbox.on("input propertychange",function(){if(c.$lis.not(".is-hidden").removeClass("hidden"),c.$lis.filter(".active").removeClass("active"),d.remove(),c.$searchbox.val()){var e,f=c.$lis.not(".is-hidden, .divider, .dropdown-header");if(e=c.options.liveSearchNormalize?f.find("a").not(":a"+c._searchStyle()+'("'+b(c.$searchbox.val())+'")'):f.find("a").not(":"+c._searchStyle()+'("'+c.$searchbox.val()+'")'),e.length===f.length)d.html(c.options.noneResultsText.replace("{0}",'"'+i(c.$searchbox.val())+'"')),c.$menuInner.append(d),c.$lis.addClass("hidden");else{e.parent().addClass("hidden");var g,h=c.$lis.not(".hidden");h.each(function(b){var c=a(this);c.hasClass("divider")?void 0===g?c.addClass("hidden"):(g&&g.addClass("hidden"),g=c):c.hasClass("dropdown-header")&&h.eq(b+1).data("optgroup")!==c.data("optgroup")?c.addClass("hidden"):g=null;}),g&&g.addClass("hidden"),f.not(".hidden").first().addClass("active");}}});},_searchStyle:function _searchStyle(){var a={begins:"ibegins",startsWith:"ibegins"};return a[this.options.liveSearchStyle]||"icontains";},val:function val(a){return"undefined"!=typeof a?(this.$element.val(a),this.render(),this.$element):this.$element.val();},changeAll:function changeAll(b){if(this.multiple){"undefined"==typeof b&&(b=!0),this.findLis();var c=this.$element.find("option"),d=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),e=d.length,f=[];if(b){if(d.filter(".selected").length===d.length)return;}else if(0===d.filter(".selected").length)return;d.toggleClass("selected",b);for(var g=0;g<e;g++){var h=d[g].getAttribute("data-original-index");f[f.length]=c.eq(h)[0];}a(f).prop("selected",b),this.render(!1),this.togglePlaceholder(),this.$element.triggerNative("change");}},selectAll:function selectAll(){return this.changeAll(!0);},deselectAll:function deselectAll(){return this.changeAll(!1);},toggle:function toggle(a){a=a||window.event,a&&a.stopPropagation(),this.$button.trigger("click");},keydown:function keydown(c){var d,e,f,g,h,i,j,k,l,m=a(this),n=m.is("input")?m.parent().parent():m.parent(),o=n.data("this"),p=":not(.disabled, .hidden, .dropdown-header, .divider)",q={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(o.options.liveSearch&&(n=m.parent().parent()),o.options.container&&(n=o.$menu),d=a('[role="listbox"] li',n),l=o.$newElement.hasClass("open"),!l&&(c.keyCode>=48&&c.keyCode<=57||c.keyCode>=96&&c.keyCode<=105||c.keyCode>=65&&c.keyCode<=90))return o.options.container?o.$button.trigger("click"):(o.setSize(),o.$menu.parent().addClass("open"),l=!0),void o.$searchbox.focus();if(o.options.liveSearch&&(/(^9$|27)/.test(c.keyCode.toString(10))&&l&&(c.preventDefault(),c.stopPropagation(),o.$menuInner.click(),o.$button.focus()),d=a('[role="listbox"] li'+p,n),m.val()||/(38|40)/.test(c.keyCode.toString(10))||0===d.filter(".active").length&&(d=o.$menuInner.find("li"),d=o.options.liveSearchNormalize?d.filter(":a"+o._searchStyle()+"("+b(q[c.keyCode])+")"):d.filter(":"+o._searchStyle()+"("+q[c.keyCode]+")"))),d.length){if(/(38|40)/.test(c.keyCode.toString(10)))e=d.index(d.find("a").filter(":focus").parent()),g=d.filter(p).first().index(),h=d.filter(p).last().index(),f=d.eq(e).nextAll(p).eq(0).index(),i=d.eq(e).prevAll(p).eq(0).index(),j=d.eq(f).prevAll(p).eq(0).index(),o.options.liveSearch&&(d.each(function(b){a(this).hasClass("disabled")||a(this).data("index",b);}),e=d.index(d.filter(".active")),g=d.first().data("index"),h=d.last().data("index"),f=d.eq(e).nextAll().eq(0).data("index"),i=d.eq(e).prevAll().eq(0).data("index"),j=d.eq(f).prevAll().eq(0).data("index")),k=m.data("prevIndex"),38==c.keyCode?(o.options.liveSearch&&e--,e!=j&&e>i&&(e=i),e<g&&(e=g),e==k&&(e=h)):40==c.keyCode&&(o.options.liveSearch&&e++,e==-1&&(e=0),e!=j&&e<f&&(e=f),e>h&&(e=h),e==k&&(e=g)),m.data("prevIndex",e),o.options.liveSearch?(c.preventDefault(),m.hasClass("dropdown-toggle")||(d.removeClass("active").eq(e).addClass("active").children("a").focus(),m.focus())):d.eq(e).children("a").focus();else if(!m.is("input")){var r,s,t=[];d.each(function(){a(this).hasClass("disabled")||a.trim(a(this).children("a").text().toLowerCase()).substring(0,1)==q[c.keyCode]&&t.push(a(this).index());}),r=a(document).data("keycount"),r++,a(document).data("keycount",r),s=a.trim(a(":focus").text().toLowerCase()).substring(0,1),s!=q[c.keyCode]?(r=1,a(document).data("keycount",r)):r>=t.length&&(a(document).data("keycount",0),r>t.length&&(r=1)),d.eq(t[r-1]).children("a").focus();}if((/(13|32)/.test(c.keyCode.toString(10))||/(^9$)/.test(c.keyCode.toString(10))&&o.options.selectOnTab)&&l){if(/(32)/.test(c.keyCode.toString(10))||c.preventDefault(),o.options.liveSearch)/(32)/.test(c.keyCode.toString(10))||(o.$menuInner.find(".active a").click(),m.focus());else{var u=a(":focus");u.click(),u.focus(),c.preventDefault(),a(document).data("spaceSelect",!0);}a(document).data("keycount",0);}(/(^9$|27)/.test(c.keyCode.toString(10))&&l&&(o.multiple||o.options.liveSearch)||/(27)/.test(c.keyCode.toString(10))&&!l)&&(o.$menu.parent().removeClass("open"),o.options.container&&o.$newElement.removeClass("open"),o.$button.focus());}},mobile:function mobile(){this.$element.addClass("mobile-device");},refresh:function refresh(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select");},hide:function hide(){this.$newElement.hide();},show:function show(){this.$newElement.show();},remove:function remove(){this.$newElement.remove(),this.$element.remove();},destroy:function destroy(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker");}};var l=a.fn.selectpicker;a.fn.selectpicker=c,a.fn.selectpicker.Constructor=k,a.fn.selectpicker.noConflict=function(){return a.fn.selectpicker=l,this;},a(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',k.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(a){a.stopPropagation();}),a(window).on("load.bs.select.data-api",function(){a(".selectpicker").each(function(){var b=a(this);c.call(b,b.data());});});}(a);});!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},a.each(["onResize","onThrottledResize"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this);},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this);},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)});},this)),this.setup(),this.initialize();}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},e.Width={Default:"default",Inner:"inner",Outer:"outer"},e.Type={Event:"event",State:"state"},e.Plugins={},e.Workers=[{filter:["width","settings"],run:function run(){this._width=this.$element.width();}},{filter:["width","items","settings"],run:function run(a){a.current=this._items&&this._items[this.relative(this._current)];}},{filter:["items","settings"],run:function run(){this.$stage.children(".cloned").remove();}},{filter:["width","items","settings"],run:function run(a){var b=this.settings.margin||"",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:"auto","margin-left":d?b:"","margin-right":d?"":b};!c&&this.$stage.children().css(e),a.css=e;}},{filter:["width","items","settings"],run:function run(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;){c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();}this._widths=f;}},{filter:["items","settings"],run:function run(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h="",i="";for(g/=2;g>0;){b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i,g-=1;}this._clones=b,a(h).addClass("cloned").appendTo(this.$stage),a(i).addClass("cloned").prependTo(this.$stage);}},{filter:["width","items","settings"],run:function run(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;){d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);}this._coordinates=f;}},{filter:["width","items","settings"],run:function run(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,"padding-left":a||"","padding-right":a||""};this.$stage.css(c);}},{filter:["width","items","settings"],run:function run(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;){a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);}else c&&(a.css.width=a.items.width,d.css(a.css));}},{filter:["items"],run:function run(){this._coordinates.length<1&&this.$stage.removeAttr("style");}},{filter:["width","items","settings"],run:function run(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current);}},{filter:["position"],run:function run(){this.animate(this.coordinates(this._current));}},{filter:["width","position","items","settings"],run:function run(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;c<d;c++){a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,"<=",g)&&this.op(a,">",h)||this.op(b,"<",g)&&this.op(b,">",h))&&i.push(c);}this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+i.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center");}}],e.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=a("<"+this.settings.stageElement+">",{"class":this.settings.stageClass}).wrap(a("<div/>",{"class":this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()));},e.prototype.initializeItems=function(){var b=this.$element.find(".owl-item");if(b.length)return this._items=b.get().map(function(b){return a(b);}),this._mergers=this._items.map(function(){return 1;}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass);},e.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var a,b,c;a=this.$element.find("img"),b=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:d,c=this.$element.children(b).width(),a.length&&c<=0&&this.preloadAutoWidthImages(a);}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized");},e.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible");},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a));}),e=a.extend({},this.options,c[d]),"function"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+d))):e=a.extend({},this.options),this.trigger("change",{property:{name:"settings",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}});},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1);},e.prototype.prepare=function(b){var c=this.trigger("prepare",{content:b});return c.data||(c.data=a("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(b)),this.trigger("prepared",{content:c.data}),c.data;},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a];},this._invalidated),e={};b<c;){(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;}this._invalidated={},!this.is("valid")&&this.enter("valid");},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin;}},e.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed");},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate);},e.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")));},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+".owl.core",a.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(b,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1;})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",a.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",a.proxy(this.onDragEnd,this)));},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is("animating")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===b.type),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on("mouseup.owl.core touchend.owl.core",a.proxy(this.onDragEnd,this)),a(c).one("mousemove.owl.core touchmove.owl.core",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on("mousemove.owl.core touchmove.owl.core",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is("valid")||(b.preventDefault(),this.enter("dragging"),this.trigger("drag"));},this)));},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is("dragging")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x));},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?"left":"right";a(c).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1;})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"));},e.prototype.closest=function(b,c){var e=-1,f=30,g=this.width(),h=this.coordinates();return this.settings.freeDrag||a.each(h,a.proxy(function(a,i){return"left"===c&&b>i-f&&b<i+f?e=a:"right"===c&&b>i-g-f&&b<i-g+f?e=a+1:this.op(b,"<",i)&&this.op(b,">",h[a+1]!==d?h[a+1]:i-g)&&(e="left"===c?a+1:a),-1===e;},this)),this.settings.loop||(this.op(b,">",h[this.minimum()])?e=b=this.minimum():this.op(b,"<",h[this.maximum()])&&(e=b=this.maximum())),e;},e.prototype.animate=function(b){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:"translate3d("+b+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):c?this.$stage.animate({left:b+"px"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+"px"});},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0;},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger("change",{property:{name:"position",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}});}return this._current;},e.prototype.invalidate=function(b){return"string"===a.type(b)&&(this._invalidated[b]=!0,this.is("valid")&&this.leave("valid")),a.map(this._invalidated,function(a,b){return b;});},e.prototype.reset=function(a){(a=this.normalize(a))!==d&&(this._speed=0,this._current=a,this.suppress(["translate","translated"]),this.animate(this.coordinates(a)),this.release(["translate","translated"]));},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a;},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0);},e.prototype.maximum=function(a){var b,c,d,e=this.settings,f=this._coordinates.length;if(e.loop)f=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){if(b=this._items.length)for(c=this._items[--b].width(),d=this.$element.width();b--&&!((c+=this._items[b].width()+this.settings.margin)>d);){;}f=b+1;}else f=e.center?this._items.length-1:this._items.length-e.items;return a&&(f-=this._clones.length/2),Math.max(f,0);},e.prototype.minimum=function(a){return a?0:this._clones.length/2;},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a]);},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a]);},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function f(a){return a%2==0?e+a/2:c-(a+1)/2;};return b===d?a.map(this._clones,function(a,b){return f(b);}):a.map(this._clones,function(a,c){return a===b?f(c):null;});},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed;},e.prototype.coordinates=function(b){var c,e=1,f=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b);},this)):(this.settings.center?(this.settings.rtl&&(e=-1,f=b+1),c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[f]||0))/2*e):c=this._coordinates[f]||0,c=Math.ceil(c));},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed);},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=-1*f*g),a=c+e,(d=((a-h)%g+g)%g+h)!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.isVisible()&&this.update();},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a);},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a);},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated");},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn("Can not detect viewport width."),d;},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find("."+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType;}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1);},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items");},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger("add",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate("items"),this.trigger("added",{content:b,position:c});},e.prototype.remove=function(a){(a=this.normalize(a,!0))!==d&&(this.trigger("remove",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate("items"),this.trigger("removed",{content:null,position:a}));},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter("pre-loading"),c=a(c),a(new Image()).one("load",a.proxy(function(a){c.attr("src",a.target.src),c.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh();},this)).attr("src",c.attr("src")||c.attr("data-src")||c.attr("data-src-retina"));},this));},e.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),a(c).off(".owl.core"),!1!==this.settings.responsive&&(b.clearTimeout(this.resizeTimer),this.off(b,"resize",this._handlers.onThrottledResize));for(var d in this._plugins){this._plugins[d].destroy();}this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel");},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case"<":return d?a>c:a<c;case">":return d?a<c:a>c;case">=":return d?a<=c:a>=c;case"<=":return d?a>=c:a<=c;}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent("on"+b,c);},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent("on"+b,c);},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep(["on",b,d],function(a){return a;}).join("-").toLowerCase()),j=a.Event([b,"owl",d||"carousel"].join(".").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j);}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&"function"==typeof this.settings[i]&&this.settings[i].call(this,j)),j;},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++;},this));},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--;},this));},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&-1!==a.namespace.indexOf("owl")?a.namespace&&a.namespace.indexOf("owl")>-1:c.apply(this,arguments);},a.event.special[b.name].owl=!0;}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d;},this)));},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0;},this));},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b];},this));},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c;},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a));},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y};},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("owl.carousel");f||(f=new e(this,"object"==_typeof(b)&&b),d.data("owl.carousel",f),a.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+".owl.carousel.core",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]));},f));})),"string"==typeof b&&"_"!==b.charAt(0)&&f[b].apply(f,c);});},a.fn.owlCarousel.Constructor=e;}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function e(b){this._core=b,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch();},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers);};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval));},e.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh());},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers){this._core.$element.off(a,this._handlers[a]);}for(c in Object.getOwnPropertyNames(this)){"function"!=typeof this[c]&&(this[c]=null);}},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e;}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function e(b){this._core=b,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&"position"==b.property.name||"initialized"==b.type)){var c=this._core.settings,e=c.center&&Math.ceil(c.items/2)||c.items,f=c.center&&-1*e||0,g=(b.property&&b.property.value!==d?b.property.value:this._core.current())+f,h=this._core.clones().length,i=a.proxy(function(a,b){this.load(b);},this);for(c.lazyLoadEager>0&&(e+=c.lazyLoadEager,c.loop&&(g-=c.lazyLoadEager,e++));f++<e;){this.load(h/2+this._core.relative(g)),h&&a.each(this._core.clones(this._core.relative(g)),i),g++;}}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers);};e.Defaults={lazyLoad:!1,lazyLoadEager:0},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(".owl-lazy");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr("data-src-retina")||f.attr("data-src")||f.attr("data-srcset");this._core.trigger("load",{element:f,url:g},"lazy"),f.is("img")?f.one("load.owl.lazy",a.proxy(function(){f.css("opacity",1),this._core.trigger("loaded",{element:f,url:g},"lazy");},this)).attr("src",g):f.is("source")?f.one("load.owl.lazy",a.proxy(function(){this._core.trigger("loaded",{element:f,url:g},"lazy");},this)).attr("srcset",g):(e=new Image(),e.onload=a.proxy(function(){f.css({"background-image":'url("'+g+'")',opacity:"1"}),this._core.trigger("loaded",{element:f,url:g},"lazy");},this),e.src=g);},this)),this._loaded.push(d.get(0)));},e.prototype.destroy=function(){var a,b;for(a in this.handlers){this._core.$element.off(a,this.handlers[a]);}for(b in Object.getOwnPropertyNames(this)){"function"!=typeof this[b]&&(this[b]=null);}},a.fn.owlCarousel.Constructor.Plugins.Lazy=e;}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function e(c){this._core=c,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update();},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&"position"===a.property.name&&this.update();},this),"loaded.owl.lazy":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update();},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var d=this;a(b).on("load",function(){d._core.settings.autoHeight&&d.update();}),a(b).resize(function(){d._core.settings.autoHeight&&(null!=d._intervalId&&clearTimeout(d._intervalId),d._intervalId=setTimeout(function(){d.update();},250));});};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.settings.lazyLoad,e=this._core.$stage.children().toArray().slice(b,c),f=[],g=0;a.each(e,function(b,c){f.push(a(c).height());}),g=Math.max.apply(null,f),g<=1&&d&&this._previousHeight&&(g=this._previousHeight),this._previousHeight=g,this._core.$stage.parent().height(g).addClass(this._core.settings.autoHeightClass);},e.prototype.destroy=function(){var a,b;for(a in this._handlers){this._core.$element.off(a,this._handlers[a]);}for(b in Object.getOwnPropertyNames(this)){"function"!=typeof this[b]&&(this[b]=null);}},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e;}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function e(b){this._core=b,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]});},this),"resize.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault();},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove();},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"===a.property.name&&this._playing&&this.stop();},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(".owl-video");c.length&&(c.css("display","none"),this.fetch(c,a(b.content)));}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",a.proxy(function(a){this.play(a);},this));};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr("data-vimeo-id")?"vimeo":a.attr("data-vzaar-id")?"vzaar":"youtube";}(),d=a.attr("data-vimeo-id")||a.attr("data-youtube-id")||a.attr("data-vzaar-id"),e=a.attr("data-width")||this._core.settings.videoWidth,f=a.attr("data-height")||this._core.settings.videoHeight,g=a.attr("href");if(!g)throw new Error("Missing video URL.");if(d=g.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),d[3].indexOf("youtu")>-1)c="youtube";else if(d[3].indexOf("vimeo")>-1)c="vimeo";else{if(!(d[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");c="vzaar";}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr("data-video",g),this.thumbnail(a,this._videos[g]);},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?"width:"+c.width+"px;height:"+c.height+"px;":"",h=b.find("img"),i="src",j="",k=this._core.settings,l=function l(c){e='<div class="owl-video-play-icon"></div>',d=k.lazyLoad?a("<div/>",{"class":"owl-video-tn "+j,srcType:c}):a("<div/>",{"class":"owl-video-tn",style:"opacity:1;background-image:url("+c+")"}),b.after(d),b.after(e);};if(b.wrap(a("<div/>",{"class":"owl-video-wrapper",style:g})),this._core.settings.lazyLoad&&(i="data-src",j="owl-lazy"),h.length)return l(h.attr(i)),h.remove(),!1;"youtube"===c.type?(f="//img.youtube.com/vi/"+c.id+"/hqdefault.jpg",l(f)):"vimeo"===c.type?a.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function success(a){f=a[0].thumbnail_large,l(f);}}):"vzaar"===c.type&&a.ajax({type:"GET",url:"//vzaar.com/api/videos/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function success(a){f=a.framegrab_url,l(f);}});},e.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video");},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest("."+this._core.settings.itemClass),f=this._videos[e.attr("data-video")],g=f.width||"100%",h=f.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),c=a('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),c.attr("height",h),c.attr("width",g),"youtube"===f.type?c.attr("src","//www.youtube.com/embed/"+f.id+"?autoplay=1&rel=0&v="+f.id):"vimeo"===f.type?c.attr("src","//player.vimeo.com/video/"+f.id+"?autoplay=1"):"vzaar"===f.type&&c.attr("src","//view.vzaar.com/"+f.id+"/player?autoplay=true"),a(c).wrap('<div class="owl-video-frame" />').insertAfter(e.find(".owl-video")),this._playing=e.addClass("owl-video-playing"));},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass("owl-video-frame");},e.prototype.destroy=function(){var a,b;this._core.$element.off("click.owl.video");for(a in this._handlers){this._core.$element.off(a,this._handlers[a]);}for(b in Object.getOwnPropertyNames(this)){"function"!=typeof this[b]&&(this[b]=null);}},a.fn.owlCarousel.Constructor.Plugins.Video=e;}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function e(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={"change.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value);},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":a.proxy(function(a){a.namespace&&(this.swapping="translated"==a.type);},this),"translate.owl.carousel":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap();},this)},this.core.$element.on(this.handlers);};e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+"px"}).addClass("animated owl-animated-out").addClass(g)),f&&e.one(a.support.animation.end,c).addClass("animated owl-animated-in").addClass(f));}},e.prototype.clear=function(b){a(b.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd();},e.prototype.destroy=function(){var a,b;for(a in this.handlers){this.core.$element.off(a,this.handlers[a]);}for(b in Object.getOwnPropertyNames(this)){"function"!=typeof this[b]&&(this[b]=null);}},a.fn.owlCarousel.Constructor.Plugins.Animate=e;}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function e(b){this._core=b,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":a.proxy(function(a){a.namespace&&"settings"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&"position"===a.property.name&&this._paused&&(this._time=0);},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play();},this),"play.owl.autoplay":a.proxy(function(a,b,c){a.namespace&&this.play(b,c);},this),"stop.owl.autoplay":a.proxy(function(a){a.namespace&&this.stop();},this),"mouseover.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause();},this),"mouseleave.owl.autoplay":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play();},this),"touchstart.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause();},this),"touchend.owl.core":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play();},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options);};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype._next=function(d){this._call=b.setTimeout(a.proxy(this._next,this,d),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||c.hidden||this._core.next(d||this._core.settings.autoplaySpeed);},e.prototype.read=function(){return new Date().getTime()-this._time;},e.prototype.play=function(c,d){var e;this._core.is("rotating")||this._core.enter("rotating"),c=c||this._core.settings.autoplayTimeout,e=Math.min(this._time%(this._timeout||c),c),this._paused?(this._time=this.read(),this._paused=!1):b.clearTimeout(this._call),this._time+=this.read()%c-e,this._timeout=c,this._call=b.setTimeout(a.proxy(this._next,this,d),c-e);},e.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,b.clearTimeout(this._call),this._core.leave("rotating"));},e.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,b.clearTimeout(this._call));},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers){this._core.$element.off(a,this._handlers[a]);}for(b in Object.getOwnPropertyNames(this)){"function"!=typeof this[b]&&(this[b]=null);}},a.fn.owlCarousel.Constructor.Plugins.autoplay=e;}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function e(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+a(b.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>");},this),"added.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop());},this),"remove.owl.carousel":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1);},this),"changed.owl.carousel":a.proxy(function(a){a.namespace&&"position"==a.property.name&&this.draw();},this),"initialized.owl.carousel":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"));},this),"refreshed.owl.carousel":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"));},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers);};e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=a("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",a.proxy(function(a){this.prev(c.navSpeed);},this)),this._controls.$next=a("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",a.proxy(function(a){this.next(c.navSpeed);},this)),c.dotsData||(this._templates=[a('<button role="button">').addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed);},this));for(b in this._overrides){this._core[b]=a.proxy(this[b],this);}},e.prototype.destroy=function(){var a,b,c,d,e;e=this._core.settings;for(a in this._handlers){this.$element.off(a,this._handlers[a]);}for(b in this._controls){"$relative"===b&&e.navContainer?this._controls[b].html(""):this._controls[b].remove();}for(d in this.overides){this._core[d]=this._overrides[d];}for(c in Object.getOwnPropertyNames(this)){"function"!=typeof this[c]&&(this[c]=null);}},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if("page"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||"page"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c;}b+=this._core.mergers(this._core.relative(a));}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass("disabled",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join("")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass("active"));},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)};},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b;},this)).pop();},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return"page"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c;},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b);},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b);},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c);},a.fn.owlCarousel.Constructor.Plugins.Navigation=e;}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){"use strict";var e=function e(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":a.proxy(function(c){c.namespace&&"URLHash"===this._core.settings.startPosition&&a(b).trigger("hashchange.owl.navigation");},this),"prepared.owl.carousel":a.proxy(function(b){if(b.namespace){var c=a(b.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!c)return;this._hashes[c]=b.content;}},this),"changed.owl.carousel":a.proxy(function(c){if(c.namespace&&"position"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null;}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e;}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on("hashchange.owl.navigation",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0);},this));};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off("hashchange.owl.navigation");for(c in this._handlers){this._core.$element.off(c,this._handlers[c]);}for(d in Object.getOwnPropertyNames(this)){"function"!=typeof this[d]&&(this[d]=null);}},a.fn.owlCarousel.Constructor.Plugins.Hash=e;}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+" "+h.join(f+" ")+f).split(" "),function(a,b){if(g[b]!==d)return e=!c||b,!1;}),e;}function f(a){return e(a,!0);}var g=a("<support>").get(0).style,h="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},j={csstransforms:function csstransforms(){return!!e("transform");},csstransforms3d:function csstransforms3d(){return!!e("perspective");},csstransitions:function csstransitions(){return!!e("transition");},cssanimations:function cssanimations(){return!!e("animation");}};j.csstransitions()&&(a.support.transition=new String(f("transition")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f("animation")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f("transform")),a.support.transform3d=j.csstransforms3d());}(window.Zepto||window.jQuery,window,document);!function(t,e){function i(){t.Slim.parse(document);}if(t)if(t.Slim=function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");}function i(t,e,i,n){if(!(e>=1)){for(var o=Math.max(n.width,Math.min(i.width,Math.round(t.width*e))),a=Math.max(n.height,Math.min(i.height,Math.round(t.height*e))),r=t.width,s=t.height,h=t,u=void 0,l=void 0;r>o&&s>a;){u=document.createElement("canvas"),r=Math.round(.5*h.width),s=Math.round(.5*h.height),r<o&&(r=o),s<a&&(s=a),u.width=r,u.height=s,l=u.getContext("2d"),l.drawImage(h,0,0,r,s),h=st(u);}t.width=o,t.height=a,l=t.getContext("2d"),l.drawImage(h,0,0,o,a);}}!function(){function t(t,i){i=i||{bubbles:!1,cancelable:!1,detail:e};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),n;}return"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,void(window.CustomEvent=t));}();var n=function n(t,e,i){var o,a,r=document.createElement("img");if(r.onerror=e,r.onload=function(){!a||i&&i.noRevoke||n.revokeObjectURL(a),e&&e(n.scale(r,i));},n.isInstanceOf("Blob",t)||n.isInstanceOf("File",t))o=a=n.createObjectURL(t),r._type=t.type;else{if("string"!=typeof t)return!1;o=t,i&&i.crossOrigin&&(r.crossOrigin=i.crossOrigin);}return o?(r.src=o,r):n.readFile(t,function(t){var i=t.target;i&&i.result?r.src=i.result:e&&e(t);});},o=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;n.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]";},n.transformCoordinates=function(){},n.getTransformedOptions=function(t,e){var i,n,o,a,r=e.aspectRatio;if(!r)return e;i={};for(n in e){e.hasOwnProperty(n)&&(i[n]=e[n]);}return i.crop=!0,o=t.naturalWidth||t.width,a=t.naturalHeight||t.height,o/a>r?(i.maxWidth=a*r,i.maxHeight=a):(i.maxWidth=o,i.maxHeight=o/r),i;},n.renderImageToCanvas=function(t,e,i,n,o,a,r,s,h,u){return t.getContext("2d").drawImage(e,i,n,o,a,r,s,h,u),t;},n.hasCanvasOption=function(t){return t.canvas||t.crop||!!t.aspectRatio;},n.scale=function(t,i){function o(){var t=Math.max((h||b)/b,(u||k)/k);t>1&&(b*=t,k*=t);}function a(){var t=Math.min((r||b)/b,(s||k)/k);t<1&&(b*=t,k*=t);}i=i||{};var r,s,h,u,l,p,c,d,f,_,m,g=document.createElement("canvas"),v=t.getContext||n.hasCanvasOption(i)&&g.getContext,y=t.naturalWidth||t.width,w=t.naturalHeight||t.height,b=y,k=w;if(v&&(i=n.getTransformedOptions(t,i),c=i.left||0,d=i.top||0,i.sourceWidth?(l=i.sourceWidth,i.right!==e&&i.left===e&&(c=y-l-i.right)):l=y-c-(i.right||0),i.sourceHeight?(p=i.sourceHeight,i.bottom!==e&&i.top===e&&(d=w-p-i.bottom)):p=w-d-(i.bottom||0),b=l,k=p),r=i.maxWidth,s=i.maxHeight,h=i.minWidth,u=i.minHeight,v&&r&&s&&i.crop?(b=r,k=s,m=l/p-r/s,m<0?(p=s*l/r,i.top===e&&i.bottom===e&&(d=(w-p)/2)):m>0&&(l=r*p/s,i.left===e&&i.right===e&&(c=(y-l)/2))):((i.contain||i.cover)&&(h=r=r||h,u=s=s||u),i.cover?(a(),o()):(o(),a())),v){if(f=i.pixelRatio,f>1&&(g.style.width=b+"px",g.style.height=k+"px",b*=f,k*=f,g.getContext("2d").scale(f,f)),_=i.downsamplingRatio,_>0&&_<1&&b<l&&k<p)for(;l*_>b;){g.width=l*_,g.height=p*_,n.renderImageToCanvas(g,t,c,d,l,p,0,0,g.width,g.height),l=g.width,p=g.height,t=document.createElement("canvas"),t.width=l,t.height=p,n.renderImageToCanvas(t,g,0,0,l,p,0,0,l,p);}return g.width=b,g.height=k,n.transformCoordinates(g,i),n.renderImageToCanvas(g,t,c,d,l,p,0,0,b,k);}return t.width=b,t.height=k,t;},n.createObjectURL=function(t){return!!o&&o.createObjectURL(t);},n.revokeObjectURL=function(t){return!!o&&o.revokeObjectURL(t);},n.readFile=function(t,e,i){if(window.FileReader){var n=new FileReader();if(n.onload=n.onerror=e,i=i||"readAsDataURL",n[i])return n[i](t),n;}return!1;};var a=n.hasCanvasOption,r=n.transformCoordinates,s=n.getTransformedOptions;n.hasCanvasOption=function(t){return!!t.orientation||a.call(n,t);},n.transformCoordinates=function(t,e){r.call(n,t,e);var i=t.getContext("2d"),o=t.width,a=t.height,s=t.style.width,h=t.style.height,u=e.orientation;if(u&&!(u>8))switch(u>4&&(t.width=a,t.height=o,t.style.width=h,t.style.height=s),u){case 2:i.translate(o,0),i.scale(-1,1);break;case 3:i.translate(o,a),i.rotate(Math.PI);break;case 4:i.translate(0,a),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-a);break;case 7:i.rotate(.5*Math.PI),i.translate(o,-a),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-o,0);}},n.getTransformedOptions=function(t,e){var i,o,a=s.call(n,t,e),r=a.orientation;if(!r||r>8||1===r)return a;i={};for(o in a){a.hasOwnProperty(o)&&(i[o]=a[o]);}switch(a.orientation){case 2:i.left=a.right,i.right=a.left;break;case 3:i.left=a.right,i.top=a.bottom,i.right=a.left,i.bottom=a.top;break;case 4:i.top=a.bottom,i.bottom=a.top;break;case 5:i.left=a.top,i.top=a.left,i.right=a.bottom,i.bottom=a.right;break;case 6:i.left=a.top,i.top=a.right,i.right=a.bottom,i.bottom=a.left;break;case 7:i.left=a.bottom,i.top=a.right,i.right=a.top,i.bottom=a.left;break;case 8:i.left=a.bottom,i.top=a.left,i.right=a.top,i.bottom=a.right;}return a.orientation>4&&(i.maxWidth=a.maxHeight,i.maxHeight=a.maxWidth,i.minWidth=a.minHeight,i.minHeight=a.minWidth,i.sourceWidth=a.sourceHeight,i.sourceHeight=a.sourceWidth),i;};var h=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);n.blobSlice=h&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments);},n.metaDataParsers={jpeg:{65505:[]}},n.parseMetaData=function(t,e,i){i=i||{};var o=this,a=i.maxMetaDataSize||262144,r={},s=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&n.blobSlice);!s&&n.readFile(n.blobSlice.call(t,0,a),function(t){if(t.target.error)return void e(r);var a,s,h,u,l=t.target.result,p=new DataView(l),c=2,d=p.byteLength-4,f=c;if(65496===p.getUint16(0)){for(;c<d&&(a=p.getUint16(c),a>=65504&&a<=65519||65534===a)&&(s=p.getUint16(c+2)+2,!(c+s>p.byteLength));){if(h=n.metaDataParsers.jpeg[a])for(u=0;u<h.length;u+=1){h[u].call(o,p,c,s,r,i);}c+=s,f=c;}!i.disableImageHead&&f>6&&(l.slice?r.imageHead=l.slice(0,f):r.imageHead=new Uint8Array(l).subarray(0,f));}e(r);},"readAsArrayBuffer")||e(r);},n.ExifMap=function(){return this;},n.ExifMap.prototype.map={Orientation:274},n.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]];},n.getExifThumbnail=function(t,e,i){var n,o,a;if(i&&!(e+i>t.byteLength)){for(n=[],o=0;o<i;o+=1){a=t.getUint8(e+o),n.push((a<16?"0":"")+a.toString(16));}return"data:image/jpeg,%"+n.join("%");}},n.exifTagTypes={1:{getValue:function getValue(t,e){return t.getUint8(e);},size:1},2:{getValue:function getValue(t,e){return String.fromCharCode(t.getUint8(e));},size:1,ascii:!0},3:{getValue:function getValue(t,e,i){return t.getUint16(e,i);},size:2},4:{getValue:function getValue(t,e,i){return t.getUint32(e,i);},size:4},5:{getValue:function getValue(t,e,i){return t.getUint32(e,i)/t.getUint32(e+4,i);},size:8},9:{getValue:function getValue(t,e,i){return t.getInt32(e,i);},size:4},10:{getValue:function getValue(t,e,i){return t.getInt32(e,i)/t.getInt32(e+4,i);},size:8}},n.exifTagTypes[7]=n.exifTagTypes[1],n.getExifValue=function(t,e,i,o,a,r){var s,h,u,l,p,c,d=n.exifTagTypes[o];if(d&&(s=d.size*a,h=s>4?e+t.getUint32(i+8,r):i+8,!(h+s>t.byteLength))){if(1===a)return d.getValue(t,h,r);for(u=[],l=0;l<a;l+=1){u[l]=d.getValue(t,h+l*d.size,r);}if(d.ascii){for(p="",l=0;l<u.length&&(c=u[l],"\0"!==c);l+=1){p+=c;}return p;}return u;}},n.parseExifTag=function(t,e,i,o,a){var r=t.getUint16(i,o);a.exif[r]=n.getExifValue(t,e,i,t.getUint16(i+2,o),t.getUint32(i+4,o),o);},n.parseExifTags=function(t,e,i,n,o){var a,r,s;if(!(i+6>t.byteLength||(a=t.getUint16(i,n),r=i+2+12*a,r+4>t.byteLength))){for(s=0;s<a;s+=1){this.parseExifTag(t,e,i+2+12*s,n,o);}return t.getUint32(r,n);}},n.parseExifData=function(t,e,i,o,a){if(!a.disableExif){var r,s,h,u=e+10;if(1165519206===t.getUint32(e+4)&&!(u+8>t.byteLength)&&0===t.getUint16(e+8)){switch(t.getUint16(u)){case 18761:r=!0;break;case 19789:r=!1;break;default:return;}42===t.getUint16(u+2,r)&&(s=t.getUint32(u+4,r),o.exif=new n.ExifMap(),s=n.parseExifTags(t,u,u+s,r,o),s&&!a.disableExifThumbnail&&(h={exif:{}},s=n.parseExifTags(t,u,u+s,r,h),h.exif[513]&&(o.exif.Thumbnail=n.getExifThumbnail(t,u+h.exif[513],h.exif[514]))),o.exif[34665]&&!a.disableExifSub&&n.parseExifTags(t,u,u+o.exif[34665],r,o),o.exif[34853]&&!a.disableExifGps&&n.parseExifTags(t,u,u+o.exif[34853],r,o));}}},n.metaDataParsers.jpeg[65505].push(n.parseExifData);var u=function(){var t=[],i=[],n=[],o="transform",a=window.getComputedStyle(document.documentElement,""),r=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];"webkit"===r&&(o="webkitTransform");var s=function s(t,i,n){var o=t;if(o.length!==e){for(var a={chainers:[],then:function then(t){return this.snabbt(t);},snabbt:function snabbt(t){var e=this.chainers.length;return this.chainers.forEach(function(i,n){i.snabbt(h(t,n,e));}),a;},setValue:function setValue(t){return this.chainers.forEach(function(e){e.setValue(t);}),a;},finish:function finish(){return this.chainers.forEach(function(t){t.finish();}),a;},rollback:function rollback(){return this.chainers.forEach(function(t){t.rollback();}),a;}},r=0,s=o.length;r<s;++r){"string"==typeof i?a.chainers.push(u(o[r],i,h(n,r,s))):a.chainers.push(u(o[r],h(i,r,s),n));}return a;}return"string"==typeof i?u(o,i,h(n,0,1)):u(o,h(i,0,1),n);},h=function h(t,e,i){if(!t)return t;var n=$(t);J(t.delay)&&(n.delay=t.delay(e,i)),J(t.callback)&&(n.complete=function(){t.callback.call(this,e,i);});var o=J(t.allDone),a=J(t.complete);(a||o)&&(n.complete=function(){a&&t.complete.call(this,e,i),o&&e==i-1&&t.allDone();}),J(t.valueFeeder)&&(n.valueFeeder=function(n,o){return t.valueFeeder(n,o,e,i);}),J(t.easing)&&(n.easing=function(n){return t.easing(n,e,i);});var r=["position","rotation","skew","rotationPost","scale","width","height","opacity","fromPosition","fromRotation","fromSkew","fromRotationPost","fromScale","fromWidth","fromHeight","fromOpacity","transformOrigin","duration","delay"];return r.forEach(function(o){J(t[o])&&(n[o]=t[o](e,i));}),n;},u=function u(t,e,n){function o(e){if(f.tick(e),f.updateElement(t),!f.isStopped())return f.completed()?void(a.loop>1&&!f.isStopped()?(a.loop-=1,f.restart(),k(o)):(a.complete&&a.complete.call(t),_.length&&(a=_.pop(),s=y(a,u,!0),u=y(a,$(u)),a=w(s,u,a),f=S(a),i.push([t,f]),f.tick(e),k(o)))):k(o);}if("attention"===e)return l(t,n);if("stop"===e)return p(t);if("detach"===e)return d(t);var a=e;m();var r=v(t),s=r;s=y(a,s,!0);var u=$(r);u=y(a,u);var c=w(s,u,a),f=S(c);i.push([t,f]),f.updateElement(t,!0);var _=[],g={snabbt:function snabbt(t){return _.unshift(h(t,0,1)),g;},then:function then(t){return this.snabbt(t);}};return k(o),a.manual?f:g;},l=function l(t,e){function n(i){a.tick(i),a.updateElement(t),a.completed()?(e.callback&&e.callback(t),e.loop&&e.loop>1&&(e.loop--,a.restart(),k(n))):k(n);}var o=y(e,j({}));e.movement=o;var a=C(e);i.push([t,a]),k(n);},p=function p(t){for(var e=0,n=i.length;e<n;++e){var o=i[e],a=o[0],r=o[1];a===t&&r.stop();}},c=function c(t,e){for(var i=0,n=t.length;i<n;++i){if(t[i][0]===e)return i;}return-1;},d=function d(t){var e,o,a=[],r=i.concat(n),s=r.length;for(o=0;o<s;++o){e=r[o][0],(t.contains(e)||t===e)&&a.push(e);}for(s=a.length,o=0;o<s;++o){f(a[o]);}},f=function f(t){p(t);var e=c(i,t);e>=0&&i.splice(e,1),e=c(n,t),e>=0&&n.splice(e,1);},_=function _(t,e){for(var i=0,n=t.length;i<n;++i){var o=t[i],a=o[0],r=o[1];if(a===e){var s=r.getCurrentState();return r.stop(),s;}}},m=function m(){n=n.filter(function(t){return g(t[0]).body;});},g=function g(t){for(var e=t;e.parentNode;){e=e.parentNode;}return e;},v=function v(t){var e=_(i,t);return e?e:_(n,t);},y=function y(t,e,i){e||(e=j({position:[0,0,0],rotation:[0,0,0],rotationPost:[0,0,0],scale:[1,1],skew:[0,0]}));var n="position",o="rotation",a="skew",r="rotationPost",s="scale",h="scalePost",u="width",l="height",p="opacity";return i&&(n="fromPosition",o="fromRotation",a="fromSkew",r="fromRotationPost",s="fromScale",h="fromScalePost",u="fromWidth",l="fromHeight",p="fromOpacity"),e.position=G(t[n],e.position),e.rotation=G(t[o],e.rotation),e.rotationPost=G(t[r],e.rotationPost),e.skew=G(t[a],e.skew),e.scale=G(t[s],e.scale),e.scalePost=G(t[h],e.scalePost),e.opacity=t[p],e.width=t[u],e.height=t[l],e;},w=function w(t,e,i){return i.startState=t,i.endState=e,i;},b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60);},k=function k(e){0===t.length&&b(x),t.push(e);},x=function x(e){for(var o=t.length,a=0;a<o;++a){t[a](e);}t.splice(0,o);var r=i.filter(function(t){return t[1].completed();});n=n.filter(function(t){for(var e=0,i=r.length;e<i;++e){if(t[0]===r[e][0])return!1;}return!0;}),n=n.concat(r),i=i.filter(function(t){return!t[1].completed();}),0!==t.length&&b(x);},S=function S(t){var i=t.startState,n=t.endState,o=G(t.duration,500),a=G(t.delay,0),r=t.perspective,s=L(G(t.easing,"linear"),t),h=0===o?n.clone():i.clone();t.transformOrigin;h.transformOrigin=t.transformOrigin;var u,l,p=0,c=0,d=!1,f=!1,_=t.manual,m=0,g=a/o;return l=t.valueFeeder?V(t.valueFeeder,i,n,h):q(i,n,h),{stop:function stop(){d=!0;},isStopped:function isStopped(){return d;},finish:function finish(t){_=!1;var e=o*m;p=c-e,u=t,s.resetFrom=m;},rollback:function rollback(t){_=!1,l.setReverse();var e=o*(1-m);p=c-e,u=t,s.resetFrom=m;},restart:function restart(){p=e,s.resetFrom(0);},tick:function tick(t){if(!d){if(_)return c=t,void this.updateCurrentTransform();if(p||(p=t),t-p>a){f=!0,c=t-a;var e=Math.min(Math.max(0,c-p),o);s.tick(e/o),this.updateCurrentTransform(),this.completed()&&u&&u();}}},getCurrentState:function getCurrentState(){return h;},setValue:function setValue(t){f=!0,m=Math.min(Math.max(t,1e-4),1+g);},updateCurrentTransform:function updateCurrentTransform(){var t=s.getValue();if(_){var e=Math.max(1e-5,m-g);s.tick(e),t=s.getValue();}l.tween(t);},completed:function completed(){return!!d||0!==p&&s.completed();},updateElement:function updateElement(t,e){if(f||e){var i=l.asMatrix(),n=l.getProperties();X(t,i,r),Y(t,n);}}};},C=function C(t){var i=t.movement;t.initialVelocity=.1,t.equilibriumPosition=0;var n=R(t),o=!1,a=i.position,r=i.rotation,s=i.rotationPost,h=i.scale,u=i.skew,l=j({position:a?[0,0,0]:e,rotation:r?[0,0,0]:e,rotationPost:s?[0,0,0]:e,scale:h?[0,0]:e,skew:u?[0,0]:e});return{stop:function stop(){o=!0;},isStopped:function isStopped(t){return o;},tick:function tick(t){o||n.equilibrium||(n.tick(),this.updateMovement());},updateMovement:function updateMovement(){var t=n.getValue();a&&(l.position[0]=i.position[0]*t,l.position[1]=i.position[1]*t,l.position[2]=i.position[2]*t),r&&(l.rotation[0]=i.rotation[0]*t,l.rotation[1]=i.rotation[1]*t,l.rotation[2]=i.rotation[2]*t),s&&(l.rotationPost[0]=i.rotationPost[0]*t,l.rotationPost[1]=i.rotationPost[1]*t,l.rotationPost[2]=i.rotationPost[2]*t),h&&(l.scale[0]=1+i.scale[0]*t,l.scale[1]=1+i.scale[1]*t),u&&(l.skew[0]=i.skew[0]*t,l.skew[1]=i.skew[1]*t);},updateElement:function updateElement(t){X(t,l.asMatrix()),Y(t,l.getProperties());},getCurrentState:function getCurrentState(){return l;},completed:function completed(){return n.equilibrium||o;},restart:function restart(){n=R(t);}};},E=function E(t){return t;},T=function T(t){return(Math.cos(t*Math.PI+Math.PI)+1)/2;},P=function P(t){return t*t;},M=function M(t){return-Math.pow(t-1,2)+1;},R=function R(t){var e=G(t.startPosition,0),i=G(t.equilibriumPosition,1),n=G(t.initialVelocity,0),o=G(t.springConstant,.8),a=G(t.springDeceleration,.9),r=G(t.springMass,10),s=!1;return{tick:function tick(t){if(0!==t&&!s){var h=-(e-i)*o,u=h/r;n+=u,e+=n,n*=a,Math.abs(e-i)<.001&&Math.abs(n)<.001&&(s=!0);}},resetFrom:function resetFrom(t){e=t,n=0;},getValue:function getValue(){return s?i:e;},completed:function completed(){return s;}};},I={linear:E,ease:T,easeIn:P,easeOut:M},L=function L(t,e){if("spring"==t)return R(e);var i=t;J(t)||(i=I[t]);var n,o=i,a=0;return{tick:function tick(t){a=o(t),n=t;},resetFrom:function resetFrom(t){n=0;},getValue:function getValue(){return a;},completed:function completed(){return n>=1&&n;}};},O=function O(t,e,i,n){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e,t[13]=i,t[14]=n,t[15]=1;},D=function D(t,e){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=Math.cos(e),t[6]=-Math.sin(e),t[7]=0,t[8]=0,t[9]=Math.sin(e),t[10]=Math.cos(e),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1;},z=function z(t,e){t[0]=Math.cos(e),t[1]=0,t[2]=Math.sin(e),t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=-Math.sin(e),t[9]=0,t[10]=Math.cos(e),t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1;},A=function A(t,e){t[0]=Math.cos(e),t[1]=-Math.sin(e),t[2]=0,t[3]=0,t[4]=Math.sin(e),t[5]=Math.cos(e),t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1;},U=function U(t,e,i){t[0]=1,t[1]=Math.tan(e),t[2]=0,t[3]=0,t[4]=Math.tan(i),t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1;},N=function N(t,e,i){t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1;},H=function H(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1;},B=function B(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15];},F=function F(){var t=new Float32Array(16),e=new Float32Array(16),i=new Float32Array(16);return H(t),{data:t,asCSS:function asCSS(){for(var e="matrix3d(",i=0;i<15;++i){e+=Math.abs(t[i])<1e-4?"0,":t[i].toFixed(10)+",";}return e+=Math.abs(t[15])<1e-4?"0)":t[15].toFixed(10)+")";},clear:function clear(){H(t);},translate:function translate(n,o,a){return B(t,e),O(i,n,o,a),W(e,i,t),this;},rotateX:function rotateX(n){return B(t,e),D(i,n),W(e,i,t),this;},rotateY:function rotateY(n){return B(t,e),z(i,n),W(e,i,t),this;},rotateZ:function rotateZ(n){return B(t,e),A(i,n),W(e,i,t),this;},scale:function scale(n,o){return B(t,e),N(i,n,o),W(e,i,t),this;},skew:function skew(n,o){return B(t,e),U(i,n,o),W(e,i,t),this;}};},W=function W(t,e,i){return i[0]=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],i[1]=t[0]*e[1]+t[1]*e[5]+t[2]*e[9]+t[3]*e[13],i[2]=t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+t[3]*e[14],i[3]=t[0]*e[3]+t[1]*e[7]+t[2]*e[11]+t[3]*e[15],i[4]=t[4]*e[0]+t[5]*e[4]+t[6]*e[8]+t[7]*e[12],i[5]=t[4]*e[1]+t[5]*e[5]+t[6]*e[9]+t[7]*e[13],i[6]=t[4]*e[2]+t[5]*e[6]+t[6]*e[10]+t[7]*e[14],i[7]=t[4]*e[3]+t[5]*e[7]+t[6]*e[11]+t[7]*e[15],i[8]=t[8]*e[0]+t[9]*e[4]+t[10]*e[8]+t[11]*e[12],i[9]=t[8]*e[1]+t[9]*e[5]+t[10]*e[9]+t[11]*e[13],i[10]=t[8]*e[2]+t[9]*e[6]+t[10]*e[10]+t[11]*e[14],i[11]=t[8]*e[3]+t[9]*e[7]+t[10]*e[11]+t[11]*e[15],i[12]=t[12]*e[0]+t[13]*e[4]+t[14]*e[8]+t[15]*e[12],i[13]=t[12]*e[1]+t[13]*e[5]+t[14]*e[9]+t[15]*e[13],i[14]=t[12]*e[2]+t[13]*e[6]+t[14]*e[10]+t[15]*e[14],i[15]=t[12]*e[3]+t[13]*e[7]+t[14]*e[11]+t[15]*e[15],i;},j=function j(t){var i=F(),n={opacity:e,width:e,height:e};return{position:t.position,rotation:t.rotation,rotationPost:t.rotationPost,skew:t.skew,scale:t.scale,scalePost:t.scalePost,opacity:t.opacity,width:t.width,height:t.height,clone:function clone(){return j({position:this.position?this.position.slice(0):e,rotation:this.rotation?this.rotation.slice(0):e,rotationPost:this.rotationPost?this.rotationPost.slice(0):e,skew:this.skew?this.skew.slice(0):e,scale:this.scale?this.scale.slice(0):e,scalePost:this.scalePost?this.scalePost.slice(0):e,height:this.height,width:this.width,opacity:this.opacity});},asMatrix:function asMatrix(){var t=i;return t.clear(),this.transformOrigin&&t.translate(-this.transformOrigin[0],-this.transformOrigin[1],-this.transformOrigin[2]),this.scale&&t.scale(this.scale[0],this.scale[1]),this.skew&&t.skew(this.skew[0],this.skew[1]),this.rotation&&(t.rotateX(this.rotation[0]),t.rotateY(this.rotation[1]),t.rotateZ(this.rotation[2])),this.position&&t.translate(this.position[0],this.position[1],this.position[2]),this.rotationPost&&(t.rotateX(this.rotationPost[0]),t.rotateY(this.rotationPost[1]),t.rotateZ(this.rotationPost[2])),this.scalePost&&t.scale(this.scalePost[0],this.scalePost[1]),this.transformOrigin&&t.translate(this.transformOrigin[0],this.transformOrigin[1],this.transformOrigin[2]),t;},getProperties:function getProperties(){return n.opacity=this.opacity,n.width=this.width+"px",n.height=this.height+"px",n;}};},q=function q(t,i,n){var o=t,a=i,r=n,s=a.position!==e,h=a.rotation!==e,u=a.rotationPost!==e,l=a.scale!==e,p=a.skew!==e,c=a.width!==e,d=a.height!==e,f=a.opacity!==e;return{tween:function tween(t){if(s){var e=a.position[0]-o.position[0],i=a.position[1]-o.position[1],n=a.position[2]-o.position[2];r.position[0]=o.position[0]+t*e,r.position[1]=o.position[1]+t*i,r.position[2]=o.position[2]+t*n;}if(h){var _=a.rotation[0]-o.rotation[0],m=a.rotation[1]-o.rotation[1],g=a.rotation[2]-o.rotation[2];r.rotation[0]=o.rotation[0]+t*_,r.rotation[1]=o.rotation[1]+t*m,r.rotation[2]=o.rotation[2]+t*g;}if(u){var v=a.rotationPost[0]-o.rotationPost[0],y=a.rotationPost[1]-o.rotationPost[1],w=a.rotationPost[2]-o.rotationPost[2];r.rotationPost[0]=o.rotationPost[0]+t*v,r.rotationPost[1]=o.rotationPost[1]+t*y,r.rotationPost[2]=o.rotationPost[2]+t*w;}if(p){var b=a.scale[0]-o.scale[0],k=a.scale[1]-o.scale[1];r.scale[0]=o.scale[0]+t*b,r.scale[1]=o.scale[1]+t*k;}if(l){var x=a.skew[0]-o.skew[0],S=a.skew[1]-o.skew[1];r.skew[0]=o.skew[0]+t*x,r.skew[1]=o.skew[1]+t*S;}if(c){var C=a.width-o.width;r.width=o.width+t*C;}if(d){var E=a.height-o.height;r.height=o.height+t*E;}if(f){var T=a.opacity-o.opacity;r.opacity=o.opacity+t*T;}},asMatrix:function asMatrix(){return r.asMatrix();},getProperties:function getProperties(){return r.getProperties();},setReverse:function setReverse(){var t=o;o=a,a=t;}};},V=function V(t,i,n,o){var a=t(0,F()),r=i,s=n,h=o,u=!1;return{tween:function tween(i){u&&(i=1-i),a.clear(),a=t(i,a);var n=s.width-r.width,o=s.height-r.height,l=s.opacity-r.opacity;s.width!==e&&(h.width=r.width+i*n),s.height!==e&&(h.height=r.height+i*o),s.opacity!==e&&(h.opacity=r.opacity+i*l);},asMatrix:function asMatrix(){return a;},getProperties:function getProperties(){return h.getProperties();},setReverse:function setReverse(){u=!0;}};},G=function G(t,e){return"undefined"==typeof t?e:t;},X=function X(t,e,i){var n="";i&&(n="perspective("+i+"px) ");var a=e.asCSS();t.style[o]=n+a;},Y=function Y(t,e){for(var i in e){t.style[i]=e[i];}},J=function J(t){return"function"==typeof t;},$=function $(t){if(!t)return t;var e={};for(var i in t){e[i]=t[i];}return e;};return s.createMatrix=F,s.setElementTransform=X,s;}(),l=function(){function t(t,e,i,n,o){if("string"==typeof t)t=document.getElementById(t);else if(!t instanceof HTMLCanvasElement)return;var a,r=t.getContext("2d");try{try{a=r.getImageData(e,i,n,o);}catch(s){throw new Error("unable to access local image data: "+s);}}catch(s){throw new Error("unable to access image data: "+s);}return a;}function e(e,n,o,a,r,s){if(!(isNaN(s)||s<1)){s|=0;var h=t(e,n,o,a,r);h=i(h,n,o,a,r,s),e.getContext("2d").putImageData(h,n,o);}}function i(t,e,i,r,s,h){var u,l,p,c,d,f,_,m,g,v,y,w,b,k,x,S,C,E,T,P,M,R,I,L,O=t.data,D=h+h+1,z=r-1,A=s-1,U=h+1,N=U*(U+1)/2,H=new n(),B=H;for(p=1;p<D;p++){if(B=B.next=new n(),p==U)var F=B;}B.next=H;var W=null,j=null;_=f=0;var q=o[h],V=a[h];for(l=0;l<s;l++){for(S=C=E=T=m=g=v=y=0,w=U*(P=O[f]),b=U*(M=O[f+1]),k=U*(R=O[f+2]),x=U*(I=O[f+3]),m+=N*P,g+=N*M,v+=N*R,y+=N*I,B=H,p=0;p<U;p++){B.r=P,B.g=M,B.b=R,B.a=I,B=B.next;}for(p=1;p<U;p++){c=f+((z<p?z:p)<<2),m+=(B.r=P=O[c])*(L=U-p),g+=(B.g=M=O[c+1])*L,v+=(B.b=R=O[c+2])*L,y+=(B.a=I=O[c+3])*L,S+=P,C+=M,E+=R,T+=I,B=B.next;}for(W=H,j=F,u=0;u<r;u++){O[f+3]=I=y*q>>V,0!=I?(I=255/I,O[f]=(m*q>>V)*I,O[f+1]=(g*q>>V)*I,O[f+2]=(v*q>>V)*I):O[f]=O[f+1]=O[f+2]=0,m-=w,g-=b,v-=k,y-=x,w-=W.r,b-=W.g,k-=W.b,x-=W.a,c=_+((c=u+h+1)<z?c:z)<<2,S+=W.r=O[c],C+=W.g=O[c+1],E+=W.b=O[c+2],T+=W.a=O[c+3],m+=S,g+=C,v+=E,y+=T,W=W.next,w+=P=j.r,b+=M=j.g,k+=R=j.b,x+=I=j.a,S-=P,C-=M,E-=R,T-=I,j=j.next,f+=4;}_+=r;}for(u=0;u<r;u++){for(C=E=T=S=g=v=y=m=0,f=u<<2,w=U*(P=O[f]),b=U*(M=O[f+1]),k=U*(R=O[f+2]),x=U*(I=O[f+3]),m+=N*P,g+=N*M,v+=N*R,y+=N*I,B=H,p=0;p<U;p++){B.r=P,B.g=M,B.b=R,B.a=I,B=B.next;}for(d=r,p=1;p<=h;p++){f=d+u<<2,m+=(B.r=P=O[f])*(L=U-p),g+=(B.g=M=O[f+1])*L,v+=(B.b=R=O[f+2])*L,y+=(B.a=I=O[f+3])*L,S+=P,C+=M,E+=R,T+=I,B=B.next,p<A&&(d+=r);}for(f=u,W=H,j=F,l=0;l<s;l++){c=f<<2,O[c+3]=I=y*q>>V,I>0?(I=255/I,O[c]=(m*q>>V)*I,O[c+1]=(g*q>>V)*I,O[c+2]=(v*q>>V)*I):O[c]=O[c+1]=O[c+2]=0,m-=w,g-=b,v-=k,y-=x,w-=W.r,b-=W.g,k-=W.b,x-=W.a,c=u+((c=l+U)<A?c:A)*r<<2,m+=S+=W.r=O[c],g+=C+=W.g=O[c+1],v+=E+=W.b=O[c+2],y+=T+=W.a=O[c+3],W=W.next,w+=P=j.r,b+=M=j.g,k+=R=j.b,x+=I=j.a,S-=P,C-=M,E-=R,T-=I,j=j.next,f+=r;}}return t;}function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null;}var o=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];return e;}();HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function value(t,e,i){for(var n=atob(this.toDataURL(e,i).split(",")[1]),o=n.length,a=new Uint8Array(o),r=0;r<o;r++){a[r]=n.charCodeAt(r);}t(new Blob([a],{type:e||"image/png"}));}});var p=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n);}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e;};}(),c="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t);}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t);},d=function d(t){if("undefined"==typeof t.dataset){var e,i,n={},o=t.attributes;for(e in o){o.hasOwnProperty(e)&&o[e].name&&/^data-[a-z_\-\d]*$/i.test(o[e].name)&&(i=f(o[e].name.substr(5)),n[i]=o[e].value);}return n;}return t.dataset;},f=function f(t){return t.replace(/\-./g,function(t){return t.charAt(1).toUpperCase();});},_=function _(t){for(var e=[],i=Array.prototype.slice.call(t.attributes),n=i.length,o=0;o<n;o++){e.push({name:i[o].name,value:i[o].value});}return e;},m=function m(t){return{x:"undefined"==typeof t.offsetX?t.layerX:t.offsetX,y:"undefined"==typeof t.offsetY?t.layerY:t.offsetY};},g=function g(t,e){var i,n={},o=e||{};for(i in t){t.hasOwnProperty(i)&&(n[i]="undefined"==typeof o[i]?t[i]:o[i]);}return n;},v={ESC:27,RETURN:13},y={DOWN:["touchstart","pointerdown","mousedown"],MOVE:["touchmove","pointermove","mousemove"],UP:["touchend","touchcancel","pointerup","mouseup"]},w={jpeg:"image/jpeg",jpg:"image/jpeg",jpe:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp"},b=/(\.png|\.bmp|\.gif|\.jpg|\.jpe|\.jpg|\.jpeg)$/,k=function k(t,e){var i=document.createElement(t);return e&&(i.className=e),i;},x=function x(t,e,i){e.forEach(function(e){t.addEventListener(e,i,!1);});},S=function S(t,e,i){e.forEach(function(e){t.removeEventListener(e,i,!1);});},C=function C(t){var e=t.changedTouches?t.changedTouches[0]:t;if(e)return{x:e.pageX,y:e.pageY};},E=function E(t,e){var i=.5,n=.5,o=Math.PI/180*e,a=Math.cos(o),r=Math.sin(o),s=t.x,h=t.y,u=t.x+t.width,l=t.y+t.height,p=a*(s-i)+r*(h-n)+i,c=a*(h-n)-r*(s-i)+n,d=a*(u-i)+r*(l-n)+i,f=a*(l-n)-r*(u-i)+n;p<=d?(t.x=p,t.width=d-p):(t.x=d,t.width=p-d),c<=f?(t.y=c,t.height=f-c):(t.y=f,t.height=c-f);},T=function T(t){var e=C(t);return e.x-=window.pageXOffset||document.documentElement.scrollLeft,e.y-=window.pageYOffset||document.documentElement.scrollTop,e;},P=function P(t){return t.charAt(0).toLowerCase()+t.slice(1);},M=function M(t){return t.charAt(0).toUpperCase()+t.slice(1);},R=function R(t){return t[t.length-1];},I=function I(t,e,i){return Math.max(e,Math.min(i,t));},L=function L(t,e){if(!e)return!1;for(var i=0;i<e.length;i++){if(e[i]===t)return!0;}return!1;},O=function O(t,e,i,n,o,a){var r=new XMLHttpRequest();n&&r.upload.addEventListener("progress",function(t){n(t.loaded,t.total);}),r.open("POST",t,!0),i&&i(r),r.onreadystatechange=function(){if(4===r.readyState&&r.status>=200&&r.status<300){var t=r.responseText;if(!t.length)return void o();if(t.indexOf("Content-Length")!==-1)return void a("file-too-big");var e=void 0;try{e=JSON.parse(r.responseText);}catch(i){}if("object"===("undefined"==typeof e?"undefined":c(e))&&"failure"===e.status)return void a(e.message);o(e||t);}else if(4===r.readyState){var n=void 0;try{n=JSON.parse(r.responseText);}catch(i){}if("object"===("undefined"==typeof n?"undefined":c(n))&&"failure"===n.status)return void a(n.message);a("fail");}},r.send(e);},D=function D(t){t&&(t.style.webkitTransform="",t.style.transform="");},z=function z(t){return t/1e6;},A=function A(){var t=[],e=void 0,i=void 0;for(e in w){w.hasOwnProperty(e)&&(i=w[e],t.indexOf(i)==-1&&t.push(i));}return t;},U=function U(t){return"image/jpeg"===t;},N=function N(t){var e=void 0;for(e in w){if(w.hasOwnProperty(e)&&w[e]===t)return e;}return t;},H=function H(t){var e=void 0;for(e in w){if(w.hasOwnProperty(e)&&t.indexOf(w[e])!==-1)return w[e];}return null;},B=function B(t){return t.split("/").pop().split("?").shift();},F=function F(t){var i=arguments.length>1&&arguments[1]!==e?arguments[1]:"";return(i+t).slice(-i.length);},W=function W(t){return t.getFullYear()+"-"+F(t.getMonth()+1,"00")+"-"+F(t.getDate(),"00")+"_"+F(t.getHours(),"00")+"-"+F(t.getMinutes(),"00")+"-"+F(t.getSeconds(),"00");},j=function j(t){return"undefined"==typeof t.name?W(new Date())+"."+N(q(t)):t.name;},q=function q(t){return t.type||"image/jpeg";},V=function V(t){if("string"!=typeof t)return W(new Date());var e=B(t);return e.split(".").shift();},G=function G(t,e){return"lastModified"in File.prototype?t.lastModified=new Date():t.lastModifiedDate=new Date(),t.name=e,t;},X=function X(t){return /^data:image/.test(t);},Y=function Y(t,e,i,n){t=""+t+(t.indexOf("?")!==-1?"&":"?")+"url="+e;var o=new XMLHttpRequest();o.open("GET",t,!0),o.responseType="json",o.onload=function(){return"failure"===this.response.status?void i(this.response.message):void J(this.response.body,n);},o.send();},J=function J(t,e){var i=new XMLHttpRequest();i.open("GET",t,!0),i.responseType="blob",i.onload=function(i){var n=B(t),o=H(this.response.type);b.test(n)||(n+="."+N(o));var a=G(this.response,n);e(gt(a,o));},i.send();},$=function $(t){var e=t.split(",")[1],i=e.replace(/\s/g,"");return atob(i);},Z=function Z(t,e){for(var i=$(t),n=new ArrayBuffer(i.length),o=new Uint8Array(n),a=0;a<i.length;a++){o[a]=i.charCodeAt(a);}var r=wt(t);return"undefined"==typeof e&&(e=W(new Date())+"."+N(r)),G(K(n,r),e);},K=function K(t,e){var i=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(i){var n=new i();return n.append(t),n.getBlob(e);}return new Blob([t],{type:e});},Q=function Q(t,e,i){var o="string"!=typeof t||0!==t.indexOf("data:image");n.parseMetaData(t,function(a){var r={canvas:!0,crossOrigin:o};e&&(r.maxWidth=e.width,r.maxHeight=e.height),a.exif&&(r.orientation=a.exif.get("Orientation")),n(t,function(t){return"error"===t.type?void i():void i(t,a);},r);});},tt=function tt(t,e,i){var n,o,a,r,s=e/t;return s<i?(r=e,a=r/i,n=.5*(t-a),o=0):(a=t,r=a*i,n=0,o=.5*(e-r)),{x:n,y:o,height:r,width:a};},et=function et(t){var n=arguments.length>1&&arguments[1]!==e?arguments[1]:{},o=arguments[2],a=k("canvas"),r=n.rotation,s=n.crop,h=n.size,u=n.filters,l=n.minSize;if(s){var p=r%180!==0,c={width:p?t.height:t.width,height:p?t.width:t.height};s.x<0&&(s.x=0),s.y<0&&(s.y=0),s.width>c.width&&(s.width=c.width),s.height>c.height&&(s.height=c.height),s.y+s.height>c.height&&(s.y=Math.max(0,c.height-s.height)),s.x+s.width>c.width&&(s.x=Math.max(0,c.width-s.width));var d=s.x/c.width,f=s.y/c.height,_=s.width/c.width,m=s.height/c.height;a.width=s.width,a.height=s.height;var g=a.getContext("2d");90===r?(g.translate(.5*a.width,.5*a.height),g.rotate(-90*Math.PI/180),g.drawImage(t,(1-f)*t.width-t.width*m,s.x,s.height,s.width,.5*-a.height,.5*-a.width,a.height,a.width)):180===r?(g.translate(.5*a.width,.5*a.height),g.rotate(-180*Math.PI/180),g.drawImage(t,(1-(d+_))*c.width,(1-(f+m))*c.height,_*c.width,m*c.height,.5*-a.width,.5*-a.height,a.width,a.height)):270===r?(g.translate(.5*a.width,.5*a.height),g.rotate(-270*Math.PI/180),g.drawImage(t,s.y,(1-d)*t.height-t.height*_,s.height,s.width,.5*-a.height,.5*-a.width,a.height,a.width)):g.drawImage(t,s.x,s.y,s.width,s.height,0,0,a.width,a.height);}if(h){var v=h.width/a.width,y=h.height/a.height,w=Math.min(v,y);i(a,w,h,l),u.sharpen>0&&nt(a,at(u.sharpen));}o(a);},it=function it(t){var e=t.getContext("2d");return e.getImageData(0,0,t.width,t.height);},nt=function nt(t,e){var i=t.getContext("2d");i.putImageData(e(it(t),t.width,t.height),0,0);},ot=function ot(t,e,i){var n=document.createElement("canvas");n.width=t,n.height=e;var o=n.getContext("2d"),a=o.createImageData(n.width,n.height);return i&&a.set(i.data),a;},at=function at(t){return function(e,i,n){for(var o=[0,-1,0,-1,5,-1,0,-1,0],a=Math.round(Math.sqrt(o.length)),r=.5*a|0,s=ot(i,n),h=s.data,u=e.data,l=n,p=void 0;l--;){for(p=i;p--;){for(var c=l,d=p,f=4*(l*i+p),_=0,m=0,g=0,v=0,y=0;y<a;y++){for(var w=0;w<a;w++){var b=c+y-r,k=d+w-r;if(b>=0&&b<n&&k>=0&&k<i){var x=4*(b*i+k),S=o[y*a+w];_+=u[x]*S,m+=u[x+1]*S,g+=u[x+2]*S,v+=u[x+3]*S;}}}h[f]=_*t+u[f]*(1-t),h[f+1]=m*t+u[f+1]*(1-t),h[f+2]=g*t+u[f+2]*(1-t),h[f+3]=u[f+3];}}return s;};},rt=function rt(t,e){var i=Math.abs(t.width-e.width),n=Math.abs(t.height-e.height);return Math.max(i,n);},st=function st(t){return ht(t,1);},ht=function ht(t,e){if(!t)return null;var n=document.createElement("canvas"),o=n.getContext("2d");return n.width=t.width,n.height=t.height,o.drawImage(t,0,0),e>0&&1!=e&&i(n,e,{width:Math.round(t.width*e),height:Math.round(t.height*e)},{width:0,height:0}),n;},ut=function ut(t){return t.width&&t.height;},lt=function lt(t,e){var i=e.getContext("2d");ut(e)?i.drawImage(t,0,0,e.width,e.height):(e.width=t.width,e.height=t.height,i.drawImage(t,0,0));},pt=function pt(t){l(t,0,0,t.width,t.height,3);},ct=function ct(t,e){return parseInt(t.width,10)>=e.width&&parseInt(t.height,10)>=e.height;},dt=function dt(t,e,i){return{x:t.x*e,y:t.y*i,width:t.width*e,height:t.height*i};},ft=function ft(t,e,i){return{x:t.x/e,y:t.y/i,width:t.width/e,height:t.height/i};},_t=function _t(t){if(t&&""!==t.value){try{t.value="";}catch(e){}if(t.value){var i=document.createElement("form"),n=t.parentNode,o=t.nextSibling;i.appendChild(t),i.reset(),o?n.insertBefore(t,o):n.appendChild(t);}}},mt=function mt(t){return"object"===("undefined"==typeof value?"undefined":c(value))&&null!==value?JSON.parse(JSON.stringify(t)):t;},gt=function gt(t){var i=arguments.length>1&&arguments[1]!==e?arguments[1]:null;if(!t)return null;var n=t.slice(0,t.size,i||t.type);return n.name=t.name,"lastModified"in File.prototype&&t.lastModified?n.lastModified=new Date(t.lastModified):t.lastModifiedDate&&(n.lastModifiedDate=new Date(t.lastModifiedDate)),n;},vt=function vt(t){var e=mt(t);return e.input.file=gt(t.input.file),e.output.image=st(t.output.image),e;},yt=function yt(t,i,n){return t&&i?t.toDataURL(i,U(i)&&"number"==typeof n?n/100:e):null;},wt=function wt(t){if(!t)return null;var e=t.substr(0,16).match(/^.+;/);return e.length?e[0].substring(5,e[0].length-1):null;},bt=function bt(t){var i=arguments.length>1&&arguments[1]!==e?arguments[1]:[],n=arguments[2],o=arguments[3],a=arguments[4],r={server:mt(t.server),meta:mt(t.meta),input:{name:t.input.name,type:t.input.type,size:t.input.size,width:t.input.width,height:t.input.height,field:t.input.field}};return L("input",i)&&!a&&(r.input.image=yt(t.input.image,t.input.type)),L("output",i)&&(r.output={name:o?V(t.input.name)+"."+o:t.input.name,type:w[o]||t.input.type,width:t.output.width,height:t.output.height},r.output.image=yt(t.output.image,r.output.type,n),r.output.type=wt(r.output.image),"image/png"===r.output.type&&(r.output.name=V(r.input.name)+".png")),L("actions",i)&&(r.actions=mt(t.actions)),r;},kt=function kt(t,i,n){var o=t.output.image,a=n?V(t.input.name)+"."+n:t.input.name,r=w[n]||t.input.type;"image/png"===r&&(a=V(t.input.name)+".png"),o.toBlob(function(t){if("msSaveBlob"in window.navigator)return void window.navigator.msSaveBlob(t,a);var e=(window.URL||window.webkitURL).createObjectURL(t),i=k("a");i.style.display="none",i.download=a,i.href=e,document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),(window.URL||window.webkitURL).revokeObjectURL(e);},0);},r,"number"==typeof i?i/100:e);},xt=function xt(t,e,i){var n=i.querySelector(t);n&&(n.style.display=e?"":"none");},St=function St(t){return Array.prototype.slice.call(t);},Ct=function Ct(t){t.parentNode.removeChild(t);},Et=function Et(t){var e=k("div");return t.parentNode&&(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)),e.appendChild(t),e;},Tt=function Tt(t,e,i,n){var o=(n-90)*Math.PI/180;return{x:t+i*Math.cos(o),y:e+i*Math.sin(o)};},Pt=function Pt(t,e,i,n,o){var a=Tt(t,e,i,o),r=Tt(t,e,i,n),s=o-n<=180?"0":"1",h=["M",a.x,a.y,"A",i,i,0,s,0,r.x,r.y].join(" ");return h;},Mt=function Mt(t,e,i,n){return Pt(t,e,i,0,360*n);},Rt=function(){var i={n:function n(t,e,i,_n){var o,a,r,s,h,u,l,p;return r=t.y+t.height,o=I(e.y,0,r),r-o<i.min.height&&(o=r-i.min.height),h=_n?(r-o)/_n:t.width,h<i.min.width&&(h=i.min.width,o=r-h*_n),l=.5*(h-t.width),s=t.x-l,a=t.x+t.width+l,(s<0||a>i.width)&&(p=Math.min(t.x,i.width-(t.x+t.width)),s=t.x-p,a=t.x+t.width+p,h=a-s,u=h*_n,o=r-u),{x:s,y:o,width:a-s,height:r-o};},s:function s(t,e,i,n){var o,a,r,s,h,u,l,p;return o=t.y,r=I(e.y,o,i.height),r-o<i.min.height&&(r=o+i.min.height),h=n?(r-o)/n:t.width,h<i.min.width&&(h=i.min.width,r=o+h*n),l=.5*(h-t.width),s=t.x-l,a=t.x+t.width+l,(s<0||a>i.width)&&(p=Math.min(t.x,i.width-(t.x+t.width)),s=t.x-p,a=t.x+t.width+p,h=a-s,u=h*n,r=o+u),{x:s,y:o,width:a-s,height:r-o};},e:function e(t,_e,i,n){var o,a,r,s,h,u,l,p;return s=t.x,a=I(_e.x,s,i.width),a-s<i.min.width&&(a=s+i.min.width),u=n?(a-s)*n:t.height,u<i.min.height&&(u=i.min.height,a=s+u/n),l=.5*(u-t.height),o=t.y-l,r=t.y+t.height+l,(o<0||r>i.height)&&(p=Math.min(t.y,i.height-(t.y+t.height)),o=t.y-p,r=t.y+t.height+p,u=r-o,h=u/n,a=s+h),{x:s,y:o,width:a-s,height:r-o};},w:function n(t,e,i,o){var a,r,s,h,n,u,l,p;return r=t.x+t.width,h=I(e.x,0,r),r-h<i.min.width&&(h=r-i.min.width),u=o?(r-h)*o:t.height,u<i.min.height&&(u=i.min.height,h=r-u/o),l=.5*(u-t.height),a=t.y-l,s=t.y+t.height+l,(a<0||s>i.height)&&(p=Math.min(t.y,i.height-(t.y+t.height)),a=t.y-p,s=t.y+t.height+p,u=s-a,n=u/o,h=r-n),{x:h,y:a,width:r-h,height:s-a};},ne:function ne(t,e,i,n){var o,a,r,s,h,u,l;return s=t.x,r=t.y+t.height,a=I(e.x,s,i.width),a-s<i.min.width&&(a=s+i.min.width),u=n?(a-s)*n:I(r-e.y,i.min.height,r),u<i.min.height&&(u=i.min.height,a=s+u/n),o=t.y-(u-t.height),(o<0||r>i.height)&&(l=Math.min(t.y,i.height-(t.y+t.height)),o=t.y-l,u=r-o,h=u/n,a=s+h),{x:s,y:o,width:a-s,height:r-o};},se:function se(t,e,i,n){var o,a,r,s,h,u,l;return s=t.x,o=t.y,a=I(e.x,s,i.width),a-s<i.min.width&&(a=s+i.min.width),u=n?(a-s)*n:I(e.y-t.y,i.min.height,i.height-o),u<i.min.height&&(u=i.min.height,a=s+u/n),r=t.y+t.height+(u-t.height),(o<0||r>i.height)&&(l=Math.min(t.y,i.height-(t.y+t.height)),r=t.y+t.height+l,u=r-o,h=u/n,a=s+h),{x:s,y:o,width:a-s,height:r-o};},sw:function sw(t,e,i,n){var o,a,r,s,h,u,l;return a=t.x+t.width,o=t.y,s=I(e.x,0,a),a-s<i.min.width&&(s=a-i.min.width),u=n?(a-s)*n:I(e.y-t.y,i.min.height,i.height-o),u<i.min.height&&(u=i.min.height,s=a-u/n),r=t.y+t.height+(u-t.height),(o<0||r>i.height)&&(l=Math.min(t.y,i.height-(t.y+t.height)),r=t.y+t.height+l,u=r-o,h=u/n,s=a-h),{x:s,y:o,width:a-s,height:r-o};},nw:function nw(t,e,i,n){var o,a,r,s,h,u,l;return a=t.x+t.width,r=t.y+t.height,s=I(e.x,0,a),a-s<i.min.width&&(s=a-i.min.width),u=n?(a-s)*n:I(r-e.y,i.min.height,r),u<i.min.height&&(u=i.min.height,s=a-u/n),o=t.y-(u-t.height),(o<0||r>i.height)&&(l=Math.min(t.y,i.height-(t.y+t.height)),o=t.y-l,u=r-o,h=u/n,s=a-h),{x:s,y:o,width:a-s,height:r-o};}};return function(){function n(){var i=arguments.length>0&&arguments[0]!==e?arguments[0]:document.createElement("div");t(this,n),this._element=i,this._interaction=null,this._minWidth=0,this._minHeight=0,this._ratio=null,this._rect={x:0,y:0,width:0,height:0},this._space={width:0,height:0},this._rectChanged=!1,this._init();}return p(n,[{key:"_init",value:function value(){this._element.className="slim-crop-area";var t=k("div","grid");this._element.appendChild(t);for(var e in i){if(i.hasOwnProperty(e)){var n=k("button",e);this._element.appendChild(n);}}var o=k("button","c");this._element.appendChild(o),x(document,y.DOWN,this);}},{key:"reset",value:function value(){this._interaction=null,this._rect={x:0,y:0,width:0,height:0},this._rectChanged=!0,this._redraw(),this._element.dispatchEvent(new CustomEvent("change"));}},{key:"rescale",value:function value(t){1!==t&&(this._interaction=null,this._rectChanged=!0,this._rect.x*=t,this._rect.y*=t,this._rect.width*=t,this._rect.height*=t,this._redraw(),this._element.dispatchEvent(new CustomEvent("change")));}},{key:"limit",value:function value(t,e){this._space.width=t,this._space.height=e;}},{key:"offset",value:function value(t,e){this._space.x=t,this._space.y=e;}},{key:"resize",value:function value(t,e,i,n){this._interaction=null,this._rect={x:I(t,0,this._space.width-this._minWidth),y:I(e,0,this._space.height-this._minHeight),width:I(i,this._minWidth,this._space.width),height:I(n,this._minHeight,this._space.height)},this._rectChanged=!0,this._redraw(),this._element.dispatchEvent(new CustomEvent("change"));}},{key:"handleEvent",value:function value(t){switch(t.type){case"touchstart":case"pointerdown":case"mousedown":this._onStartDrag(t);break;case"touchmove":case"pointermove":case"mousemove":this._onDrag(t);break;case"touchend":case"touchcancel":case"pointerup":case"mouseup":this._onStopDrag(t);}}},{key:"_onStartDrag",value:function value(t){this._element.contains(t.target)&&(t.preventDefault(),x(document,y.MOVE,this),x(document,y.UP,this),this._interaction={type:t.target.className,offset:T(t)},this._interaction.offset.x-=this._rect.x,this._interaction.offset.y-=this._rect.y,this._element.setAttribute("data-dragging","true"),this._redraw());}},{key:"_onDrag",value:function value(t){t.preventDefault();var e=T(t),n=this._interaction.type;"c"===n?(this._rect.x=I(e.x-this._interaction.offset.x,0,this._space.width-this._rect.width),this._rect.y=I(e.y-this._interaction.offset.y,0,this._space.height-this._rect.height)):i[n]&&(this._rect=i[n](this._rect,{x:e.x-this._space.x,y:e.y-this._space.y},{x:0,y:0,width:this._space.width,height:this._space.height,min:{width:this._minWidth,height:this._minHeight}},this._ratio)),this._rectChanged=!0,this._element.dispatchEvent(new CustomEvent("input"));}},{key:"_onStopDrag",value:function value(t){t.preventDefault(),S(document,y.MOVE,this),S(document,y.UP,this),this._interaction=null,this._element.setAttribute("data-dragging","false"),this._element.dispatchEvent(new CustomEvent("change"));}},{key:"_redraw",value:function value(){var t=this;if(this._rectChanged){var e="translate("+this._rect.x+"px,"+this._rect.y+"px);";this._element.style.cssText="\n\t\t\t\t\t-webkit-transform: "+e+";\n\t\t\t\t\ttransform: "+e+";\n\t\t\t\t\twidth:"+this._rect.width+"px;\n\t\t\t\t\theight:"+this._rect.height+"px;\n\t\t\t\t",this._rectChanged=!1;}this._interaction&&requestAnimationFrame(function(){return t._redraw();});}},{key:"destroy",value:function value(){this._interaction=!1,this._rectChanged=!1,S(document,y.DOWN,this),S(document,y.MOVE,this),S(document,y.UP,this),Ct(this._element);}},{key:"element",get:function get(){return this._element;}},{key:"space",get:function get(){return this._space;}},{key:"area",get:function get(){var t=this._rect.x/this._space.width,e=this._rect.y/this._space.height,i=this._rect.width/this._space.width,n=this._rect.height/this._space.height;return{x:t,y:e,width:i,height:n};}},{key:"dirty",get:function get(){return 0!==this._rect.x||0!==this._rect.y||0!==this._rect.width||0!==this._rect.height;}},{key:"minWidth",set:function set(t){this._minWidth=t;}},{key:"minHeight",set:function set(t){this._minHeight=t;}},{key:"ratio",set:function set(t){this._ratio=t;}}]),n;}();}(),It=function(){var i=["input","change"],n=function(){function n(){var i=arguments.length>0&&arguments[0]!==e?arguments[0]:document.createElement("div"),o=arguments.length>1&&arguments[1]!==e?arguments[1]:{};t(this,n),this._element=i,this._options=g(n.options(),o),this._ratio=null,this._output=null,this._input=null,this._preview=null,this._previewBlurred=null,this._blurredPreview=!1,this._cropper=null,this._straightCrop=null,this._previewWrapper=null,this._currentWindowSize={},this._btnGroup=null,this._maskFrame=null,this._dirty=!1,this._wrapperRotation=0,this._wrapperScale=1,this._init();}return p(n,[{key:"_init",value:function value(){var t=this;this._element.className="slim-image-editor",this._container=k("div","slim-container"),this._wrapper=k("div","slim-wrapper"),this._stage=k("div","slim-stage"),this._container.appendChild(this._stage),this._cropper=new Rt(),i.forEach(function(e){t._cropper.element.addEventListener(e,t);}),this._stage.appendChild(this._cropper.element),this._previewWrapper=k("div","slim-image-editor-preview slim-crop-preview"),this._previewBlurred=k("canvas","slim-crop-blur"),this._previewWrapper.appendChild(this._previewBlurred),this._wrapper.appendChild(this._previewWrapper),this._previewMask=k("div","slim-crop-mask"),this._preview=k("img"),this._previewMask.appendChild(this._preview),this._cropper.element.appendChild(this._previewMask),this._btnGroup=k("div","slim-editor-btn-group"),n.Buttons.forEach(function(e){var i=M(e),n=t._options["button"+i+"Label"],o=t._options["button"+i+"Title"],a=t._options["button"+i+"ClassName"],r=k("button","slim-editor-btn slim-btn-"+e+(a?" "+a:""));r.innerHTML=n,r.title=o||n,r.type="button",r.setAttribute("data-action",e),r.addEventListener("click",t),t._btnGroup.appendChild(r);}),this._utilsGroup=k("div","slim-editor-utils-group");var e=k("button","slim-editor-utils-btn slim-btn-rotate"+(this._options.buttonRotateClassName?" "+this._options.buttonRotateClassName:""));e.setAttribute("data-action","rotate"),e.addEventListener("click",this),e.title=this._options.buttonRotateTitle,this._utilsGroup.appendChild(e),this._container.appendChild(this._wrapper),this._element.appendChild(this._container),this._element.appendChild(this._utilsGroup),this._element.appendChild(this._btnGroup);}},{key:"dirty",value:function value(){this._dirty=!0;}},{key:"handleEvent",value:function value(t){switch(t.type){case"click":this._onClick(t);break;case"change":this._onGridChange(t);break;case"input":this._onGridInput(t);break;case"keydown":this._onKeyDown(t);break;case"resize":this._onResize(t);}}},{key:"_onKeyDown",value:function value(t){switch(t.keyCode){case v.RETURN:this._confirm();break;case v.ESC:this._cancel();}}},{key:"_onClick",value:function value(t){t.target.classList.contains("slim-btn-cancel")&&this._cancel(),t.target.classList.contains("slim-btn-confirm")&&this._confirm(),t.target.classList.contains("slim-btn-rotate")&&this._rotate();}},{key:"_onResize",value:function value(){this._currentWindowSize={width:window.innerWidth,height:window.innerHeight},this._redraw(),this._redrawCropper(this._cropper.area),this._updateWrapperScale(),this._redrawWrapper();}},{key:"_redrawWrapper",value:function value(){var t=u.createMatrix();t.scale(this._wrapperScale,this._wrapperScale),t.rotateZ(this._wrapperRotation*(Math.PI/180)),u.setElementTransform(this._previewWrapper,t);}},{key:"_onGridInput",value:function value(){this._redrawCropMask();}},{key:"_onGridChange",value:function value(){this._redrawCropMask();}},{key:"_updateWrapperRotation",value:function value(){this._options.minSize.width>this._input.height||this._options.minSize.height>this._input.width?this._wrapperRotation+=180:this._wrapperRotation+=90;}},{key:"_updateWrapperScale",value:function value(){var t=this._wrapperRotation%180!==0;if(t){var e=this._container.offsetWidth,i=this._container.offsetHeight,n=this._wrapper.offsetHeight,o=this._wrapper.offsetWidth,a=e/n;a*o>i&&(a=i/o),this._wrapperScale=a;}else this._wrapperScale=1;}},{key:"_cancel",value:function value(){this._element.dispatchEvent(new CustomEvent("cancel"));}},{key:"_confirm",value:function value(){var t=this._wrapperRotation%180!==0,e=this._cropper.area,i=dt(e,t?this._input.height:this._input.width,t?this._input.width:this._input.height);this._element.dispatchEvent(new CustomEvent("confirm",{detail:{rotation:this._wrapperRotation%360,crop:i}}));}},{key:"_rotate",value:function value(){var t=this;this._updateWrapperRotation();var e=1===this.ratio||null===this._ratio?this._cropper.area:null;e&&E(e,90),this._updateWrapperScale(),this._hideCropper(),u(this._previewWrapper,{rotation:[0,0,this._wrapperRotation*(Math.PI/180)],scale:[this._wrapperScale,this._wrapperScale],easing:"spring",springConstant:.8,springDeceleration:.65,complete:function complete(){t._redrawCropper(e),t._showCropper();}});}},{key:"_showCropper",value:function value(){u(this._stage,{easing:"ease",duration:250,fromOpacity:0,opacity:1});}},{key:"_hideCropper",value:function value(){u(this._stage,{duration:0,fromOpacity:0,opacity:0});}},{key:"_redrawCropMask",value:function value(){var t=this,e=this._wrapperRotation%360,i=this._wrapperScale,n={width:this._wrapper.offsetWidth,height:this._wrapper.offsetHeight},o=this._cropper.area,a={x:0,y:0};0===e?(a.x=-o.x,a.y=-o.y):90===e?(a.x=-(1-o.y),a.y=-o.x):180===e?(a.x=-(1-o.x),a.y=-(1-o.y)):270===e&&(a.x=-o.y,a.y=-(1-o.x)),a.x*=n.width,a.y*=n.height,cancelAnimationFrame(this._maskFrame),this._maskFrame=requestAnimationFrame(function(){var n="scale("+i+") rotate("+-e+"deg) translate("+a.x+"px, "+a.y+"px);";t._preview.style.cssText="\n\t\t\t\t\twidth: "+t._previewSize.width+"px;\n\t\t\t\t\theight: "+t._previewSize.height+"px;\n\t\t\t\t\t-webkit-transform: "+n+";\n\t\t\t\t\ttransform: "+n+";\n\t\t\t\t";});}},{key:"open",value:function value(t,e,i,n,o){var a=this;if(this._input&&!this._dirty&&this._ratio===e)return void o();this._currentWindowSize={width:window.innerWidth,height:window.innerHeight},this._dirty=!1,this._wrapperRotation=n||0,this._blurredPreview=!1,this._ratio=e,this._previewSize=null,this._element.style.opacity="0",this._input=t;var r=n%180!==0,s=ft(i,r?t.height:t.width,r?t.width:t.height);this._preview.onload=function(){a._preview.onload=null,a._cropper.ratio=a.ratio,a._redraw(),a._redrawCropper(s),o(),a._element.style.opacity="";},this._preview.src=ht(this._input,Math.min(this._container.offsetWidth/this._input.width,this._container.offsetHeight/this._input.height)).toDataURL();}},{key:"_redrawCropper",value:function value(t){var e=this._wrapperRotation%180!==0,i=e?this._input.height/this._input.width:this._input.width/this._input.height,n=this._wrapper.offsetWidth,o=this._wrapper.offsetHeight,a=this._container.offsetWidth,r=this._container.offsetHeight;this._updateWrapperScale();var s=this._wrapperScale*(e?o:n),h=this._wrapperScale*(e?n:o),u=e?.5*(a-s):this._wrapper.offsetLeft,l=e?.5*(r-h):this._wrapper.offsetTop;this._stage.style.cssText="\n\t\t\t\tleft:"+u+"px;\n\t\t\t\ttop:"+l+"px;\n\t\t\t\twidth:"+s+"px;\n\t\t\t\theight:"+h+"px;\n\t\t\t",this._cropper.limit(s,s/i),this._cropper.offset(u+this._element.offsetLeft,l+this._element.offsetTop),this._cropper.minWidth=this._wrapperScale*this._options.minSize.width*this.scalar,this._cropper.minHeight=this._wrapperScale*this._options.minSize.height*this.scalar;var p=null;p=t?{x:t.x*s,y:t.y*h,width:t.width*s,height:t.height*h}:tt(s,h,this._ratio||h/s),this._cropper.resize(p.x,p.y,p.width,p.height);}},{key:"_redraw",value:function value(){var t=this._input.height/this._input.width,e=this._container.clientWidth,i=this._container.clientHeight,n=e,o=n*t;o>i&&(o=i,n=o/t),n=Math.round(n),o=Math.round(o);var a=(e-n)/2,r=(i-o)/2;this._wrapper.style.cssText="\n\t\t\t\tleft:"+a+"px;\n\t\t\t\ttop:"+r+"px;\n\t\t\t\twidth:"+n+"px;\n\t\t\t\theight:"+o+"px;\n\t\t\t",this._previewBlurred.style.cssText="\n\t\t\t\twidth:"+n+"px;\n\t\t\t\theight:"+o+"px;\n\t\t\t",this._preview.style.cssText="\n\t\t\t\twidth:"+n+"px;\n\t\t\t\theight:"+o+"px;\n\t\t\t",this._previewSize={width:n,height:o},this._blurredPreview||(this._previewBlurred.width=300,this._previewBlurred.height=this._previewBlurred.width*t,lt(this._input,this._previewBlurred),pt(this._previewBlurred,3),this._blurredPreview=!0);}},{key:"show",value:function value(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){};this._currentWindowSize.width===window.innerWidth&&this._currentWindowSize.height===window.innerHeight||(this._redraw(),this._redrawCropper(this._cropper.area)),document.addEventListener("keydown",this),window.addEventListener("resize",this);var i=this._wrapperRotation*(Math.PI/180);u(this._previewWrapper,{fromRotation:[0,0,i],rotation:[0,0,i],fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,fromScale:[this._wrapperScale-.02,this._wrapperScale-.02],scale:[this._wrapperScale,this._wrapperScale],easing:"spring",springConstant:.3,springDeceleration:.85,delay:450,complete:function complete(){}}),this._cropper.dirty?u(this._stage,{fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,duration:250,delay:850,complete:function complete(){D(this),t();}}):u(this._stage,{fromPosition:[0,0,0],position:[0,0,0],fromOpacity:0,opacity:1,duration:250,delay:1e3,complete:function complete(){D(this);}}),u(this._btnGroup.childNodes,{fromScale:[.9,.9],scale:[1,1],fromOpacity:0,opacity:1,delay:function delay(t){return 1e3+100*t;},easing:"spring",springConstant:.3,springDeceleration:.85,complete:function complete(){D(this);}}),u(this._utilsGroup.childNodes,{fromScale:[.9,.9],scale:[1,1],fromOpacity:0,opacity:1,easing:"spring",springConstant:.3,springDeceleration:.85,delay:1250,complete:function complete(){D(this);}});}},{key:"hide",value:function value(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){};document.removeEventListener("keydown",this),window.removeEventListener("resize",this),u(this._utilsGroup.childNodes,{fromOpacity:1,opacity:0,duration:250}),u(this._btnGroup.childNodes,{fromOpacity:1,opacity:0,delay:200,duration:350}),u([this._stage,this._previewWrapper],{fromPosition:[0,0,0],position:[0,-250,0],fromOpacity:1,opacity:0,easing:"spring",springConstant:.3,springDeceleration:.75,delay:250,allDone:function allDone(){t();}});}},{key:"destroy",value:function value(){var t=this;St(this._btnGroup.children).forEach(function(e){e.removeEventListener("click",t);}),i.forEach(function(e){t._cropper.element.removeEventListener(e,t);}),this._cropper.destroy(),this._element.parentNode&&Ct(this._element);}},{key:"showRotateButton",set:function set(t){t?this._element.classList.remove("slim-rotation-disabled"):this._element.classList.add("slim-rotation-disabled");}},{key:"element",get:function get(){return this._element;}},{key:"ratio",get:function get(){return"input"===this._ratio?this._input.height/this._input.width:this._ratio;}},{key:"offset",get:function get(){return this._element.getBoundingClientRect();}},{key:"original",get:function get(){return this._input;}},{key:"scalar",get:function get(){return this._previewSize.width/this._input.width;}}],[{key:"options",value:function value(){return{buttonCancelClassName:null,buttonConfirmClassName:null,buttonCancelLabel:"Cancel",buttonConfirmLabel:"Confirm",buttonCancelTitle:null,buttonConfirmTitle:null,buttonRotateTitle:"Rotate",buttonRotateClassName:null,minSize:{width:0,height:0}};}}]),n;}();return n.Buttons=["cancel","confirm"],n;}(Rt),Lt=function(){var i=["dragenter","dragover","dragleave","drop"];return function(){function n(){var i=arguments.length>0&&arguments[0]!==e?arguments[0]:document.createElement("div");t(this,n),this._element=i,this._accept=[],this._allowURLs=!1,this._dragPath=null,this._init();}return p(n,[{key:"isValidDataTransfer",value:function value(t){return t.files&&t.files.length?this.areValidDataTransferFiles(t.files):t.items&&t.items.length?this.areValidDataTransferItems(t.items):null;}},{key:"areValidDataTransferFiles",value:function value(t){return!this._accept.length||!t||this._accept.indexOf(t[0].type)!==-1;}},{key:"areValidDataTransferItems",value:function value(t){return!this._accept.length||!t||(this._allowURLs&&"string"===t[0].kind?null:t[0].type&&0===t[0].type.indexOf("application")?null:this._accept.indexOf(t[0].type)!==-1);}},{key:"reset",value:function value(){this._element.files=null;}},{key:"_init",value:function value(){var t=this;this._element.className="slim-file-hopper",i.forEach(function(e){t._element.addEventListener(e,t);});}},{key:"handleEvent",value:function value(t){switch(t.type){case"dragenter":case"dragover":this._onDragOver(t);break;case"dragleave":this._onDragLeave(t);break;case"drop":this._onDrop(t);}}},{key:"_onDrop",value:function value(t){t.preventDefault();var e=null;if(this._allowURLs){var i=void 0,n=void 0;try{i=t.dataTransfer.getData("url"),n=t.dataTransfer.getData("text/html");}catch(t){}if(n&&n.length){var o=n.match(/src\s*=\s*"(.+?)"/);o&&(e=o[1]);}else i&&i.length&&(e=i);}if(e)this._element.files=[{remote:e}];else{var a=this.isValidDataTransfer(t.dataTransfer);if(!a)return this._element.dispatchEvent(new CustomEvent("file-invalid-drop")),void(this._dragPath=null);this._element.files=t.dataTransfer.files;}this._element.dispatchEvent(new CustomEvent("file-drop",{detail:m(t)})),this._element.dispatchEvent(new CustomEvent("change")),this._dragPath=null;}},{key:"_onDragOver",value:function value(t){t.preventDefault(),t.dataTransfer.dropEffect="copy";var e=this.isValidDataTransfer(t.dataTransfer);return null===e||e?(this._dragPath||(this._dragPath=[]),this._dragPath.push(m(t)),void this._element.dispatchEvent(new CustomEvent("file-over",{detail:{x:R(this._dragPath).x,y:R(this._dragPath).y}}))):(t.dataTransfer.dropEffect="none",void this._element.dispatchEvent(new CustomEvent("file-invalid")));}},{key:"_onDragLeave",value:function value(t){this._element.dispatchEvent(new CustomEvent("file-out",{detail:m(t)})),this._dragPath=null;}},{key:"destroy",value:function value(){var t=this;i.forEach(function(e){t._element.removeEventListener(e,t);}),Ct(this._element),this._element=null,this._dragPath=null,this._accept=null;}},{key:"element",get:function get(){return this._element;}},{key:"dragPath",get:function get(){return this._dragPath;}},{key:"enabled",get:function get(){return""===this._element.style.display;},set:function set(t){this._element.style.display=t?"":"none";}},{key:"allowURLs",set:function set(t){this._allowURLs=t;}},{key:"accept",set:function set(t){this._accept=t;},get:function get(){return this._accept;}}]),n;}();}(),Ot=function(){return function(){function i(){t(this,i),this._element=null,this._inner=null,this._init();}return p(i,[{key:"_init",value:function value(){this._element=k("div","slim-popover"),this._element.setAttribute("data-state","off"),document.body.appendChild(this._element);}},{key:"show",value:function value(){var t=this,i=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){};this._element.setAttribute("data-state","on"),u(this._element,{fromOpacity:0,opacity:1,duration:350,complete:function complete(){D(t._element),i();}});}},{key:"hide",value:function value(){var t=this,i=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){};u(this._element,{fromOpacity:1,opacity:0,duration:500,complete:function complete(){D(t._element),t._element.setAttribute("data-state","off"),i();}});}},{key:"destroy",value:function value(){this._element.parentNode&&(this._element.parentNode.removeChild(this._element),this._element=null,this._inner=null);}},{key:"inner",set:function set(t){this._inner=t,this._element.firstChild&&this._element.removeChild(this._element.firstChild),this._element.appendChild(this._inner);}},{key:"className",set:function set(t){this._element.className="slim-popover"+(null===t?"":" "+t);}}]),i;}();}(),Dt=function Dt(t,e){return t.split(e).map(function(t){return parseInt(t,10);});},zt=function zt(t){return"DIV"===t.nodeName||"SPAN"===t.nodeName;},At={AUTO:"auto",INITIAL:"initial",MANUAL:"manual"},Ut=["x","y","width","height"],Nt=["file-invalid-drop","file-invalid","file-drop","file-over","file-out","click"],Ht=["cancel","confirm"],Bt=["remove","edit","download","upload"],Ft=null,Wt=0,jt='\n<div class="slim-loader">\n\t<svg>\n\t\t<path class="slim-loader-background" fill="none" stroke-width="3" />\n\t\t<path class="slim-loader-foreground" fill="none" stroke-width="3" />\n\t</svg>\n</div>\n',qt='\n<div class="slim-upload-status"></div>\n',Vt=function Vt(t){var e=t.split(",");return{width:parseInt(e[0],10),height:parseInt(e[1],10)};},Gt=function(){function i(n){var o=arguments.length>1&&arguments[1]!==e?arguments[1]:{};t(this,i),Ft||(Ft=new Ot()),this._uid=Wt++,this._options=g(i.options(),o),this._options.forceSize&&("string"==typeof this._options.forceSize&&(this._options.forceSize=Vt(this._options.forceSize)),this._options.ratio=this._options.forceSize.width+":"+this._options.forceSize.height,this._options.size=mt(this._options.forceSize)),"string"==typeof this._options.size&&(this._options.size=Vt(this._options.size)),"string"==typeof this._options.minSize&&(this._options.minSize=Vt(this._options.minSize)),this._originalElement=n,this._originalElementInner=n.innerHTML,this._originalElementAttributes=_(n),zt(n)?this._element=n:(this._element=Et(n),this._element.className=n.className,n.className="",this._element.setAttribute("data-ratio",this._options.ratio)),this._element.classList.add("slim"),this._element.setAttribute("data-state","init"),this._state=[],this._timers=[],this._input=null,this._inputReference=null,this._output=null,this._ratio=null,this._isRequired=!1,this._imageHopper=null,this._imageEditor=null,this._progressEnabled=!0,this._data={},this._resetData(),this._drip=null,this._hasInitialImage=!1,this._initialCrop=this._options.crop,this._initialRotation=this._options.rotation&&this._options.rotation%90===0?this._options.rotation:null,this._isBeingDestroyed=!1,i.supported?this._init():this._fallback();}return p(i,[{key:"setRotation",value:function value(t,e){if("number"==typeof t||t%90===0){this._data.actions.rotation=t;var i=this._data.actions.rotation%180!==0;if(this._data.input.image){var n=i?this._data.input.image.height:this._data.input.image.width,o=i?this._data.input.image.width:this._data.input.image.height;this._data.actions.crop=tt(n,o,this._ratio),this._data.actions.crop.type=At.AUTO;}this._data.input.image&&e&&this._manualTransform(e);}}},{key:"setSize",value:function value(t,e){"string"==typeof t&&(t=Vt(t)),t&&t.width&&t.height&&(this._options.size=mt(t),this._data.actions.size=mt(t),this._data.input.image&&e&&this._manualTransform(e));}},{key:"setRatio",value:function value(t,e){var i=this;if(t&&"string"==typeof t&&(this._options.ratio=t,this._isFixedRatio())){var n=Dt(this._options.ratio,":");this._ratio=n[1]/n[0],this._data.input.image&&e?this._cropAuto(function(t){i._scaleDropArea(i._ratio),e&&e(t);}):(this._data.input.image&&(this._data.actions.crop=tt(this._data.input.image.width,this._data.input.image.height,this._ratio),this._data.actions.crop.type=At.AUTO),this._scaleDropArea(this._ratio),e&&e(null));}}},{key:"isAttachedTo",value:function value(t){return this._element===t||this._originalElement===t;}},{key:"isDetached",value:function value(){return null===this._element.parentNode;}},{key:"load",value:function value(t){var i=arguments.length>1&&arguments[1]!==e?arguments[1]:{},n=arguments[2];"function"==typeof i?n=i:(this._options.crop=i.crop,this._options.rotation=i.rotation,this._initialRotation=i.rotation&&i.rotation%90===0?i.rotation:null,this._initialCrop=this._options.crop),this._load(t,n);}},{key:"upload",value:function value(t){this._doUpload(t);}},{key:"download",value:function value(){this._doDownload();}},{key:"remove",value:function value(){return this._doRemove();}},{key:"destroy",value:function value(){this._doDestroy();}},{key:"edit",value:function value(){this._doEdit();}},{key:"crop",value:function value(t,e){this._crop(t.x,t.y,t.width,t.height,e);}},{key:"containsImage",value:function value(){return null!==this._data.input.name;}},{key:"_canInstantEdit",value:function value(){return this._options.instantEdit&&!this._isInitialising;}},{key:"_getFileInput",value:function value(){return this._element.querySelector("input[type=file]");}},{key:"_getInitialImage",value:function value(){return this._element.querySelector("img");}},{key:"_getInputElement",value:function value(){return this._getFileInput()||this._getInitialImage();}},{key:"_getRatioSpacerElement",value:function value(){return this._element.children[0];}},{key:"_isImageOnly",value:function value(){return"INPUT"!==this._input.nodeName;}},{key:"_isFixedRatio",value:function value(){return this._options.ratio.indexOf(":")!==-1;}},{key:"_isAutoCrop",value:function value(){return this._data.actions.crop.type===At.AUTO;}},{key:"_toggleButton",value:function value(t,e){xt('.slim-btn[data-action="'+t+'"]',e,this._element);}},{key:"_clearState",value:function value(){this._state=[],this._updateState();}},{key:"_removeState",value:function value(t){this._state=this._state.filter(function(e){return e!==t;}),this._updateState();}},{key:"_addState",value:function value(t){L(t,this._state)||(this._state.push(t),this._updateState());}},{key:"_updateState",value:function value(){this._element&&this._element.setAttribute("data-state",this._state.join(","));}},{key:"_resetData",value:function value(){this._data={server:null,meta:mt(this._options.meta),input:{field:this._inputReference,name:null,type:null,width:0,height:0,file:null},output:{image:null,width:0,height:0},actions:{rotation:null,crop:null,size:null}},this._output&&(this._output.value=""),_t(this._getFileInput());}},{key:"_init",value:function value(){var t=this;if(this._isInitialising=!0,this._addState("empty"),L("input",this._options.post)&&(this._inputReference="slim_input_"+this._uid),this._input=this._getInputElement(),this._input||(this._input=k("input"),this._input.type="file",this._element.appendChild(this._input)),this._isRequired=this._input.required===!0,this._output=this._element.querySelector("input[type=hidden]"),this._output){var e=null;try{e=JSON.parse(this._output.value);}catch(i){}if(e){var n=new Image();n.src=e.output.image,n.setAttribute("data-filename",e.output.name),this._element.insertBefore(n,this._element.firstChild);}}else this._output=k("input"),this._output.type="hidden",this._output.name=this._input.name||this._options.defaultInputName,this._element.appendChild(this._output);this._input.removeAttribute("name");var o=k("div","slim-area"),a=this._getInitialImage(),r=(a||{}).src,s=a?a.getAttribute("data-filename"):null;r?this._hasInitialImage=!0:(this._initialCrop=null,this._initialRotation=null);var h='\n\t\t<div class="slim-result">\n\t\t\t<img class="in" style="opacity:0" '+(r?'src="'+r+'"':"")+'><img><img style="opacity:0">\n\t\t</div>';if(this._isImageOnly())o.innerHTML="\n\t\t\t\t"+jt+"\n\t\t\t\t"+qt+"\n\t\t\t\t"+h+'\n\t\t\t\t<div class="slim-status"><div class="slim-label-loading">'+(this._options.labelLoading||"")+"</div></div>\n\t\t\t";else{L("input",this._options.post)&&(this._data.input.field=this._inputReference,this._options.service||(this._input.name=this._inputReference));var u=void 0;this._input.hasAttribute("accept")&&"image/*"!==this._input.getAttribute("accept")?u=this._input.accept.split(",").map(function(t){return t.trim();}).filter(function(t){return t.length>0;}):(u=A(),this._input.setAttribute("accept",u.join(","))),this._imageHopper=new Lt(),this._imageHopper.accept=u,this._imageHopper.allowURLs="string"==typeof this._options.fetcher,this._element.appendChild(this._imageHopper.element),Nt.forEach(function(e){t._imageHopper.element.addEventListener(e,t);}),o.innerHTML="\n\t\t\t\t"+jt+"\n\t\t\t\t"+qt+'\n\t\t\t\t<div class="slim-drip"><span><span></span></span></div>\n\t\t\t\t<div class="slim-status"><div class="slim-label">'+(this._options.label||"")+'</div><div class="slim-label-loading">'+(this._options.labelLoading||"")+"</div></div>\n\t\t\t\t"+h+"\n\t\t\t",this._input.addEventListener("change",this);}if(this._element.appendChild(o),this._btnGroup=k("div","slim-btn-group"),this._btnGroup.style.display="none",this._element.appendChild(this._btnGroup),Bt.filter(function(e){return t._isButtonAllowed(e);}).forEach(function(e){var i=M(e),n=t._options["button"+i+"Label"],o=t._options["button"+i+"Title"]||n,a=t._options["button"+i+"ClassName"],r=k("button","slim-btn slim-btn-"+e+(a?" "+a:""));r.innerHTML=n,r.title=o,r.type="button",r.addEventListener("click",t),r.setAttribute("data-action",e),t._btnGroup.appendChild(r);}),this._isFixedRatio()){var l=Dt(this._options.ratio,":");this._ratio=l[1]/l[0],this._scaleDropArea(this._ratio);}this._updateProgress(.5),r?this._load(r,function(){t._onInit();},{name:s}):this._onInit();}},{key:"_onInit",value:function value(){var t=this;this._isInitialising=!1;var e=function e(){var e=setTimeout(function(){t._options.didInit.apply(t,[t.data]);},0);t._timers.push(e);};this._options.saveInitialImage&&this.containsImage()?this._options.service||this._save(function(){e();},!1):(this._options.service&&this.containsImage()&&this._toggleButton("upload",!1),e());}},{key:"_updateProgress",value:function value(t){if(t=Math.min(.99999,t),this._element&&this._progressEnabled){var e=this._element.querySelector(".slim-loader");if(e){var i=e.offsetWidth,n=e.querySelectorAll("path"),o=parseInt(n[0].getAttribute("stroke-width"),10);n[0].setAttribute("d",Mt(.5*i,.5*i,.5*i-o,.9999)),n[1].setAttribute("d",Mt(.5*i,.5*i,.5*i-o,t));}}}},{key:"_startProgress",value:function value(t){var e=this;if(this._element){this._progressEnabled=!1;var i=this._element.querySelector(".slim-loader");if(i){var n=i.children[0];this._stopProgressLoop(function(){i.removeAttribute("style"),n.removeAttribute("style"),e._progressEnabled=!0,e._updateProgress(0),e._progressEnabled=!1,u(n,{fromOpacity:0,opacity:1,duration:250,complete:function complete(){e._progressEnabled=!0,t&&t();}});});}}}},{key:"_stopProgress",value:function value(){var t=this;if(this._element){var e=this._element.querySelector(".slim-loader");if(e){var i=e.children[0];this._updateProgress(1),u(i,{fromOpacity:1,opacity:0,duration:250,complete:function complete(){e.removeAttribute("style"),i.removeAttribute("style"),t._updateProgress(.5),t._progressEnabled=!1;}});}}}},{key:"_startProgressLoop",value:function value(){if(this._element){var t=this._element.querySelector(".slim-loader");if(t){var e=t.children[0];t.removeAttribute("style"),e.removeAttribute("style"),this._updateProgress(.5);var i=1e3;u(t,"stop"),u(t,{rotation:[0,0,-(2*Math.PI)*i],easing:"linear",duration:1e3*i}),u(e,{fromOpacity:0,opacity:1,duration:250});}}}},{key:"_stopProgressLoop",value:function value(t){if(this._element){var e=this._element.querySelector(".slim-loader");if(e){var i=e.children[0];u(i,{fromOpacity:parseFloat(i.style.opacity),opacity:0,duration:250,complete:function complete(){u(e,"stop"),e.removeAttribute("style"),i.removeAttribute("style"),t&&t();}});}}}},{key:"_isButtonAllowed",value:function value(t){return"edit"===t?this._options.edit:"download"===t?this._options.download:"upload"===t?!!this._options.service&&!this._options.push:"remove"!==t||!this._isImageOnly();}},{key:"_fallback",value:function value(){var t=k("div","slim-area");t.innerHTML='\n\t\t\t<div class="slim-status"><div class="slim-label">'+(this._options.label||"")+"</div></div>\n\t\t",this._element.appendChild(t),this._throwError(this._options.statusNoSupport);}},{key:"handleEvent",value:function value(t){switch(t.type){case"click":this._onClick(t);break;case"change":this._onChange(t);break;case"cancel":this._onCancel(t);break;case"confirm":this._onConfirm(t);break;case"file-over":this._onFileOver(t);break;case"file-out":this._onFileOut(t);break;case"file-drop":this._onDropFile(t);break;case"file-invalid":this._onInvalidFile(t);break;case"file-invalid-drop":this._onInvalidFileDrop(t);}}},{key:"_getIntro",value:function value(){return this._element.querySelector(".slim-result .in");}},{key:"_getOutro",value:function value(){return this._element.querySelector(".slim-result .out");}},{key:"_getInOut",value:function value(){return this._element.querySelectorAll(".slim-result img");}},{key:"_getDrip",value:function value(){return this._drip||(this._drip=this._element.querySelector(".slim-drip > span")),this._drip;}},{key:"_throwError",value:function value(t){this._addState("error"),this._element.querySelector(".slim-label").style.display="none";var e=this._element.querySelector(".slim-error");e||(e=k("div","slim-error"),this._element.querySelector(".slim-status").appendChild(e)),e.innerHTML=t;}},{key:"_removeError",value:function value(){this._removeState("error"),this._element.querySelector(".slim-label").style.display="";var t=this._element.querySelector(".slim-error");t&&t.parentNode.removeChild(t);}},{key:"_openFileDialog",value:function value(){this._removeError(),this._input.click();}},{key:"_onClick",value:function value(t){var e=this,i=t.target.classList,n=t.target;if(i.contains("slim-file-hopper"))return void this._openFileDialog();switch(n.getAttribute("data-action")){case"remove":this._options.willRemove.apply(this,[this.data,function(){e._doRemove();}]);break;case"edit":this._doEdit();break;case"download":this._doDownload();break;case"upload":this._doUpload();}}},{key:"_onInvalidFileDrop",value:function value(){this._onInvalidFile(),this._removeState("file-over");var t=this._getDrip();u(t.firstChild,{fromScale:[.5,.5],scale:[0,0],fromOpacity:.5,opacity:0,duration:150,complete:function complete(){D(t.firstChild);}});}},{key:"_onInvalidFile",value:function value(){var t=this._imageHopper.accept.map(N),e=this._options.statusFileType.replace("$0",t.join(", "));this._throwError(e);}},{key:"_onImageTooSmall",value:function value(){var t=this._options.statusImageTooSmall.replace("$0",this._options.minSize.width+"  "+this._options.minSize.height);this._throwError(t);}},{key:"_onOverWeightFile",value:function value(){var t=this._options.statusFileSize.replace("$0",this._options.maxFileSize);this._throwError(t);}},{key:"_onRemoteURLProblem",value:function value(t){this._throwError(t);}},{key:"_onFileOver",value:function value(t){this._addState("file-over"),this._removeError();var e=this._getDrip(),i=u.createMatrix();i.translate(t.detail.x,t.detail.y,0),u.setElementTransform(e,i),1==this._imageHopper.dragPath.length&&(e.style.opacity=1,u(e.firstChild,{fromOpacity:0,opacity:.5,fromScale:[0,0],scale:[.5,.5],duration:150}));}},{key:"_onFileOut",value:function value(t){this._removeState("file-over"),this._removeState("file-invalid"),this._removeError();var e=this._getDrip(),i=u.createMatrix();i.translate(t.detail.x,t.detail.y,0),u.setElementTransform(e,i),u(e.firstChild,{fromScale:[.5,.5],scale:[0,0],fromOpacity:.5,opacity:0,duration:150,complete:function complete(){D(e.firstChild);}});}},{key:"_onDropFile",value:function value(t){var e=this;this._removeState("file-over");var i=this._getDrip(),n=u.createMatrix();n.translate(t.detail.x,t.detail.y,0),u.setElementTransform(i,n);var o=this._imageHopper.dragPath.length,a=this._imageHopper.dragPath[o-Math.min(10,o)],r=t.detail.x-a.x,s=t.detail.y-a.y;u(i,{fromPosition:[t.detail.x,t.detail.y,0],position:[t.detail.x+r,t.detail.y+s,0],duration:200}),u(i.firstChild,{fromScale:[.5,.5],scale:[2,2],fromOpacity:1,opacity:0,duration:200,complete:function complete(){D(i.firstChild),e._load(t.target.files[0]);}});}},{key:"_onChange",value:function value(t){t.target.files.length&&this._load(t.target.files[0]);}},{key:"_load",value:function value(t,e,i){var n=this;if(!this._isBeingDestroyed){if(this.containsImage())return clearTimeout(this._replaceTimeout),void this._doRemove(function(){n._replaceTimeout=setTimeout(function(){n._load(t,e,i);},100);});this._removeState("empty"),this._addState("busy"),this._startProgressLoop(),this._imageHopper&&(this._imageHopper.enabled=!1),clearTimeout(this._loadTimeout);var o=function o(){clearTimeout(n._loadTimeout),n._loadTimeout=setTimeout(function(){n._isBeingDestroyed||(n._addState("loading"),u(n._element.querySelector(".slim-label-loading"),{fromOpacity:0,opacity:1,duration:250}));},500);},a=function a(){n._imageHopper&&(n._imageHopper.enabled=!0),n._removeState("loading"),n._removeState("busy"),n._addState("empty"),n._stopProgressLoop();};if("string"==typeof t)return void(X(t)?this._load(Z(t),e,i):(o(),J(t,function(t){n._load(t,e,i);})));if("undefined"!=typeof t.remote&&this._options.fetcher)return void Y(this._options.fetcher,t.remote,function(t){a(),n._onRemoteURLProblem("<p>"+t+"</p>"),e&&e.apply(n,["remote-url-problem"]);},function(t){n._load(t,e,i);});var r=t;if(this._imageHopper&&this._imageHopper.accept.indexOf(r.type)===-1)return a(),this._onInvalidFile(),void(e&&e.apply(this,["file-invalid"]));if(r.size&&this._options.maxFileSize&&z(r.size)>this._options.maxFileSize)return a(),this._onOverWeightFile(),void(e&&e.apply(this,["file-too-big"]));this._imageEditor&&this._imageEditor.dirty(),this._data.input.name=i&&i.name?i.name:j(r),this._data.input.type=q(r),this._data.input.size=r.size,this._data.input.file=r,Q(r,this._options.internalCanvasSize,function(t,i){var o=function o(){n._imageHopper&&(n._imageHopper.enabled=!0),n._removeState("loading"),n._removeState("busy"),n._addState("empty"),n._stopProgressLoop(),n._resetData();};if(!t)return o(),void(e&&e.apply(n,["file-not-found"]));if(!ct(t,n._options.minSize))return o(),n._onImageTooSmall(),void(e&&e.apply(n,["image-too-small"]));var a=n._options.didLoad.apply(n,[r,t,i]);if(a!==!0)return o(),a!==!1&&n._throwError(a),void(e&&e.apply(n,[a]));n._removeState("loading");var s=function s(t){n._imageHopper&&n._options.dropReplace&&(n._imageHopper.enabled=!0);var e=n._getIntro(),i={fromScale:[1.25,1.25],scale:[1,1],fromOpacity:0,opacity:1,complete:function complete(){D(e),e.style.opacity=1,t();}};n.isDetached()?i.duration=1:(i.easing="spring",i.springConstant=.3,i.springDeceleration=.7),n._canInstantEdit()&&(i.delay=500,i.duration=1,n._doEdit()),u(e,i);};n._loadCanvas(t,function(t){n._addState("preview"),s(function(){n._canInstantEdit()||t||n._showButtons(),t||(n._stopProgressLoop(),n._removeState("busy")),e&&e.apply(n,[null,n.data]);});},function(){n._canInstantEdit()||n._showButtons(),n._removeState("busy");});});}}},{key:"_loadCanvas",value:function value(t,e,i){var n=this;if(!this._isBeingDestroyed){this._data.input.image=t,this._data.input.width=t.width,this._data.input.height=t.height,this._initialRotation&&(this._data.actions.rotation=this._initialRotation,this._initialRotation=null);var o=this._data.actions.rotation%180!==0;this._isFixedRatio()||(this._initialCrop?this._ratio=this._initialCrop.height/this._initialCrop.width:this._ratio=o?t.width/t.height:t.height/t.width,this._scaleDropArea(this._ratio)),this._initialCrop?(this._data.actions.crop=mt(this._initialCrop),this._data.actions.crop.type=At.INITIAL,this._initialCrop=null):(this._data.actions.crop=tt(o?t.height:t.width,o?t.width:t.height,this._ratio),this._data.actions.crop.type=At.AUTO),this._options.size&&(this._data.actions.size={width:this._options.size.width,height:this._options.size.height}),this._applyTransforms(t,function(t){var o=n._getIntro(),a=o.offsetWidth/t.width,r=!1;n._options.service&&n._options.push&&(n._hasInitialImage||n._canInstantEdit()||(r=!0,n._stopProgressLoop(function(){n._startProgress(function(){n._updateProgress(.1);});}))),n._canInstantEdit()||n._save(function(){n._isBeingDestroyed||r&&(n._stopProgress(),i());},r),o.src="",o.src=ht(t,a).toDataURL(),o.onload=function(){o.onload=null,n._isBeingDestroyed||e&&e(r);};});}}},{key:"_applyTransforms",value:function value(t,e){var i=this,n=mt(this._data.actions);n.filters={sharpen:this._options.filterSharpen/100},n.minSize=this._options.minSize,et(t,n,function(t){var n=t;if(i._options.forceSize||i._options.size&&1==rt(i._options.size,t)){n=k("canvas"),n.width=i._options.size.width,n.height=i._options.size.height;var o=n.getContext("2d");o.drawImage(t,0,0,i._options.size.width,i._options.size.height);}if(i._options.size&&i._options.minSize.width===i._options.size.width&&i._options.minSize.height===i._options.size.height&&(n.width<i._options.minSize.width||n.height<i._options.minSize.height)){var a=Math.max(n.width,i._options.minSize.width),r=Math.max(n.height,i._options.minSize.height);n=k("canvas"),n.width=a,n.height=r;var s=n.getContext("2d");s.drawImage(t,0,0,a,r);}i._data.output.width=n.width,i._data.output.height=n.height,i._data.output.image=n,i._onTransformCanvas(function(t){i._data=t,i._options.didTransform.apply(i,[i.data]),e(i._data.output.image);});});}},{key:"_onTransformCanvas",value:function value(t){this._options.willTransform.apply(this,[this.data,t]);}},{key:"_appendEditor",value:function value(){var t=this;this._imageEditor||(this._imageEditor=new It(k("div"),{minSize:this._options.minSize,buttonConfirmClassName:this._options.buttonConfirmClassName,buttonCancelClassName:this._options.buttonCancelClassName,buttonRotateClassName:this._options.buttonRotateClassName,buttonConfirmLabel:this._options.buttonConfirmLabel,buttonCancelLabel:this._options.buttonCancelLabel,buttonRotateLabel:this._options.buttonRotateLabel,buttonConfirmTitle:this._options.buttonConfirmTitle,buttonCancelTitle:this._options.buttonCancelTitle,buttonRotateTitle:this._options.buttonRotateTitle}),Ht.forEach(function(e){t._imageEditor.element.addEventListener(e,t);}));}},{key:"_scaleDropArea",value:function value(t){var e=this._getRatioSpacerElement();e&&this._element&&(e.style.marginBottom=100*t+"%",this._element.setAttribute("data-ratio","1:"+t));}},{key:"_onCancel",value:function value(t){this._removeState("editor"),this._options.didCancel.apply(this),this._showButtons(),this._hideEditor(),this._options.instantEdit&&!this._hasInitialImage&&this._isAutoCrop()&&this._doRemove();}},{key:"_onConfirm",value:function value(t){var e=this,i=this._options.service&&this._options.push;i?this._startProgress(function(){e._updateProgress(.1);}):this._startProgressLoop(),this._removeState("editor"),this._addState("busy"),this._output.value="",this._data.actions.rotation=t.detail.rotation,this._data.actions.crop=t.detail.crop,this._data.actions.crop.type=At.MANUAL,this._applyTransforms(this._data.input.image,function(t){e._options.didConfirm.apply(e,[e.data]);var n=e._getInOut(),o="out"===n[0].className?n[0]:n[1],a=o===n[0]?n[1]:n[0];o.className="in",o.style.opacity="0",o.style.zIndex="2",a.className="out",a.style.zIndex="1",o.src="",o.src=ht(t,o.offsetWidth/t.width).toDataURL(),o.onload=function(){o.onload=null,"free"===e._options.ratio&&(e._ratio=o.naturalHeight/o.naturalWidth,e._scaleDropArea(e._ratio)),e._hideEditor();var t=setTimeout(function(){e._showPreview(o,function(){e._save(function(t,n,o){e._toggleButton("upload",!0),i?e._stopProgress():e._stopProgressLoop(),e._removeState("busy"),e._showButtons();},i);});},250);e._timers.push(t);};});}},{key:"_cropAuto",value:function value(){var t=arguments.length>0&&arguments[0]!==e?arguments[0]:function(t){},i=this._data.actions.rotation%180!==0,n=tt(i?this._data.input.image.width:this._data.input.image.height,i?this._data.input.image.height:this._data.input.image.width,this._ratio);this._crop(n.x,n.y,n.width,n.height,t,At.AUTO);}},{key:"_crop",value:function value(t,i,n,o){var a=arguments.length>4&&arguments[4]!==e?arguments[4]:function(t){},r=arguments.length>5&&arguments[5]!==e?arguments[5]:At.MANUAL;this._output.value="",this._data.actions.crop={x:t,y:i,width:n,height:o},this._data.actions.crop.type=r,this._manualTransform(a);}},{key:"_manualTransform",value:function value(t){var e=this;this._startProgressLoop(),this._addState("busy"),this._applyTransforms(this._data.input.image,function(i){var n=e._getInOut(),o="out"===n[0].className?n[0]:n[1],a=o===n[0]?n[1]:n[0];o.className="in",o.style.opacity="1",o.style.zIndex="2",a.className="out",a.style.zIndex="0",o.src="",o.src=ht(i,o.offsetWidth/i.width).toDataURL(),o.onload=function(){o.onload=null,"free"===e._options.ratio&&(e._ratio=o.naturalHeight/o.naturalWidth,e._scaleDropArea(e._ratio));var i=e._options.service&&e._options.push,n=function n(){e._save(function(n,o,a){i||e._stopProgressLoop(),e._removeState("busy"),t.apply(e,[e.data]);},i);};i?e._startProgress(n):n();};});}},{key:"_save",value:function value(){var t=this,i=arguments.length>0&&arguments[0]!==e?arguments[0]:function(){},n=!(arguments.length>1&&arguments[1]!==e)||arguments[1];if(!this._isBeingDestroyed){var o=this.dataBase64;this._options.service||this._isInitialising&&!this._isImageOnly()||this._options.willSave.apply(this,[o,function(e){t._store(e),t._options.didSave.apply(t,[e]);}]),this._isBeingDestroyed||(this._options.service&&n&&this._options.willSave.apply(this,[o,function(e){t._addState("upload"),t._imageHopper&&t._options.dropReplace&&(t._imageHopper.enabled=!1),t._upload(e,function(n,o){t._imageHopper&&t._options.dropReplace&&(t._imageHopper.enabled=!0),n||t._storeServerResponse(o),t._options.didUpload.apply(t,[n,e,o]),t._removeState("upload"),i(n,e,o);});}]),this._options.service&&n||i());}}},{key:"_storeServerResponse",value:function value(t){this._isRequired&&(this._input.required=!1),this._data.server=t,this._output.value="object"===("undefined"==typeof t?"undefined":c(t))?JSON.stringify(this._data.server):t;}},{key:"_store",value:function value(t){this._isRequired&&(this._input.required=!1),this._output.value=JSON.stringify(t);}},{key:"_upload",value:function value(t,e){var i=this,n=new FormData();if(null!==this._data.output.image&&this._options.uploadBase64===!1){var o=Z(t.output.image,t.output.name),a="slim_output_"+this._uid;t.output.image=null,t.output.field=a,n.append(a,o,t.output.name);}n.append(this._output.name,JSON.stringify(t)),L("input",this._options.post)&&n.append(this._inputReference,this._data.input.file,this._data.input.file.name);var r=this._element.querySelector(".slim-upload-status"),s=this._options.willRequest,h=function h(t,e){i._updateProgress(Math.max(.1,t/e));},u=function u(t){var n=setTimeout(function(){if(!i._isBeingDestroyed){r.innerHTML=i._options.statusUploadSuccess,r.setAttribute("data-state","success"),r.style.opacity=1;var t=setTimeout(function(){r.style.opacity=0;},2e3);i._timers.push(t);}},250);i._timers.push(n),e(null,t);},l=function l(t){var n="";n="file-too-big"===t?i._options.statusContentLength:i._options.didReceiveServerError.apply(i,[t,i._options.statusUnknownResponse]);var o=setTimeout(function(){r.innerHTML=n,r.setAttribute("data-state","error"),r.style.opacity=1;},250);i._timers.push(o),e(t);};"string"==typeof this._options.service?O(this._options.service,n,s,h,u,l):"function"==typeof this._options.service&&this._options.service.apply(this,[n,h,u,l]);}},{key:"_showEditor",value:function value(){Ft.className=this._options.popoverClassName,Ft.show(),this._imageEditor.show();}},{key:"_hideEditor",value:function value(){this._imageEditor.hide();var t=setTimeout(function(){Ft.hide();},250);this._timers.push(t);}},{key:"_showPreview",value:function value(t,e){u(t,{fromPosition:[0,50,0],position:[0,0,0],fromScale:[1.5,1.5],scale:[1,1],fromOpacity:0,opacity:1,easing:"spring",springConstant:.3,springDeceleration:.7,complete:function complete(){D(t),e&&e();}});}},{key:"_hideResult",value:function value(t){var e=this._getIntro();e&&u(e,{fromScale:[1,1],scale:[.5,.5],fromOpacity:1,opacity:0,easing:"spring",springConstant:.3,springDeceleration:.75,complete:function complete(){D(e),t&&t();}});}},{key:"_showButtons",value:function value(t){if(this._btnGroup){this._btnGroup.style.display="";var e={fromScale:[.5,.5],scale:[1,1],fromPosition:[0,10,0],position:[0,0,0],fromOpacity:0,opacity:1,complete:function complete(){D(this);},allDone:function allDone(){t&&t();}};this.isDetached()?e.duration=1:(e.delay=function(t){return 250+50*t;},e.easing="spring",e.springConstant=.3,e.springDeceleration=.85),u(this._btnGroup.childNodes,e);}}},{key:"_hideButtons",value:function value(t){var e=this;if(this._btnGroup){var i={fromScale:[1,1],scale:[.85,.85],fromOpacity:1,opacity:0,allDone:function allDone(){e._btnGroup.style.display="none",t&&t();}};this.isDetached()?i.duration=1:(i.easing="spring",i.springConstant=.3,i.springDeceleration=.75),u(this._btnGroup.childNodes,i);}}},{key:"_hideStatus",value:function value(){var t=this._element.querySelector(".slim-upload-status");t.style.opacity=0;}},{key:"_doEdit",value:function value(){var t=this;this._data.input.image&&(this._addState("editor"),this._imageEditor||this._appendEditor(),this._imageEditor.showRotateButton=this._options.rotateButton,Ft.inner=this._imageEditor.element,this._imageEditor.open(st(this._data.input.image),"free"===this._options.ratio?null:this._ratio,this._data.actions.crop,this._data.actions.rotation,function(){t._showEditor(),t._hideButtons(),t._hideStatus();}));}},{key:"_doRemove",value:function value(t){var e=this;if(!this._isImageOnly()){this._clearState(),this._addState("empty"),this._hasInitialImage=!1,this._imageHopper&&(this._imageHopper.enabled=!0),this._isRequired&&(this._input.required=!0);var i=this._getOutro();i&&(i.style.opacity="0");var n=this.data;this._resetData();var o=setTimeout(function(){e._isBeingDestroyed||(e._hideButtons(function(){e._toggleButton("upload",!0);}),e._hideStatus(),e._hideResult(),e._options.didRemove.apply(e,[n]),t&&t());},this.isDetached()?0:250);return this._timers.push(o),n;}}},{key:"_doUpload",value:function value(t){var e=this;this._data.input.image&&(this._addState("upload"),this._startProgress(),this._hideButtons(function(){e._toggleButton("upload",!1),e._save(function(i,n,o){e._removeState("upload"),e._stopProgress(),t&&t.apply(e,[i,n,o]),i&&e._toggleButton("upload",!0),e._showButtons();});}));}},{key:"_doDownload",value:function value(){var t=this._data.output.image;t&&kt(this._data,this._options.jpegCompression,this._options.forceType);}},{key:"_doDestroy",value:function value(){function t(t,e){return 0!==e.filter(function(e){return t.name===e.name&&t.value===e.value;}).length;}var e=this;this._isBeingDestroyed=!0,this._timers.forEach(function(t){clearTimeout(t);}),this._timers=[],u(this._element,"detach"),this._imageHopper&&(Nt.forEach(function(t){e._imageHopper.element.removeEventListener(t,e);}),this._imageHopper.destroy(),this._imageHopper=null),this._imageEditor&&(Ht.forEach(function(t){e._imageEditor.element.removeEventListener(t,e);}),this._imageEditor.destroy(),this._imageEditor=null),St(this._btnGroup.children).forEach(function(t){t.removeEventListener("click",e);}),this._input.removeEventListener("change",this),this._element!==this._originalElement&&this._element.parentNode&&this._element.parentNode.replaceChild(this._originalElement,this._element),this._originalElement.innerHTML=this._originalElementInner;var i=_(this._originalElement);i.forEach(function(i){t(i,e._originalElementAttributes)||e._originalElement.removeAttribute(i.name);}),this._originalElementAttributes.forEach(function(n){t(n,i)||e._originalElement.setAttribute(n.name,n.value);}),Wt=Math.max(0,Wt-1),Ft&&0===Wt&&(Ft.destroy(),Ft=null),this._originalElement=null,this._element=null,this._input=null,this._output=null,this._btnGroup=null,this._options=null;}},{key:"dataBase64",get:function get(){return bt(this._data,this._options.post,this._options.jpegCompression,this._options.forceType,null!==this._options.service);}},{key:"data",get:function get(){return vt(this._data);}},{key:"element",get:function get(){return this._element;}},{key:"service",set:function set(t){this._options.service=t;}},{key:"size",set:function set(t){this.setSize(t,null);}},{key:"rotation",set:function set(t){this.setRotation(t,null);}},{key:"ratio",set:function set(t){this.setRatio(t,null);}}],[{key:"options",value:function value(){var t={edit:!0,instantEdit:!1,uploadBase64:!1,meta:{},ratio:"free",size:null,rotation:null,crop:null,post:["output","actions"],service:null,filterSharpen:0,push:!1,defaultInputName:"slim[]",minSize:{width:0,height:0},maxFileSize:null,jpegCompression:null,download:!1,saveInitialImage:!1,forceType:!1,forceSize:null,dropReplace:!0,fetcher:null,internalCanvasSize:{width:4096,height:4096},rotateButton:!0,popoverClassName:null,label:"<p>Drop your image here</p>",labelLoading:"<p>Loading image...</p>",statusFileType:"<p>Invalid file type, expects: $0.</p>",statusFileSize:"<p>File is too big, maximum file size: $0 MB.</p>",statusNoSupport:"<p>Your browser does not support image cropping.</p>",statusImageTooSmall:"<p>Image is too small, minimum size is: $0 pixels.</p>",statusContentLength:'<span class="slim-upload-status-icon"></span> The file is probably too big',statusUnknownResponse:'<span class="slim-upload-status-icon"></span> An unknown error occurred',statusUploadSuccess:'<span class="slim-upload-status-icon"></span> Saved',didInit:function didInit(t){},didLoad:function didLoad(t,e,i){return!0;},didSave:function didSave(t){},didUpload:function didUpload(t,e,i){},didReceiveServerError:function didReceiveServerError(t,e){return e;},didRemove:function didRemove(t){},didTransform:function didTransform(t){},didConfirm:function didConfirm(t){},didCancel:function didCancel(){},willTransform:function willTransform(t,e){e(t);},willSave:function willSave(t,e){e(t);},willRemove:function willRemove(t,e){e();},willRequest:function willRequest(t){}};return Bt.concat(It.Buttons).concat("rotate").forEach(function(e){var i=M(e);t["button"+i+"ClassName"]=null,t["button"+i+"Label"]=i,t["button"+i+"Title"]=i;}),t;}}]),i;}();return function(){function t(t){return t?"<p>"+t+"</p>":null;}function e(t){var e=window,i=t.split(".");return i.forEach(function(t,n){e[i[n]]&&(e=e[i[n]]);}),e!==window?e:null;}var i=[],n=function n(t){for(var e=0,n=i.length;e<n;e++){if(i[e].isAttachedTo(t))return e;}return-1;},o=function o(t){return t;},a=function a(t){return"true"===t;},r=function r(t){return!t||"true"===t;},s=function s(e){return t(e);},h=function h(t){return t?e(t):null;},u=function u(t){if(!t)return null;var e=Dt(t,",");return{width:e[0],height:e[1]};},l=function l(t){return t?parseFloat(t):null;},p=function p(t){return t?parseInt(t,10):null;},c=function c(t){if(!t)return null;var e={};return t.split(",").map(function(t){return parseInt(t,10);}).forEach(function(t,i){e[Ut[i]]=t;}),e;},f={download:a,edit:r,instantEdit:a,minSize:u,size:u,forceSize:u,internalCanvasSize:u,service:function service(t){if("undefined"==typeof t)return null;var i=e(t);return i?i:t;},fetcher:function fetcher(t){return"undefined"==typeof t?null:t;},push:a,rotation:function rotation(t){return"undefined"==typeof t?null:parseInt(t,10);},crop:c,post:function post(t){return t?t.split(",").map(function(t){return t.trim();}):null;},defaultInputName:o,ratio:function ratio(t){return t?t:null;},maxFileSize:l,filterSharpen:p,jpegCompression:p,uploadBase64:a,forceType:o,dropReplace:r,saveInitialImage:a,rotateButton:r,label:s,labelLoading:s,popoverClassName:o};["FileSize","FileType","NoSupport","ImageTooSmall"].forEach(function(t){f["status"+t]=s;}),["ContentLength","UnknownResponse","UploadSuccess"].forEach(function(t){f["status"+t]=o;}),["Init","Load","Save","Upload","Remove","Transform","ReceiveServerError","Confirm","Cancel"].forEach(function(t){f["did"+t]=h;}),["Transform","Save","Remove","Request"].forEach(function(t){f["will"+t]=h;});var _=["ClassName","Label","Title"];Bt.concat(It.Buttons).concat("rotate").forEach(function(t){var e=M(t);_.forEach(function(t){f["button"+e+t]=o;});}),Gt.supported=function(){return!("[object OperaMini]"===Object.prototype.toString.call(window.operamini)||"undefined"==typeof window.addEventListener||"undefined"==typeof window.FileReader||"undefined"==typeof window.URL||"undefined"==typeof window.URL.createObjectURL);}(),Gt.parse=function(t){var e,i,n,o=[];for(e=t.querySelectorAll(".slim:not([data-state])"),n=e.length;n--;){i=e[n],o.push(Gt.create(i,Gt.getOptionsFromAttributes(i)));}return o;},Gt.getOptionsFromAttributes=function(t){var e=d(t),i={meta:{}};for(var n in e){var o=f[n],a=e[n];o?(a=o(a),a=null===a?mt(Gt.options()[n]):a,i[n]=a):0===n.indexOf("meta")&&(i.meta[P(n.substr(4))]=a);}return i;},Gt.find=function(t){var e=i.filter(function(e){return e.isAttachedTo(t);});return e?e[0]:null;},Gt.create=function(t,e){if(!Gt.find(t)){e||(e=Gt.getOptionsFromAttributes(t));var n=new Gt(t,e);return i.push(n),n;}},Gt.destroy=function(t){var e=n(t);return!(e<0)&&(i[e].destroy(),i.splice(e,1),!0);};}(),Gt;}(),t.Slim.supported)"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i);else{var n=t.getElementsByClassName("slim"),o=0,a=n.length;for(o=0;o<a;o++){n[o].className="";}}}(window);/*!
* # Semantic UI 2.2.12 - API
* http://github.com/semantic-org/semantic-ui/
*
*
* Released under the MIT license
* http://opensource.org/licenses/MIT
*
*/;(function($,window,document,undefined){"use strict";var window=typeof window!='undefined'&&window.Math==Math?window:typeof self!='undefined'&&self.Math==Math?self:Function('return this')();$.api=$.fn.api=function(parameters){var
$allModules=$.isFunction(this)?$(window):$(this),moduleSelector=$allModules.selector||'',time=new Date().getTime(),performance=[],query=arguments[0],methodInvoked=typeof query=='string',queryArguments=[].slice.call(arguments,1),returnedValue;$allModules.each(function(){var _settings=$.isPlainObject(parameters)?$.extend(true,{},$.fn.api.settings,parameters):$.extend({},$.fn.api.settings),namespace=_settings.namespace,metadata=_settings.metadata,selector=_settings.selector,error=_settings.error,className=_settings.className,eventNamespace='.'+namespace,moduleNamespace='module-'+namespace,$module=$(this),$form=$module.closest(selector.form),$context=_settings.stateContext?$(_settings.stateContext):$module,ajaxSettings,requestSettings,url,data,requestStartTime,element=this,context=$context[0],instance=$module.data(moduleNamespace),module;module={initialize:function initialize(){if(!methodInvoked){module.bind.events();}module.instantiate();},instantiate:function instantiate(){module.verbose('Storing instance of module',module);instance=module;$module.data(moduleNamespace,instance);},destroy:function destroy(){module.verbose('Destroying previous module for',element);$module.removeData(moduleNamespace).off(eventNamespace);},bind:{events:function events(){var triggerEvent=module.get.event();if(triggerEvent){module.verbose('Attaching API events to element',triggerEvent);$module.on(triggerEvent+eventNamespace,module.event.trigger);}else if(_settings.on=='now'){module.debug('Querying API endpoint immediately');module.query();}}},decode:{json:function json(response){if(response!==undefined&&typeof response=='string'){try{response=JSON.parse(response);}catch(e){}}return response;}},read:{cachedResponse:function cachedResponse(url){var response;if(window.Storage===undefined){module.error(error.noStorage);return;}response=sessionStorage.getItem(url);module.debug('Using cached response',url,response);response=module.decode.json(response);return response;}},write:{cachedResponse:function cachedResponse(url,response){if(response&&response===''){module.debug('Response empty, not caching',response);return;}if(window.Storage===undefined){module.error(error.noStorage);return;}if($.isPlainObject(response)){response=JSON.stringify(response);}sessionStorage.setItem(url,response);module.verbose('Storing cached response for url',url,response);}},query:function query(){if(module.is.disabled()){module.debug('Element is disabled API request aborted');return;}if(module.is.loading()){if(_settings.interruptRequests){module.debug('Interrupting previous request');module.abort();}else{module.debug('Cancelling request, previous request is still pending');return;}}
if(_settings.defaultData){$.extend(true,_settings.urlData,module.get.defaultData());}
if(_settings.serializeForm){_settings.data=module.add.formData(_settings.data);}
requestSettings=module.get.settings();if(requestSettings===false){module.cancelled=true;module.error(error.beforeSend);return;}else{module.cancelled=false;}
url=module.get.templatedURL();if(!url&&!module.is.mocked()){module.error(error.missingURL);return;}
url=module.add.urlData(url);if(!url&&!module.is.mocked()){return;}requestSettings.url=_settings.base+url;ajaxSettings=$.extend(true,{},_settings,{type:_settings.method||_settings.type,data:data,url:_settings.base+url,beforeSend:_settings.beforeXHR,success:function success(){},failure:function failure(){},complete:function complete(){}});module.debug('Querying URL',ajaxSettings.url);module.verbose('Using AJAX settings',ajaxSettings);if(_settings.cache==='local'&&module.read.cachedResponse(url)){module.debug('Response returned from local cache');module.request=module.create.request();module.request.resolveWith(context,[module.read.cachedResponse(url)]);return;}if(!_settings.throttle){module.debug('Sending request',data,ajaxSettings.method);module.send.request();}else{if(!_settings.throttleFirstRequest&&!module.timer){module.debug('Sending request',data,ajaxSettings.method);module.send.request();module.timer=setTimeout(function(){},_settings.throttle);}else{module.debug('Throttling request',_settings.throttle);clearTimeout(module.timer);module.timer=setTimeout(function(){if(module.timer){delete module.timer;}module.debug('Sending throttled request',data,ajaxSettings.method);module.send.request();},_settings.throttle);}}},should:{removeError:function removeError(){return _settings.hideError===true||_settings.hideError==='auto'&&!module.is.form();}},is:{disabled:function disabled(){return $module.filter(selector.disabled).length>0;},expectingJSON:function expectingJSON(){return _settings.dataType==='json'||_settings.dataType==='jsonp';},form:function form(){return $module.is('form')||$context.is('form');},mocked:function mocked(){return _settings.mockResponse||_settings.mockResponseAsync||_settings.response||_settings.responseAsync;},input:function input(){return $module.is('input');},loading:function loading(){return module.request?module.request.state()=='pending':false;},abortedRequest:function abortedRequest(xhr){if(xhr&&xhr.readyState!==undefined&&xhr.readyState===0){module.verbose('XHR request determined to be aborted');return true;}else{module.verbose('XHR request was not aborted');return false;}},validResponse:function validResponse(response){if(!module.is.expectingJSON()||!$.isFunction(_settings.successTest)){module.verbose('Response is not JSON, skipping validation',_settings.successTest,response);return true;}module.debug('Checking JSON returned success',_settings.successTest,response);if(_settings.successTest(response)){module.debug('Response passed success test',response);return true;}else{module.debug('Response failed success test',response);return false;}}},was:{cancelled:function cancelled(){return module.cancelled||false;},succesful:function succesful(){return module.request&&module.request.state()=='resolved';},failure:function failure(){return module.request&&module.request.state()=='rejected';},complete:function complete(){return module.request&&(module.request.state()=='resolved'||module.request.state()=='rejected');}},add:{urlData:function urlData(url,_urlData){var requiredVariables,optionalVariables;if(url){requiredVariables=url.match(_settings.regExp.required);optionalVariables=url.match(_settings.regExp.optional);_urlData=_urlData||_settings.urlData;if(requiredVariables){module.debug('Looking for required URL variables',requiredVariables);$.each(requiredVariables,function(index,templatedString){var
variable=templatedString.indexOf('$')!==-1?templatedString.substr(2,templatedString.length-3):templatedString.substr(1,templatedString.length-2),value=$.isPlainObject(_urlData)&&_urlData[variable]!==undefined?_urlData[variable]:$module.data(variable)!==undefined?$module.data(variable):$context.data(variable)!==undefined?$context.data(variable):_urlData[variable];if(value===undefined){module.error(error.requiredParameter,variable,url);url=false;return false;}else{module.verbose('Found required variable',variable,value);value=_settings.encodeParameters?module.get.urlEncodedValue(value):value;url=url.replace(templatedString,value);}});}if(optionalVariables){module.debug('Looking for optional URL variables',requiredVariables);$.each(optionalVariables,function(index,templatedString){var
variable=templatedString.indexOf('$')!==-1?templatedString.substr(3,templatedString.length-4):templatedString.substr(2,templatedString.length-3),value=$.isPlainObject(_urlData)&&_urlData[variable]!==undefined?_urlData[variable]:$module.data(variable)!==undefined?$module.data(variable):$context.data(variable)!==undefined?$context.data(variable):_urlData[variable];if(value!==undefined){module.verbose('Optional variable Found',variable,value);url=url.replace(templatedString,value);}else{module.verbose('Optional variable not found',variable);if(url.indexOf('/'+templatedString)!==-1){url=url.replace('/'+templatedString,'');}else{url=url.replace(templatedString,'');}}});}}return url;},formData:function formData(data){var canSerialize=$.fn.serializeObject!==undefined,formData=canSerialize?$form.serializeObject():$form.serialize(),hasOtherData;data=data||_settings.data;hasOtherData=$.isPlainObject(data);if(hasOtherData){if(canSerialize){module.debug('Extending existing data with form data',data,formData);data=$.extend(true,{},data,formData);}else{module.error(error.missingSerialize);module.debug('Cant extend data. Replacing data with form data',data,formData);data=formData;}}else{module.debug('Adding form data',formData);data=formData;}return data;}},send:{request:function request(){module.set.loading();module.request=module.create.request();if(module.is.mocked()){module.mockedXHR=module.create.mockedXHR();}else{module.xhr=module.create.xhr();}_settings.onRequest.call(context,module.request,module.xhr);}},event:{trigger:function trigger(event){module.query();if(event.type=='submit'||event.type=='click'){event.preventDefault();}},xhr:{always:function always(){},done:function done(response,textStatus,xhr){var context=this,elapsedTime=new Date().getTime()-requestStartTime,timeLeft=_settings.loadingDuration-elapsedTime,translatedResponse=$.isFunction(_settings.onResponse)?module.is.expectingJSON()?_settings.onResponse.call(context,$.extend(true,{},response)):_settings.onResponse.call(context,response):false;timeLeft=timeLeft>0?timeLeft:0;if(translatedResponse){module.debug('Modified API response in onResponse callback',_settings.onResponse,translatedResponse,response);response=translatedResponse;}if(timeLeft>0){module.debug('Response completed early delaying state change by',timeLeft);}setTimeout(function(){if(module.is.validResponse(response)){module.request.resolveWith(context,[response,xhr]);}else{module.request.rejectWith(context,[xhr,'invalid']);}},timeLeft);},fail:function fail(xhr,status,httpMessage){var context=this,elapsedTime=new Date().getTime()-requestStartTime,timeLeft=_settings.loadingDuration-elapsedTime;timeLeft=timeLeft>0?timeLeft:0;if(timeLeft>0){module.debug('Response completed early delaying state change by',timeLeft);}setTimeout(function(){if(module.is.abortedRequest(xhr)){module.request.rejectWith(context,[xhr,'aborted',httpMessage]);}else{module.request.rejectWith(context,[xhr,'error',status,httpMessage]);}},timeLeft);}},request:{done:function done(response,xhr){module.debug('Successful API Response',response);if(_settings.cache==='local'&&url){module.write.cachedResponse(url,response);module.debug('Saving server response locally',module.cache);}_settings.onSuccess.call(context,response,$module,xhr);},complete:function complete(firstParameter,secondParameter){var xhr,response;if(module.was.succesful()){response=firstParameter;xhr=secondParameter;}else{xhr=firstParameter;response=module.get.responseFromXHR(xhr);}module.remove.loading();_settings.onComplete.call(context,response,$module,xhr);},fail:function fail(xhr,status,httpMessage){var
response=module.get.responseFromXHR(xhr),errorMessage=module.get.errorFromRequest(response,status,httpMessage);if(status=='aborted'){module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)',status,httpMessage);_settings.onAbort.call(context,status,$module,xhr);return true;}else if(status=='invalid'){module.debug('JSON did not pass success test. A server-side error has most likely occurred',response);}else if(status=='error'){if(xhr!==undefined){module.debug('XHR produced a server error',status,httpMessage);if(xhr.status!=200&&httpMessage!==undefined&&httpMessage!==''){module.error(error.statusMessage+httpMessage,ajaxSettings.url);}_settings.onError.call(context,errorMessage,$module,xhr);}}if(_settings.errorDuration&&status!=='aborted'){module.debug('Adding error state');module.set.error();if(module.should.removeError()){setTimeout(module.remove.error,_settings.errorDuration);}}module.debug('API Request failed',errorMessage,xhr);_settings.onFailure.call(context,response,$module,xhr);}}},create:{request:function request(){return $.Deferred().always(module.event.request.complete).done(module.event.request.done).fail(module.event.request.fail);},mockedXHR:function mockedXHR(){var
textStatus=false,status=false,httpMessage=false,responder=_settings.mockResponse||_settings.response,asyncResponder=_settings.mockResponseAsync||_settings.responseAsync,asyncCallback,response,mockedXHR;mockedXHR=$.Deferred().always(module.event.xhr.complete).done(module.event.xhr.done).fail(module.event.xhr.fail);if(responder){if($.isFunction(responder)){module.debug('Using specified synchronous callback',responder);response=responder.call(context,requestSettings);}else{module.debug('Using settings specified response',responder);response=responder;}
mockedXHR.resolveWith(context,[response,textStatus,{responseText:response}]);}else if($.isFunction(asyncResponder)){asyncCallback=function asyncCallback(response){module.debug('Async callback returned response',response);if(response){mockedXHR.resolveWith(context,[response,textStatus,{responseText:response}]);}else{mockedXHR.rejectWith(context,[{responseText:response},status,httpMessage]);}};module.debug('Using specified async response callback',asyncResponder);asyncResponder.call(context,requestSettings,asyncCallback);}return mockedXHR;},xhr:function xhr(){var xhr;xhr=$.ajax(ajaxSettings).always(module.event.xhr.always).done(module.event.xhr.done).fail(module.event.xhr.fail);module.verbose('Created server request',xhr,ajaxSettings);return xhr;}},set:{error:function error(){module.verbose('Adding error state to element',$context);$context.addClass(className.error);},loading:function loading(){module.verbose('Adding loading state to element',$context);$context.addClass(className.loading);requestStartTime=new Date().getTime();}},remove:{error:function error(){module.verbose('Removing error state from element',$context);$context.removeClass(className.error);},loading:function loading(){module.verbose('Removing loading state from element',$context);$context.removeClass(className.loading);}},get:{responseFromXHR:function responseFromXHR(xhr){return $.isPlainObject(xhr)?module.is.expectingJSON()?module.decode.json(xhr.responseText):xhr.responseText:false;},errorFromRequest:function errorFromRequest(response,status,httpMessage){return $.isPlainObject(response)&&response.error!==undefined?response.error:_settings.error[status]!==undefined?_settings.error[status]:httpMessage;},request:function request(){return module.request||false;},xhr:function xhr(){return module.xhr||false;},settings:function settings(){var runSettings;runSettings=_settings.beforeSend.call(context,_settings);if(runSettings){if(runSettings.success!==undefined){module.debug('Legacy success callback detected',runSettings);module.error(error.legacyParameters,runSettings.success);runSettings.onSuccess=runSettings.success;}if(runSettings.failure!==undefined){module.debug('Legacy failure callback detected',runSettings);module.error(error.legacyParameters,runSettings.failure);runSettings.onFailure=runSettings.failure;}if(runSettings.complete!==undefined){module.debug('Legacy complete callback detected',runSettings);module.error(error.legacyParameters,runSettings.complete);runSettings.onComplete=runSettings.complete;}}if(runSettings===undefined){module.error(error.noReturnedValue);}if(runSettings===false){return runSettings;}return runSettings!==undefined?$.extend(true,{},runSettings):$.extend(true,{},_settings);},urlEncodedValue:function urlEncodedValue(value){var decodedValue=window.decodeURIComponent(value),encodedValue=window.encodeURIComponent(value),alreadyEncoded=decodedValue!==value;if(alreadyEncoded){module.debug('URL value is already encoded, avoiding double encoding',value);return value;}module.verbose('Encoding value using encodeURIComponent',value,encodedValue);return encodedValue;},defaultData:function defaultData(){var data={};if(!$.isWindow(element)){if(module.is.input()){data.value=$module.val();}else if(module.is.form()){}else{data.text=$module.text();}}return data;},event:function event(){if($.isWindow(element)||_settings.on=='now'){module.debug('API called without element, no events attached');return false;}else if(_settings.on=='auto'){if($module.is('input')){return element.oninput!==undefined?'input':element.onpropertychange!==undefined?'propertychange':'keyup';}else if($module.is('form')){return'submit';}else{return'click';}}else{return _settings.on;}},templatedURL:function templatedURL(action){action=action||$module.data(metadata.action)||_settings.action||false;url=$module.data(metadata.url)||_settings.url||false;if(url){module.debug('Using specified url',url);return url;}if(action){module.debug('Looking up url for action',action,_settings.api);if(_settings.api[action]===undefined&&!module.is.mocked()){module.error(error.missingAction,_settings.action,_settings.api);return;}url=_settings.api[action];}else if(module.is.form()){url=$module.attr('action')||$context.attr('action')||false;module.debug('No url or action specified, defaulting to form action',url);}return url;}},abort:function abort(){var xhr=module.get.xhr();if(xhr&&xhr.state()!=='resolved'){module.debug('Cancelling API request');xhr.abort();}},reset:function reset(){module.remove.error();module.remove.loading();},setting:function setting(name,value){module.debug('Changing setting',name,value);if($.isPlainObject(name)){$.extend(true,_settings,name);}else if(value!==undefined){if($.isPlainObject(_settings[name])){$.extend(true,_settings[name],value);}else{_settings[name]=value;}}else{return _settings[name];}},internal:function internal(name,value){if($.isPlainObject(name)){$.extend(true,module,name);}else if(value!==undefined){module[name]=value;}else{return module[name];}},debug:function debug(){if(!_settings.silent&&_settings.debug){if(_settings.performance){module.performance.log(arguments);}else{module.debug=Function.prototype.bind.call(console.info,console,_settings.name+':');module.debug.apply(console,arguments);}}},verbose:function verbose(){if(!_settings.silent&&_settings.verbose&&_settings.debug){if(_settings.performance){module.performance.log(arguments);}else{module.verbose=Function.prototype.bind.call(console.info,console,_settings.name+':');module.verbose.apply(console,arguments);}}},error:function error(){if(!_settings.silent){module.error=Function.prototype.bind.call(console.error,console,_settings.name+':');module.error.apply(console,arguments);}},performance:{log:function log(message){var currentTime,executionTime,previousTime;if(_settings.performance){currentTime=new Date().getTime();previousTime=time||currentTime;executionTime=currentTime-previousTime;time=currentTime;performance.push({'Name':message[0],'Arguments':[].slice.call(message,1)||'','Execution Time':executionTime});}clearTimeout(module.performance.timer);module.performance.timer=setTimeout(module.performance.display,500);},display:function display(){var title=_settings.name+':',totalTime=0;time=false;clearTimeout(module.performance.timer);$.each(performance,function(index,data){totalTime+=data['Execution Time'];});title+=' '+totalTime+'ms';if(moduleSelector){title+=' \''+moduleSelector+'\'';}if((console.group!==undefined||console.table!==undefined)&&performance.length>0){console.groupCollapsed(title);if(console.table){console.table(performance);}else{$.each(performance,function(index,data){console.log(data['Name']+': '+data['Execution Time']+'ms');});}console.groupEnd();}performance=[];}},invoke:function invoke(query,passedArguments,context){var object=instance,maxDepth,found,response;passedArguments=passedArguments||queryArguments;context=element||context;if(typeof query=='string'&&object!==undefined){query=query.split(/[\. ]/);maxDepth=query.length-1;$.each(query,function(depth,value){var camelCaseValue=depth!=maxDepth?value+query[depth+1].charAt(0).toUpperCase()+query[depth+1].slice(1):query;if($.isPlainObject(object[camelCaseValue])&&depth!=maxDepth){object=object[camelCaseValue];}else if(object[camelCaseValue]!==undefined){found=object[camelCaseValue];return false;}else if($.isPlainObject(object[value])&&depth!=maxDepth){object=object[value];}else if(object[value]!==undefined){found=object[value];return false;}else{module.error(error.method,query);return false;}});}if($.isFunction(found)){response=found.apply(context,passedArguments);}else if(found!==undefined){response=found;}if($.isArray(returnedValue)){returnedValue.push(response);}else if(returnedValue!==undefined){returnedValue=[returnedValue,response];}else if(response!==undefined){returnedValue=response;}return found;}};if(methodInvoked){if(instance===undefined){module.initialize();}module.invoke(query);}else{if(instance!==undefined){instance.invoke('destroy');}module.initialize();}});return returnedValue!==undefined?returnedValue:this;};$.api.settings={name:'API',namespace:'api',debug:false,verbose:false,performance:true,api:{},cache:true,interruptRequests:true,on:'auto',stateContext:false,loadingDuration:0,hideError:'auto',errorDuration:2000,encodeParameters:true,action:false,url:false,base:'',urlData:{},defaultData:true,serializeForm:false,throttle:0,throttleFirstRequest:true,method:'get',data:{},dataType:'json',mockResponse:false,mockResponseAsync:false,response:false,responseAsync:false,beforeSend:function beforeSend(settings){return settings;},beforeXHR:function beforeXHR(xhr){},onRequest:function onRequest(promise,xhr){},onResponse:false,onSuccess:function onSuccess(response,$module){},onComplete:function onComplete(response,$module){},onFailure:function onFailure(response,$module){},onError:function onError(errorMessage,$module){},onAbort:function onAbort(errorMessage,$module){},successTest:false,error:{beforeSend:'The before send function has aborted the request',error:'There was an error with your request',exitConditions:'API Request Aborted. Exit conditions met',JSONParse:'JSON could not be parsed during error handling',legacyParameters:'You are using legacy API success callback names',method:'The method you called is not defined',missingAction:'API action used but no url was defined',missingSerialize:'jquery-serialize-object is required to add form data to an existing data object',missingURL:'No URL specified for api event',noReturnedValue:'The beforeSend callback must return a settings object, beforeSend ignored.',noStorage:'Caching responses locally requires session storage',parseError:'There was an error parsing your request',requiredParameter:'Missing a required URL parameter: ',statusMessage:'Server gave an error: ',timeout:'Your request timed out'},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:'loading',error:'error'},selector:{disabled:'.disabled',form:'form'},metadata:{action:'action',url:'url'}};})(jQuery,window,document);!function(e,t,s,n){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.search=function(n){var i,r=e(this),a=r.selector||"",o=new Date().getTime(),c=[],u=arguments[0],l="string"==typeof u,d=[].slice.call(arguments,1);return e(this).each(function(){var f,v=e.isPlainObject(n)?e.extend(!0,{},e.fn.search.settings,n):e.extend({},e.fn.search.settings),g=v.className,h=v.metadata,p=v.regExp,m=v.fields,b=v.selector,y=v.error,R=v.namespace,C="."+R,w=R+"-module",x=e(this),F=x.find(b.prompt),j=x.find(b.searchButton),k=x.find(b.results),A=x.find(b.result),q=x.find(b.category),S=this,E=x.data(w),T=!1,D=!1;f={initialize:function initialize(){f.verbose("Initializing module"),f.determine.searchFields(),f.bind.events(),f.set.type(),f.create.results(),f.instantiate();},instantiate:function instantiate(){f.verbose("Storing instance of module",f),E=f,x.data(w,f);},destroy:function destroy(){f.verbose("Destroying instance"),x.off(C).removeData(w);},refresh:function refresh(){f.debug("Refreshing selector cache"),F=x.find(b.prompt),j=x.find(b.searchButton),q=x.find(b.category),k=x.find(b.results),A=x.find(b.result);},refreshResults:function refreshResults(){k=x.find(b.results),A=x.find(b.result);},bind:{events:function events(){f.verbose("Binding events to search"),v.automatic&&(x.on(f.get.inputEvent()+C,b.prompt,f.event.input),F.attr("autocomplete","off")),x.on("focus"+C,b.prompt,f.event.focus).on("blur"+C,b.prompt,f.event.blur).on("keydown"+C,b.prompt,f.handleKeyboard).on("click"+C,b.searchButton,f.query).on("mousedown"+C,b.results,f.event.result.mousedown).on("mouseup"+C,b.results,f.event.result.mouseup).on("click"+C,b.result,f.event.result.click);}},determine:{searchFields:function searchFields(){n&&void 0!==n.searchFields&&(v.searchFields=n.searchFields);}},event:{input:function input(){v.searchDelay?(clearTimeout(f.timer),f.timer=setTimeout(function(){f.is.focused()&&f.query();},v.searchDelay)):f.query();},focus:function focus(){f.set.focus(),v.searchOnFocus&&f.has.minimumCharacters()&&f.query(function(){f.can.show()&&f.showResults();});},blur:function blur(e){var t=s.activeElement===this,n=function n(){f.cancel.query(),f.remove.focus(),f.timer=setTimeout(f.hideResults,v.hideDelay);};t||(D=!1,f.resultsClicked?(f.debug("Determining if user action caused search to close"),x.one("click.close"+C,b.results,function(e){if(f.is.inMessage(e)||T)return void F.focus();T=!1,f.is.animating()||f.is.hidden()||n();})):(f.debug("Input blurred without user action, closing results"),n()));},result:{mousedown:function mousedown(){f.resultsClicked=!0;},mouseup:function mouseup(){f.resultsClicked=!1;},click:function click(s){f.debug("Search result selected");var n=e(this),i=n.find(b.title).eq(0),r=n.is("a[href]")?n:n.find("a[href]").eq(0),a=r.attr("href")||!1,o=r.attr("target")||!1,c=(i.html(),i.length>0&&i.text()),u=f.get.results(),l=n.data(h.result)||f.get.result(c,u);if(e.isFunction(v.onSelect)&&!1===v.onSelect.call(S,l,u))return f.debug("Custom onSelect callback cancelled default select action"),void(T=!0);f.hideResults(),c&&f.set.value(c),a&&(f.verbose("Opening search link found in result",r),"_blank"==o||s.ctrlKey?t.open(a):t.location.href=a);}}},handleKeyboard:function handleKeyboard(e){var t,s=x.find(b.result),n=x.find(b.category),i=s.filter("."+g.active),r=s.index(i),a=s.length,o=i.length>0,c=e.which,u={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(c==u.escape&&(f.verbose("Escape key pressed, blurring search field"),f.hideResults(),D=!0),f.is.visible()){if(c==u.enter){if(f.verbose("Enter key pressed, selecting active result"),s.filter("."+g.active).length>0)return f.event.result.click.call(s.filter("."+g.active),e),e.preventDefault(),!1;}else c==u.upArrow&&o?(f.verbose("Up key pressed, changing active result"),t=r-1<0?r:r-1,n.removeClass(g.active),s.removeClass(g.active).eq(t).addClass(g.active).closest(n).addClass(g.active),e.preventDefault()):c==u.downArrow&&(f.verbose("Down key pressed, changing active result"),t=r+1>=a?r:r+1,n.removeClass(g.active),s.removeClass(g.active).eq(t).addClass(g.active).closest(n).addClass(g.active),e.preventDefault());}else c==u.enter&&(f.verbose("Enter key pressed, executing query"),f.query(),f.set.buttonPressed(),F.one("keyup",f.remove.buttonFocus));},setup:{api:function api(t,s){var n={debug:v.debug,on:!1,cache:!0,action:"search",urlData:{query:t},onSuccess:function onSuccess(e){f.parse.response.call(S,e,t),s();},onFailure:function onFailure(){f.displayMessage(y.serverError),s();},onAbort:function onAbort(e){},onError:f.error};e.extend(!0,n,v.apiSettings),f.verbose("Setting up API request",n),x.api(n);}},can:{useAPI:function useAPI(){return void 0!==e.fn.api;},show:function show(){return f.is.focused()&&!f.is.visible()&&!f.is.empty();},transition:function transition(){return v.transition&&void 0!==e.fn.transition&&x.transition("is supported");}},is:{animating:function animating(){return k.hasClass(g.animating);},hidden:function hidden(){return k.hasClass(g.hidden);},inMessage:function inMessage(t){if(t.target){var n=e(t.target);return e.contains(s.documentElement,t.target)&&n.closest(b.message).length>0;}},empty:function empty(){return""===k.html();},visible:function visible(){return k.filter(":visible").length>0;},focused:function focused(){return F.filter(":focus").length>0;}},get:{inputEvent:function inputEvent(){var e=F[0];return void 0!==e&&void 0!==e.oninput?"input":void 0!==e&&void 0!==e.onpropertychange?"propertychange":"keyup";},value:function value(){return F.val();},results:function results(){return x.data(h.results);},result:function result(t,s){var n=["title","id"],i=!1;return t=void 0!==t?t:f.get.value(),s=void 0!==s?s:f.get.results(),"category"===v.type?(f.debug("Finding result that matches",t),e.each(s,function(s,r){if(e.isArray(r.results)&&(i=f.search.object(t,r.results,n)[0]))return!1;})):(f.debug("Finding result in results object",t),i=f.search.object(t,s,n)[0]),i||!1;}},select:{firstResult:function firstResult(){f.verbose("Selecting first result"),A.first().addClass(g.active);}},set:{focus:function focus(){x.addClass(g.focus);},loading:function loading(){x.addClass(g.loading);},value:function value(e){f.verbose("Setting search input value",e),F.val(e);},type:function type(e){e=e||v.type,"category"==v.type&&x.addClass(v.type);},buttonPressed:function buttonPressed(){j.addClass(g.pressed);}},remove:{loading:function loading(){x.removeClass(g.loading);},focus:function focus(){x.removeClass(g.focus);},buttonPressed:function buttonPressed(){j.removeClass(g.pressed);}},query:function query(t){t=e.isFunction(t)?t:function(){};var s=f.get.value(),n=f.read.cache(s);t=t||function(){},f.has.minimumCharacters()?(n?(f.debug("Reading result from cache",s),f.save.results(n.results),f.addResults(n.html),f.inject.id(n.results),t()):(f.debug("Querying for",s),e.isPlainObject(v.source)||e.isArray(v.source)?(f.search.local(s),t()):f.can.useAPI()?f.search.remote(s,t):(f.error(y.source),t())),v.onSearchQuery.call(S,s)):f.hideResults();},search:{local:function local(e){var t,s=f.search.object(e,v.content);f.set.loading(),f.save.results(s),f.debug("Returned local search results",s),t=f.generateResults({results:s}),f.remove.loading(),f.addResults(t),f.inject.id(s),f.write.cache(e,{html:t,results:s});},remote:function remote(t,s){s=e.isFunction(s)?s:function(){},x.api("is loading")&&x.api("abort"),f.setup.api(t,s),x.api("query");},object:function object(t,s,n){var i=[],r=[],a=t.toString().replace(p.escape,"\\$&"),o=new RegExp(p.beginsWith+a,"i"),c=function c(t,s){var n=-1==e.inArray(s,i),a=-1==e.inArray(s,r);n&&a&&t.push(s);};return s=s||v.source,n=void 0!==n?n:v.searchFields,e.isArray(n)||(n=[n]),void 0===s||!1===s?(f.error(y.source),[]):(e.each(n,function(n,a){e.each(s,function(e,s){"string"==typeof s[a]&&(-1!==s[a].search(o)?c(i,s):v.searchFullText&&f.fuzzySearch(t,s[a])&&c(r,s));});}),e.merge(i,r));}},fuzzySearch:function fuzzySearch(e,t){var s=t.length,n=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),n>s)return!1;if(n===s)return e===t;e:for(var i=0,r=0;i<n;i++){for(var a=e.charCodeAt(i);r<s;){if(t.charCodeAt(r++)===a)continue e;}return!1;}return!0;},parse:{response:function response(e,t){var s=f.generateResults(e);f.verbose("Parsing server response",e),void 0!==e&&void 0!==t&&void 0!==e[m.results]&&(f.addResults(s),f.inject.id(e[m.results]),f.write.cache(t,{html:s,results:e[m.results]}),f.save.results(e[m.results]));}},cancel:{query:function query(){f.can.useAPI()&&x.api("abort");}},has:{minimumCharacters:function minimumCharacters(){return f.get.value().length>=v.minCharacters;},results:function results(){return 0!==k.length&&""!=k.html();}},clear:{cache:function cache(e){var t=x.data(h.cache);e?e&&t&&t[e]&&(f.debug("Removing value from cache",e),delete t[e],x.data(h.cache,t)):(f.debug("Clearing cache",e),x.removeData(h.cache));}},read:{cache:function cache(e){var t=x.data(h.cache);return!!v.cache&&(f.verbose("Checking cache for generated html for query",e),"object"==_typeof(t)&&void 0!==t[e]&&t[e]);}},create:{id:function id(e,t){var s,n,i=e+1;return void 0!==t?(s=String.fromCharCode(97+t),n=s+i,f.verbose("Creating category result id",n)):(n=i,f.verbose("Creating result id",n)),n;},results:function results(){0===k.length&&(k=e("<div />").addClass(g.results).appendTo(x));}},inject:{result:function result(e,t,s){f.verbose("Injecting result into results");var n=void 0!==s?k.children().eq(s).children(b.result).eq(t):k.children(b.result).eq(t);f.verbose("Injecting results metadata",n),n.data(h.result,e);},id:function id(t){f.debug("Injecting unique ids into results");var s=0,n=0;return"category"===v.type?e.each(t,function(t,i){n=0,e.each(i.results,function(e,t){var r=i.results[e];void 0===r.id&&(r.id=f.create.id(n,s)),f.inject.result(r,n,s),n++;}),s++;}):e.each(t,function(e,s){var i=t[e];void 0===i.id&&(i.id=f.create.id(n)),f.inject.result(i,n),n++;}),t;}},save:{results:function results(e){f.verbose("Saving current search results to metadata",e),x.data(h.results,e);}},write:{cache:function cache(e,t){var s=void 0!==x.data(h.cache)?x.data(h.cache):{};v.cache&&(f.verbose("Writing generated html to cache",e,t),s[e]=t,x.data(h.cache,s));}},addResults:function addResults(t){if(e.isFunction(v.onResultsAdd)&&!1===v.onResultsAdd.call(k,t))return f.debug("onResultsAdd callback cancelled default action"),!1;t?(k.html(t),f.refreshResults(),v.selectFirstResult&&f.select.firstResult(),f.showResults()):f.hideResults(function(){k.empty();});},showResults:function showResults(t){t=e.isFunction(t)?t:function(){},D||!f.is.visible()&&f.has.results()&&(f.can.transition()?(f.debug("Showing results with css animations"),k.transition({animation:v.transition+" in",debug:v.debug,verbose:v.verbose,duration:v.duration,onComplete:function onComplete(){t();},queue:!0})):(f.debug("Showing results with javascript"),k.stop().fadeIn(v.duration,v.easing)),v.onResultsOpen.call(k));},hideResults:function hideResults(t){t=e.isFunction(t)?t:function(){},f.is.visible()&&(f.can.transition()?(f.debug("Hiding results with css animations"),k.transition({animation:v.transition+" out",debug:v.debug,verbose:v.verbose,duration:v.duration,onComplete:function onComplete(){t();},queue:!0})):(f.debug("Hiding results with javascript"),k.stop().fadeOut(v.duration,v.easing)),v.onResultsClose.call(k));},generateResults:function generateResults(t){f.debug("Generating html from response",t);var s=v.templates[v.type],n=e.isPlainObject(t[m.results])&&!e.isEmptyObject(t[m.results]),i=e.isArray(t[m.results])&&t[m.results].length>0,r="";return n||i?(v.maxResults>0&&(n?"standard"==v.type&&f.error(y.maxResults):t[m.results]=t[m.results].slice(0,v.maxResults)),e.isFunction(s)?r=s(t,m):f.error(y.noTemplate,!1)):v.showNoResults&&(r=f.displayMessage(y.noResults,"empty")),v.onResults.call(S,t),r;},displayMessage:function displayMessage(e,t){return t=t||"standard",f.debug("Displaying message",e,t),f.addResults(v.templates.message(e,t)),v.templates.message(e,t);},setting:function setting(t,s){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===s)return v[t];v[t]=s;}},internal:function internal(t,s){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===s)return f[t];f[t]=s;}},debug:function debug(){!v.silent&&v.debug&&(v.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,v.name+":"),f.debug.apply(console,arguments)));},verbose:function verbose(){!v.silent&&v.verbose&&v.debug&&(v.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),f.verbose.apply(console,arguments)));},error:function error(){v.silent||(f.error=Function.prototype.bind.call(console.error,console,v.name+":"),f.error.apply(console,arguments));},performance:{log:function log(e){var t,s,n;v.performance&&(t=new Date().getTime(),n=o||t,s=t-n,o=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":s})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500);},display:function display(){var t=v.name+":",s=0;o=!1,clearTimeout(f.performance.timer),e.each(c,function(e,t){s+=t["Execution Time"];}),t+=" "+s+"ms",a&&(t+=" '"+a+"'"),r.length>1&&(t+=" ("+r.length+")"),(void 0!==console.group||void 0!==console.table)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms");}),console.groupEnd()),c=[];}},invoke:function invoke(t,s,n){var r,a,o,c=E;return s=s||d,n=S||n,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),r=t.length-1,e.each(t,function(s,n){var i=s!=r?n+t[s+1].charAt(0).toUpperCase()+t[s+1].slice(1):t;if(e.isPlainObject(c[i])&&s!=r)c=c[i];else{if(void 0!==c[i])return a=c[i],!1;if(!e.isPlainObject(c[n])||s==r)return void 0!==c[n]&&(a=c[n],!1);c=c[n];}})),e.isFunction(a)?o=a.apply(n,s):void 0!==a&&(o=a),e.isArray(i)?i.push(o):void 0!==i?i=[i,o]:void 0!==o&&(i=o),a;}},l?(void 0===E&&f.initialize(),f.invoke(u)):(void 0!==E&&E.invoke("destroy"),f.initialize());}),void 0!==i?i:this;},e.fn.search.settings={name:"Search",namespace:"search",silent:!1,debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,selectFirstResult:!1,apiSettings:!1,source:!1,searchOnFocus:!0,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,showNoResults:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function onSearchQuery(e){},onResults:function onResults(e){},onResultsOpen:function onResultsOpen(){},onResultsClose:function onResultsClose(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",message:".results > .message",category:".category",result:".result",title:".title, .name"},templates:{escape:function escape(e){var t=/[&<>"'`]/g,s=/[&<>"'`]/,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=function i(e){return n[e];};return s.test(e)?e.replace(t,i):e;},message:function message(e,t){var s="";return void 0!==e&&void 0!==t&&(s+='<div class="message '+t+'">',s+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",s+="</div>"),s;},category:function category(t,s){var n="";e.fn.search.settings.templates.escape;return void 0!==t[s.categoryResults]&&(e.each(t[s.categoryResults],function(t,i){void 0!==i[s.results]&&i.results.length>0&&(n+='<div class="category">',void 0!==i[s.categoryName]&&(n+='<div class="name">'+i[s.categoryName]+"</div>"),e.each(i.results,function(e,t){t[s.url]?n+='<a class="result" href="'+t[s.url]+'">':n+='<a class="result">',void 0!==t[s.image]&&(n+='<div class="image"> <img src="'+t[s.image]+'"></div>'),n+='<div class="content">',void 0!==t[s.price]&&(n+='<div class="price">'+t[s.price]+"</div>"),void 0!==t[s.title]&&(n+='<div class="title">'+t[s.title]+"</div>"),void 0!==t[s.description]&&(n+='<div class="description">'+t[s.description]+"</div>"),n+="</div>",n+="</a>";}),n+="</div>");}),t[s.action]&&(n+='<a href="'+t[s.action][s.actionURL]+'" class="action">'+t[s.action][s.actionText]+"</a>"),n);},standard:function standard(t,s){var n="";return void 0!==t[s.results]&&(e.each(t[s.results],function(e,t){t[s.url]?n+='<a class="result" href="'+t[s.url]+'">':n+='<a class="result">',void 0!==t[s.image]&&(n+='<div class="image"> <img src="'+t[s.image]+'"></div>'),n+='<div class="content">',void 0!==t[s.price]&&(n+='<div class="price">'+t[s.price]+"</div>"),void 0!==t[s.title]&&(n+='<div class="title">'+t[s.title]+"</div>"),void 0!==t[s.description]&&(n+='<div class="description">'+t[s.description]+"</div>"),n+="</div>",n+="</a>";}),t[s.action]&&(n+='<a href="'+t[s.action][s.actionURL]+'" class="action">'+t[s.action][s.actionText]+"</a>"),n);}}};}(jQuery,window,document);var reload_after_login=true;function showLoading(){if($('.pace-demo').data('ignore')===true){return;}$('.pace-demo').removeClass('hidden');}function avoidShowLoading(){$('.pace-demo').data('ignore',true);}function hideLoading(){$('.pace-demo').addClass('hidden').data('ignore',false);}$('.ajax').click(function(){if($(this).data('show-loading')===false){avoidShowLoading();}});$.jGrowl.defaults.closerTemplate='<div> </div>';$.jGrowl.defaults.click=function(e,m,o){$(this).trigger("jGrowl.close");};function str_replace(search,replace,subject,count){var i=0,j=0,temp='',repl='',sl=0,fl=0,f=[].concat(search),r=[].concat(replace),s=subject,ra=Object.prototype.toString.call(r)==='[object Array]',sa=Object.prototype.toString.call(s)==='[object Array]';s=[].concat(s);if(count){this.window[count]=0;}for(i=0,sl=s.length;i<sl;i++){if(s[i]===''){continue;}for(j=0,fl=f.length;j<fl;j++){temp=s[i]+'';repl=ra?r[j]!==undefined?r[j]:'':r[0];s[i]=temp.split(f[j]).join(repl);if(count&&s[i]!==temp){this.window[count]+=(temp.length-s[i].length)/f[j].length;}}}return sa?s:s[0];}function arabic_number(number){if(number==null)return number;if(Salla.Settings.arabic_numbers==0){return number;}number=number.toString();number=str_replace('1','',number);number=str_replace('2','',number);number=str_replace('3','',number);number=str_replace('4','',number);number=str_replace('5','',number);number=str_replace('6','',number);number=str_replace('7','',number);number=str_replace('8','',number);number=str_replace('9','',number);number=str_replace('0','',number);return number.toString();}function containerHeight(){var availableHeight=$(window).height()-$('body > .navbar').outerHeight()-$('body > .navbar + .navbar').outerHeight()-$('body > .navbar + .navbar-collapse').outerHeight();$('.page-container').attr('style','min-height:'+availableHeight+'px');}$(function(){$('.panel-collapsed').children('.panel-heading').nextAll().hide();$('.panel-collapsed').find('a[data-action=collapse]').addClass('rotate-270');$('.panel div[data-action=collapse]').click(function(e){e.preventDefault();var $panelCollapse=$(this).nextAll();$(this).parents('.panel').toggleClass('panel-collapsed');$(this).find('a[data-action=collapse]').toggleClass('rotate-270');containerHeight();$panelCollapse.slideToggle(150);});$('.panel [data-action=close]').click(function(e){e.preventDefault();var $panelClose=$(this).parent().parent().parent().parent().parent();containerHeight();$panelClose.slideUp(150,function(){$(this).remove();});});$('.disableEnterKey').bind('keypress',function(e){if(e.keyCode==13){return false;}});$('.notification-link , .notification-header-icon').bind('click',function(){if(!$(this).parent().hasClass('open')){$('.notification-badge').hide();$('#bell').removeClass('bell-swing');$.get($(this).data('link'));}});});function subZeroes(num){var num=num.toString();var value=Number(num);var res=num.toString().split('.');if(num.indexOf('.')===-1){num=value.toString();}else if(res[1].length>1){value=value.toFixed(2);num=value.toString();}return num;}function whatsapp_number(mobile_number,vcard_url,button_color){var is_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);if(is_uiwebview){swal({title:"  ",type:"input",inputValue:mobile_number,confirmButtonText:"  ",confirmButtonColor:button_color,animation:"pop"});}else{window.location.href=vcard_url;}return false;}function instagram_force_login(url){showLoading();$("#instagram_frame").attr("src","https://instagram.com/accounts/logout/");$("#instagram_frame")[0].onload=function(){hideLoading();window.location.href=url;};}function countdownTimerOffer(end,element,txt,end_txt,extra_time){var _second=1000;var _minute=_second*60;var _hour=_minute*60;var _day=_hour*24;var timer;if(typeof txt==='undefined'){txt=" :remain";}end=new Date(end*1000+extra_time*1000);function showRemaining(){var now=new Date();var distance=end-now;if(distance<0){clearInterval(timer);$('#'+element).html(end_txt);return;}var hours=Math.floor(distance/_hour);var minutes=Math.floor(distance%_hour/_minute);var seconds=Math.floor(distance%_minute/_second);var remaintime=pad(hours)+":"+pad(minutes)+":"+pad(seconds);var msg=txt.replace(':remain',remaintime);$('#'+element).html(msg);}function pad(n){return n<10?"0"+n:n;}timer=setInterval(showRemaining,1000);}function saveKeyword(keyword,product_id,search_count,url){$.ajax({url:baseUrl+'/search-track',type:'Post',data:{_token:_token,keyword:keyword,product_id:product_id,result_count:search_count},success:function success(res){console.log(url);if(url){window.location=url;}}});}$(document).ready(function(){$('#searchbox').keyup(function(event){if(event.keyCode===13){event.preventDefault();$('#search').submit();}});var product_search='';$('.ui.search').search({apiSettings:{url:baseUrl+'/search?q={query}&_t='+_token},fields:{results:'results',title:'title',url:'url'},searchFields:['title'],minCharacters:2,cache:false,searchFullText:true,easing:false,onSearchQuery:function onSearchQuery(query){product_search=query;},templates:{message:function message(type,_message){html='<div>   </div>';return html;},standard:function standard(response){var html="";window.dataLayer=window.dataLayer||[];window.dataLayer.push({'event':'store::search','keyword':product_search,'ecommerce':{currencyCode:'SAR',detail:{products:response.results.map(function(product){return{id:product.id_encoded,name:product.title,price:product.value_price};})}}});$.each(response.results,function(index,item){html+='<a href ="#" class="seach_container" data-product-title="'+item.title+'" data-product-id="'+item.id+'" data-url="'+item.url+'" data-total-result="'+response.results.length+'" >'+'<div class="media">'+'<div class="media-left">'+'<img src="'+item.image+'" class="img-rounded rounded thumb img-lg" alt="">'+'</div>'+'<div class="media-body">'+'<p class="media-heading">'+item.title+'</p>'+'<span class="text-success">'+item.price+' </span>'+'</div>'+'<div class="media-right media-middle">'+'</div>'+'</div>'+'</a>';});return html;}}});$(document).on("click","a.seach_container",function(){var keyword=$(this).attr('data-product-title');var product_id=$(this).attr('data-product-id');var url=$(this).attr('data-url');var data_total_result=$(this).attr('data-total-result');saveKeyword(keyword,product_id,data_total_result,url);});$('.toggle-search').on('click',function(){$('#search-bar').toggleClass('hide');$(this).find('i').toggleClass('icon-search4').toggleClass('icon-cross2');if(!$('.search-bar').hasClass()){$("#searchbox").focus();}});var loadingLoginModel=false;function showLoginModal(event){if(event&&event.detail&&event.detail.reload===0){reload_after_login=false;}if(loadingLoginModel){return;}loadingLoginModel=true;window.dataLayer=window.dataLayer||[];window.dataLayer.push({'event':'auth-required'});if($('body').hasClass('mobile-webview')){loadingLoginModel=false;return;}$.get(baseUrl+'/login').done(function(data){loadingLoginModel=false;$('#div_ajax').html(data);$('#modal_login').modal();}).fail(function(jqXHR,textStatus,errorThrown){loadingLoginModel=false;});}document.addEventListener('auth',showLoginModal);$('[data-login-link]').on('click',function(e){e.preventDefault();document.dispatchEvent(new Event('auth'));});$('.allowAlphabat').keypress(function(e){var regex=new RegExp("^[a-zA-Z\\-\\s]+$");var str=String.fromCharCode(!e.charCode?e.which:e.charCode);if(regex.test(str)){return true;}e.preventDefault();return false;});$(".count-down-timer").each(function(){var element=$(this).attr('id');var end_time=$(this).data('end-date');var counter_down_txt=$(this).data('txt');var deadline_txt=$(this).data('end-txt');var extra_time=$(this).data('extra-time');if(typeof extra_time==='undefined'){extra_time=0;}countdownTimerOffer(end_time,element,counter_down_txt,deadline_txt,extra_time);});$('.input_date_picker').calendar({minDate:moment(),className:{prevIcon:'sicon-arrow-left left',nextIcon:'sicon-arrow-right right',table:'ui celled center aligned unstackable table text-ltr'},type:'date',formatter:{date:function date(_date3,settings){if(!_date3)return'';return _date3.year()+'-'+(_date3.month()+1)+'-'+_date3.date();}},text:{days:['','','','','','',''],months:["","","","","","","","","","","",""]}});$('.input_date_time_picker').calendar({minDate:moment(),className:{prevIcon:'sicon-arrow-left left',nextIcon:'sicon-arrow-right right',table:'ui celled center aligned unstackable table text-ltr'},formatter:{date:function date(_date4,settings){if(!_date4)return'';return _date4.year()+'-'+(_date4.month()+1)+'-'+_date4.date();}},text:{days:['','','','','','',''],months:["","","","","","","","","","","",""]}});$('#birth_date_picker').calendar({maxDate:moment(),initialDate:moment(),className:{prevIcon:'sicon-arrow-left left',nextIcon:'sicon-arrow-right right',table:'ui celled center aligned unstackable table text-ltr'},type:'date',formatter:{date:function date(_date5,settings){if(!_date5)return'';return _date5.year()+'-'+(_date5.month()+1)+'-'+_date5.date();}},text:{days:['','','','','','',''],months:["","","","","","","","","","","",""]}});$('.input_time_picker').calendar({type:'time',className:{prevIcon:'sicon-arrow-left left',nextIcon:'sicon-arrow-right right',table:'ui celled center aligned unstackable table text-ltr'}});$('.input_datetime_picker').each(function(){var self=$(this),times=self[0].hasAttribute('data-order-time')?JSON.parse(self.attr('data-order-time')):{},tz=self[0].hasAttribute('data-timezone')?self.attr('data-timezone'):'+0300',disabledDaysOfWeek=[],hasRange=self[0].hasAttribute('data-from-date-time');if(!$.isEmptyObject(times)){moment.weekdays().forEach(function(item,index){if(!times.hasOwnProperty(item.toLowerCase())){disabledDaysOfWeek.push(index);}});}function getDayName(day){return moment.weekdays()[day].toLowerCase();}function isDayExistsInTimes(dayName){return!$.isEmptyObject(times)&&times.hasOwnProperty(dayName)&&times[dayName][0];}function getTimeRangeByDay(dayName){var timeRange=times[dayName][0].split('-');return{minHours:parseInt(timeRange[0].split(':')[0]),maxHours:parseInt(timeRange[1].split(':')[0]),minMinutes:parseInt(timeRange[0].split(':')[1]),maxMinutes:parseInt(timeRange[1].split(':')[1])};}self.calendar({minDate:hasRange?moment(self.attr('data-from-date-time')).utcOffset(tz):moment().utcOffset(tz),maxDate:hasRange?moment(self.attr('data-to-date-time')).utcOffset(tz):null,className:{prevIcon:'sicon-arrow-left left',nextIcon:'sicon-arrow-right right',table:'ui celled center aligned unstackable table text-ltr'},formatter:{date:function date(_date6,settings){if(!_date6)return'';return _date6.year()+'-'+(_date6.month()+1)+'-'+_date6.date();}},text:{days:['','','','','','',''],months:["","","","","","","","","","","",""]},disabledDaysOfWeek:disabledDaysOfWeek,setInputValueOnMode:'minute',allowArrowsOnlyOnDays:true,enabledHours:function enabledHours(date){var dayName=getDayName(date.day());if(!isDayExistsInTimes(dayName)){return true;}var day=getTimeRangeByDay(dayName);var now=moment().utcOffset(tz);if(moment().utcOffset(tz).isSame(date,'day')&&now.hours()>date.hours()){return false;}if(day.minHours<=date.hours()&&day.maxHours>=date.hours()){return true;}return false;},enabledMinutes:function enabledMinutes(date){var dayName=getDayName(date.day());if(!isDayExistsInTimes(dayName)){return true;}var now=moment().utcOffset(tz);if(moment().utcOffset(tz).isSame(date,'day')&&now.hours()===date.hours()&&now.minutes()>date.minutes()){return false;}var day=getTimeRangeByDay(dayName);if(day.minHours===date.hours()&&day.minMinutes>date.minutes()){return false;}if(day.maxHours===date.hours()&&day.maxMinutes<date.minutes()){return false;}return true;}});});$(".allowEnglishOnly").keypress(function(event){var ew=event.which;if(ew==32)return true;if(48<=ew&&ew<=57)return true;if(65<=ew&&ew<=90)return true;if(97<=ew&&ew<=122)return true;return false;});});$(".UploadForm").on('change',function(){var UploadForm=$(this);UploadForm.on('submit',function(e){e.preventDefault();UploadForm.find('.image-loading').removeClass('hide');var myfile=UploadForm.find("input:file").attr('id');var fileInput=document.querySelector('#'+myfile);var file=fileInput.files[0];var formData=new FormData();formData.append(myfile,file);formData.append("_token",$(".UploadForm [name^='_token']").val());formData.append("id",$(".UploadForm [name^='id']").val());$.ajax({type:'POST',url:UploadForm.attr('action'),data:formData,cache:false,contentType:false,processData:false,success:function success(res){UploadForm.find('.image-loading').addClass('hide');UploadForm.find('.img-holder-ajax').removeClass('hide').find('img').attr('src',res.filePath);},error:function error(res){UploadForm.find('.image-loading').addClass('hide');$('#publish').prop('disabled',true);}});});UploadForm.submit();});function checkValue(val){return val!==null?val:'';}function scrolltoElem(scrollmem){$('html, body').animate({scrollTop:scrollmem.offset().top},1000);}
function validateInp(options){var valid=0;$.map(options,function(item,index){var inpID=item.inpID;switch(item["case"]){case'case 1':break;default:if($.trim(inpID.val()).length==0){inpID.closest('div.form-group').addClass('has-error');valid=valid+1;}else{inpID.closest('div.form-group').removeClass('has-error');valid=valid+0;}}});if(valid==0)return true;else return false;}String.prototype.replaceArray=function(find,replace){var replaceString=this;var regex;for(var i=0;i<find.length;i++){regex=new RegExp(find[i],"g");replaceString=replaceString.replace(regex,replace[i]);}return replaceString;};String.prototype.toArabicDigits=function(){var find=['','','','','','','','','','',' ','-','/','|','~'];var replace=['0','1','2','3','4','5','6','7','8','9','','','','',''];return this.replaceArray(find,replace);};function parseArabicNumbers(id,dot){document.getElementById(id).value=document.getElementById(id).value.toArabicDigits();var new_val=document.getElementById(id).value.toArabicDigits();if(new_val>=0){if(new_val!=0){if(dot==1){document.getElementById(id).value=Number(new_val).toString();document.getElementById(id).value=document.getElementById(id).value.replace(/^0+/,'');}else{document.getElementById(id).value=new_val;document.getElementById(id).value=document.getElementById(id).value;}}else{document.getElementById(id).value=new_val;}}else{document.getElementById(id).value="";}return true;}function showPoll(position,div){$.ajax({method:'POST',url:baseUrl+'/polls/show',data:{_token:_token,position:position},success:function success(response){$('#'+div).html(response);},error:function error(_error){}});}function fromArabicToEnglishNumbers(value){return value.toArabicDigits();}$(document).ready(function(){var categoriesNav=$('body.salla-default .categories-nav'),mobileScreenOffset=992;if($('.categories-nav ul li a.active').length){$('.categories-nav ul').scrollTo($('.categories-nav ul li a.active'),0,{offset:-180});}else{$('head').append('<style>.categories-nav::after{background: none}</style>');}if($('.categories-nav').length>0){var last_category_offset=$('.categories-nav ul li:last').offset();if(last_category_offset!==undefined&&last_category_offset.left<=0){$('head').append('<style>.categories-nav::before{background:-webkit-linear-gradient(left, #eee, rgba(238, 238, 238, 0)); background:linear-gradient(to right, #eee, rgba(238, 238, 238, 0))}</style>');}}
if(categoriesNav.find('.has-children').length){var hideMenu=function hideMenu(){$('.categories-nav--mobile').removeClass('active');$('body').removeClass('nav-open');};var storeCategories=$('.main-menu'),slideSpeed=150;var offersLink=categoriesNav.find('#offers').length?$('li#offers').clone().html():'',navToggler='<li id="mobile_nav_toggle" class="sub-nav__menu"><button class="btn"><i class="sicon-menu mr-5"></i>  </button></li>';categoriesNav.before("<nav class=\"categories-nav categories-nav--fake\"><ul> <li>".concat(offersLink,"</li> ").concat(navToggler,"</ul></nav>"));categoriesNav.addClass('categories-nav--mobile');storeCategories.find('li.has-children').each(function(){var parentElement=$(this),showAllText=' ',parentURL=parentElement.find('> a').attr('href'),parentChildren=parentElement.find('> ul');parentElement.find('> a').removeAttr('href');parentChildren.prepend("<li class=\"link-holder\"><a href=\"".concat(parentURL,"\">").concat(showAllText,"</a></li>"));parentElement.on('click',function(ev){ev.stopPropagation();$(this).toggleClass('active').find('.has-children.active').removeClass('active');$(this).siblings().removeClass('active').find('ul').slideUp(slideSpeed);$(this).hasClass('active')?$(this).children('ul:first').slideDown(slideSpeed):$(this).find('ul').slideUp(slideSpeed);});});$('#mobile_nav_toggle .btn').on('click',function(e){e.preventDefault();$('.categories-nav--mobile').toggleClass('active');$('body').addClass('nav-open');});$(document).mouseup(function(e){if(!storeCategories.is(e.target)&&storeCategories.has(e.target).length===0){hideMenu();}});$(window).resize(function(){if($(this).width()>mobileScreenOffset&&$('body').hasClass('nav-open')){hideMenu();}}).resize();}});